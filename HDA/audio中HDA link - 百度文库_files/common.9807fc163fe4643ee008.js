(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(t,e,o){"use strict";var n,i,r,c;function a(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}o.d(e,"a",(function(){return s})),o.d(e,"d",(function(){return v})),o.d(e,"e",(function(){return m})),o.d(e,"f",(function(){return b})),o.d(e,"b",(function(){return y})),o.d(e,"c",(function(){return g})),o.d(e,"g",(function(){return _}));var s={TICKET:1,CASH:2,VIP_RIGHT:3,PRIVATE:4,SECRET:5},l=window.pageData,u=l.wkSmallflow,p=void 0===u?{}:u,f=l.docInfo2019,d=void 0===f?{}:f,h=3;2==+(null==p||null===(n=p.testData)||void 0===n||null===(i=n[11])||void 0===i?void 0:i.wkWeb2781)&&s.CASH===(null==d||null===(r=d.doc_info)||void 0===r?void 0:r.doc_type)&&(h=2);var v=262,m=h,b=106,y=(a(c={},s.TICKET,"ticket"),a(c,s.CASH,"pay"),a(c,s.VIP_RIGHT,"pro"),a(c,s.PRIVATE,"private"),c),g={1:"版权说明：本文档为用户在百度文库独家发布，收益归属版权方，禁止转载",2:'版权说明：本文档已使用 <a href="https://wenku.baidu.com/ndtopic/identity" class="cr-url" target="_blank">版权认证</a> 服务，收益归属版权方，禁止转载',3:'版权说明：本文档已使用 <a href="https://wenku.baidu.com/shopmis#/rightMonitor/protectIndex" class="cr-url" target="_blank">区块链存证</a>服务，收益归属版权方，禁止转载',4:"版权说明：本文档为百度文库签约机构发布，收益归属版权方，禁止转载",5:"版权说明：本文档由用户提供并上传，收益归属内容提供方，若内容存在侵权，请进行举报或认领"};function _(t){return w(t+="",["1","4","10","11","9"])?"word":w(t,["3","6","14","15"])?"ppt":w(t,["2","5"])?"excel":w(t,["12"])?"vsd":w(t,["7"])?"pdf":w(t,["8"])?"txt":w(t,["16"])?"epub":w(t,["19"])?"cad":w(t,["13"])?"rtf":w(t,["20"])?"xmind":"unknow"}function w(t,e){for(var o=0;o<e.length;o++)if(e[o]===t)return!0;return!1}},,function(t,e,o){"use strict";o.d(e,"a",(function(){return H}));var n=o(13),i=o.n(n),r=o(5),c=o(114),a=o(18);var s={isVip:Boolean(window.pageData.vipInfo.global_vip_status),docInfo2019:window.pageData.docInfo2019,visible:!1,visibleTranslate:!1,isSendToPhoneActivated:!1,isCopyActivated:!1,selectedText:"",sendCount:a.default.get("Send_Count"),lastStatus:{x:0,y:0}},l={selectedTextTrim:function(t){return t.selectedText.trim()},formatedText:function(t,e){var o="&#10;--------------------------------------------------------&#10;作者："+t.docInfo2019.creator_info.tname+"&#10;链接："+location.origin+location.pathname+"&#10;来源：百度文库&#10;著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。";return e.selectedTextTrim+function(t){var e=document.createElement("div");e.innerHTML=t;var o=e.innerText||e.textContent;return e=null,o}(o)},visibleSendToPhoneDialog:function(t){var e=t.isSendToPhoneActivated,o=t.isVip,n=l.selectedTextTrim;return!(!e||!n)&&(o?n.length<=1e4:n.length>=100&&Number(t.sendCount)<=5)},visibleSendToPhoneQrcode:function(t,e){var o=t.isSendToPhoneActivated,n=e.visibleSendToPhoneDialog,i=e.selectedTextTrim;return!(!o||!i)&&!n}},u={namespaced:!0,state:s,getters:l,mutations:{setVisible:function(t,e){t.visible=e},setVisibleTranslate:function(t,e){t.visibleTranslate=e},setIsSendToPhoneActivated:function(t,e){t.isSendToPhoneActivated=e},setIsCopyActivated:function(t,e){t.isCopyActivated=e},setSendCount:function(t,e){t.sendCount=e,a.default.set("Send_Count",String(e),{path:"/",expires:1})},setSelectedText:function(t,e){t.selectedText=e},setLastStatus:function(t,e){t.lastStatus=e}},actions:{}};var p,f,d,h=(p=window.pageData,{namespaced:!0,getters:{ticketNeed:function(t,e,o){var n=o.priceInfo,i=o.wealthInfo;return Math.max(n.docTicket-i.uticket)},wealthNeed:function(t,e,o){return e.ticketNeed*o.wealthInfo.exchangeRate}},state:{title:(null==(d=(null==p||null===(f=p.docInfo2019)||void 0===f?void 0:f.doc_info)||{})?void 0:d.title)||"",docType:null==d?void 0:d.doc_type,coverUrl:(null==d?void 0:d.cover_url)||"",docId:(null==d?void 0:d.show_doc_id)||"",typeName:(null==d?void 0:d.typeName)||"unknow",size:+(null==d?void 0:d.size)||0,downloadToken:(null==d?void 0:d.download_token)||"",isVipFreeDoc:(null==d?void 0:d.is_vip_free_doc)||!1,isSecretDownloadable:(null==d?void 0:d.is_downloadable)||0}}),v=o(6),m=o(11),b=o(8);var y=function(t){var e,o=(null==t?void 0:t.docInfo2019)||{},n=o.doc_info||{},r=(null==o?void 0:o.price_info)||{},c=Boolean(null==t||null===(e=t.vipInfo)||void 0===e?void 0:e.global_vip_status),a=r.is_package?r.is_discount_doc&&c?"CASH_DISCOUNT":"CASH_PACK":r.is_discount_doc?"CASH_DISCOUNT":r.pay_price?"CASH_NORMAL":"",s=n.doc_type===b.a.CASH,l=Object(m.b)(r.pay_price),u=Object(m.b)(r.vip_price),p=Object(m.b)(r.confirm_price),f=(null==r?void 0:r.shopVoucherInfo)||{},d=!!(null==r?void 0:r.high_price_doc);return{namespaced:!0,state:{isPayDoc:s,cashType:a,ispaied:(null==r?void 0:r.ispaied)||0,docTicket:(null==r?void 0:r.doc_ticket)||0,isDiscountDoc:(null==r?void 0:r.is_discount_doc)||0,isPackage:(null==r?void 0:r.is_package)||0,originalPrice:l,priceVip:u,priceNotVip:p,payPrice:r.pay_price,confirmPrice:+(null==r?void 0:r.confirm_price)||0,vipPrice:(null==r?void 0:r.vip_price)||0,isDownloadable:(null==r?void 0:r.is_downloadable)||0,promotionInfo:(null==r?void 0:r.act_info)||{},shopVoucherInfo:f,ishighPriceDoc:d},getters:{promotionPrice:function(t){return t.promotionInfo.act_price||0},visiblePromotion:function(t,e){var o=t.cashType,n=t.ispaied;return e.promotionPrice&&!(!c&&"CASH_PACK"===o)&&!n},price:function(t,e){var o=t.priceVip,n=t.priceNotVip,i=t.shopVoucherInfo,r=e.promotionPrice,a=i.shopConfirmPrice;return a?Object(m.b)(a):r?Object(m.b)(r):c?o:n},visibleCoupon:function(t){var e=t.shopVoucherInfo;return Boolean(e&&e.couponId)}},mutations:{setCouponIsDraw:function(t,e){var o=(window||{}).wkCommonLogParam;(void 0===o?{}:o).coupon_drawed=e?1:0,i.a.set(t.shopVoucherInfo,"isDraw",e)}},actions:{drawCoupon:function(t){var e=t.state,o=t.commit,n={voucherType:e.shopVoucherInfo.couponId},i=new FormData;for(var r in n)i.append(r,n[r]);return v.wkAxios.post("/user/voucher/draw",i).then((function(){o("setCouponIsDraw",!0)}))}}}}(window.pageData);function g(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function _(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var w,C,O=["您的账号因为上传了含广告性质的文档而被封禁，暂时不能进行任何操作","您的账号因为上传了大量低质量的文档而被封禁，暂时不能进行任何操作","您的账号因为涉嫌刷分作弊而被封禁，暂时不能进行任何操作","您的账号因为上传了包含色情、反动等不健康内容的文档而被封禁，暂时不能进行任何操作","您的账号因为上传了包含违规内容的文档而被封禁，暂时不能进行任何操作","您的帐号因为恶意举报而被封禁，暂时不能进行任何操作"];!function(t){t[t.ADD=0]="ADD",t[t.QUALITY=1]="QUALITY",t[t.CHEAT=2]="CHEAT",t[t.HEATHY=3]="HEATHY",t[t.NO_RULE=4]="NO_RULE",t[t.REPORT=5]="REPORT"}(w||(w={})),function(t){t[t.NOREQ=0]="NOREQ",t[t.PENDING=1]="PENDING",t[t.END=2]="END"}(C||(C={}));var j=function(t){var e,o,n,i=null==t||null===(e=t.mixVipAndUserInfo)||void 0===e?void 0:e.userInfo,r={setNeedVcode:function(t,e){t.needVcode=e},setLimitedInfo:function(t,e){var o=e.data,n=void 0===o?{}:o,i=e.status,r=void 0===i?C.END:i;t.limitedInfo={status:r,data:n}}};return{namespaced:!0,state:{isCreater:!!(null==t||null===(o=t.docInfo2019)||void 0===o||null===(n=o.doc_info)||void 0===n?void 0:n.is_creater),headicon:(null==i?void 0:i.headicon)||"",displayname:(null==i?void 0:i.displayname)||"",needVcode:!1,limitedInfo:{status:C.NOREQ,data:{}}},getters:{limitedInfo:function(t){var e,o=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?g(Object(o),!0).forEach((function(e){_(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):g(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},null===(e=t.limitedInfo)||void 0===e?void 0:e.data);return o.lockReasonDetail=O[+o.lockReason-1]||O[w.NO_RULE],o.lockReasonDetail+=+o.lockDay>0?"，封禁天数".concat(o.lockDay,"天，请耐心等待解封"):"",o}},mutations:r,actions:{getLimitedInfo:function(t){var e,o=t.commit,n=t.state;return(null==n||null===(e=n.limitedInfo)||void 0===e?void 0:e.status)!==C.NOREQ?null:(o("setLimitedInfo",{status:C.PENDING}),v.default.get("/user/interface/login?t=".concat((new Date).getTime())).then((function(t){var e=(null==t?void 0:t.data)||{};o("setLimitedInfo",{data:e})})))}}}}(window.pageData),P=o(19);var k=function(t){var e=Object(P.d)((null==t?void 0:t.vipInfo)||{}),o=e.renewalVipInfo,n=void 0===o?{}:o,i=e.isClassicVip,r=void 0!==i&&i,c=e.isJiaoyuVip,a=void 0!==c&&c,s=e.userType,l=void 0===s?1:s,u=n.jiaoyuVipInfo,p=void 0===u?{}:u,f=n.vipInfo,d=void 0===f?{}:f,h=Math.max(p.leftDay||0,d.leftDay||0),v=!(!+p.isContractPay&&!+d.isContractPay),m=+n.normalDownloadTicketTotal||0,b=+n.proDownloadTicketTotal||0,y=m+b;return{namespaced:!0,state:{isVip:(null==e?void 0:e.globalVipStatus)||0,isClassicVip:r,isJiaoyuVip:a,userType:l,leftDay:h,isRenewal:v,proDownTicketTotal:b,norDownTicketTotal:m,ticketTotal:y},mutations:{}}}(window.pageData),x={namespaced:!0,getters:{curGood:function(t){var e=t.goodList,o=t.curGoodId;return e.find((function(t){return t.goodsId===o}))||{}},voucherList:function(t){return t.voucherInfo[t.curGoodId]||[]},vipPrice:function(t,e,o){var n=t.curVoucher,i=e.curGood,r=o.priceInfo,c=o.docInfo.docType,a=r.isPackage;if(2===c&&a)return i.salePrice;var s=n.voucherPrice||0;return i.salePrice-s||0},docPrice:function(t,e,o){t.curVoucher;var n=o.vipInfo,i=o.priceInfo,r=o.docInfo.docType,c=n.isVip,a=i.vipPrice,s=i.confirmPrice;return 2!==r?"":c?a:s}},state:{goodList:[],curGoodId:9,autoRenewal:!1,voucherInfo:{},curVoucher:{}},mutations:{setGoodList:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.goodList=e},setCurGoodId:function(t,e){t.curGoodId=e},setRenewal:function(t,e){t.autoRenewal=e},setVoucherInfo:function(t,e){t.voucherInfo=e},setCurVoucher:function(t,e){t.curVoucher=e}}},S=o(46),I=o(12),T=o(3),D=o(2),V=o(55),E=o(112),R=o(17);var L,A,B=new(o.n(R).a),F={fetchRelativeCourseInfo:function(t){var e=t.getters,o=t.commit;v.wkAxios.get("/rec/interface/getreccourses",{params:{docId:e.docId}}).then((function(t){o("setRelativeCourseInfo",t)}))},fetchRelativeRecommendInfo:function(t){var e=t.getters,o=t.commit;v.wkAxios.get("/browse/interface/docrec",{params:{doc_id:e.docId}}).then((function(t){o("setRelativeRecommendInfo",t)}))},setViewRecord:function(t){var e,o,n,i=t.getters.docId,r=Math.floor((new Date).getTime()/1e3);return v.wkAxios.get("/user/interface/jiaoyusession",{params:{source:"pc",action:"set",mark:JSON.stringify((e={},o=i,n=r,o in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n,e))}}).catch((function(t){var e,o;console.log("浏览记录上传失败->".concat((null==t||null===(e=t.status)||void 0===e?void 0:e.code)&&(null==t||null===(o=t.data)||void 0===o?void 0:o.msg)||"网络错误"))}))},clickCoreBtn:function(t,e){var o=t.state,n=t.getters,i=t.dispatch,r=t.commit,c=e.from,a=window.BCat_2030;a&&a.miaowu&&a.miaowu({extraData:"download",subid:"pcdownload"});var s=o.priceInfo,l=o.vipInfo,u=o.isLogin,p=s.cashType,f=s.ispaied,d=s.shopVoucherInfo,h=n.docInfo2019,v=n.docId,m=n.isVip,y=n.docValueType,g=n.ticketDocSubType,_=n.wkSmallflow,w=n["priceInfo/visiblePromotion"],C=n["priceInfo/visibleCoupon"],O={summary:"Inf",docBtns:"Toolbar",toolbarCouponTip:"toolbarCouponTip",searchBox:"searchBox",topBar:"topBar",foldPageCoupon:"foldPageCoupon",foldpage:"_foldpage"}[c],j="",P=h.doc_info;if(!P.is_creater){if(C&&!d.isDraw)return void(u?i("excuteDrawCoupon",{from:c}):(E.a.addAct("drawCouponAndToBuy",{from:c}),B.log()));if("CASH"===y&&!f&&["CASH_PACK","CASH_DISCOUNT"].indexOf(p)>-1){j="ViewpaydiscountDownload".concat({summary:"Inf",docBtns:"Toolbar",toolbarCouponTip:"toolbarCouponTip",searchBox:"searchBox",topBar:"topBar",foldPageCoupon:"foldPageCoupon",foldpage:"_foldpage"}[c]),w&&(j+="_promotionDoc_"),D.log.xsend(102741,{pos:"coreBtn",idx:3});var k={id:v},x=(null==_?void 0:_.testDataStr)&&JSON.parse(null==_?void 0:_.testDataStr)||{};null!=x.wk2860&&(k.wk2860=x.wk2860);var V=Object(I.b)("/ndcashier/browse/doccashier",k,j);return void(u||1==+x.wk2860?location.href=V:B.log((function(){location.href=V})))}var R=b.a.VIP_RIGHT===P.doc_type,L=Boolean(m&&R&&l.proDownTicketTotal<1);if(!m&&R||L){var A={searchBox:"ViewproDownloadXd",summary:"ViewproDownloadInf",topBar:"ViewproFullscreenDownload",docBtns:"ViewproDownloadToolbar",toolbarCouponTip:"ViewproDownloadToolbarCouponTip",foldPageCoupon:"foldPageCoupon",foldpage:"_foldpage"}[c]+"_"+T.Util.Common.getParam("fr");D.log.xsend(102741,{pos:"coreBtn",idx:4});var F=Object(I.b)("/ndbusiness/browse/wenkuvipcashier",{},A);return void(location.href=F)}if(Boolean(!u&&b.a.TICKET===P.doc_type&&"TICKET_ZERO"!==g)){var N={searchBox:"view_xd_download_add",summary:"sharedoc_BasicCardDownload_newpage",topBar:"sharedoc_FullscreenDownload_newpage",docBtns:"view_toolbar_download_add",toolbarCouponTip:"view_toolbar_coupontip_add",foldPageCoupon:"foldPageCoupon",foldpage:"_foldpage"}[c]+"_"+T.Util.Common.getParam("fr"),M=Object(I.b)("/ndbusiness/browse/wenkuvipcashier",{},N);return void(location.href=M)}}j="Viewpay_".concat(O),w&&(j+="_promotionDoc_"),r("setCcSuffix",j),S.a.createDownload().download()},excuteDrawCoupon:function(t,e){var o=t.state,n=t.getters,i=t.dispatch,r=(t.commit,e.from),c=o.isLogin,a=n.docId;i("priceInfo/drawCoupon").then((function(){Object(V.a)({type:"success",content:"领取成功"}),E.a.delAct("drawCouponAndToBuy");var t="ViewpayCouponDownload".concat({summary:"Inf",docBtns:"Toolbar",toolbarCouponTip:"toolbarCouponTip",searchBox:"searchBox",topBar:"topBar",foldPageCoupon:"foldPageCoupon",foldpage:"_foldpage"}[r]);D.log.xsend(102741,{pos:"coreBtn",idx:6});var e=Object(I.b)("/ndcashier/browse/doccashier",{id:a},t);c?location.href=e:B.log((function(){location.href=e}))})).catch((function(t){var e=t.status;Object(V.a)({type:"warning",content:null==e?void 0:e.msg})}))},handleActsBeforeLogin:function(t,e){var o=t.state,n=t.getters,i=t.dispatch,r=E.a.getAct("drawCouponAndToBuy"),c=o.isLogin,a=n["priceInfo/visibleCoupon"];r&&c&&a&&i("excuteDrawCoupon",r.data)}};function N(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function M(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?N(Object(o),!0).forEach((function(e){$(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):N(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function $(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var H={SETVIEWRECORD:"setViewRecord"};i.a.use(r.default);var U=window.eventBus=new c.default,G=window.pageData;e.b=new r.default.Store({state:{eventBus:U,curLastPage:1,count:0,pageData:G,scrollObject:{top:0,left:0},commentInfo:{},fixBox:{bottom:!1,fixed:!1},foldPage:{unfold:0},showNoAdDialog:!1,isLogin:(null==G||null===(L=G.mixVipAndUserInfo)||void 0===L||null===(A=L.userInfo)||void 0===A?void 0:A.isLogin)||!1,wealthInfo:{wealth:0,uticket:0,ticket:0,exchangeRate:0,proDownloadTicket:0},orgVipInfo:{wealth:0,pay:0,code:4},ccSuffix:"",dataFormatConvert:{},relativeSearch:{had:!1,list:[]},showFirstClickTag:!1},getters:{tplName:function(t){return t.pageData.tplName},giftInfo:function(t){return t.pageData.giftInfo||{}},activity:function(t){return t.pageData.activity||{}},antiClass:function(t){return t.pageData.antiClass},docId:function(t){return t.pageData.docInfo2019.doc_info.show_doc_id},isVip:function(t){return Boolean(t.pageData.vipInfo.global_vip_status)},isClassicVip:function(t,e){return e.vipInfo.isClassicVip},isWenkuVip:function(t,e){return e.vipInfo.isWenkuVip},isJiaoyuVip:function(t,e){return e.vipInfo.isJiaoyuVip},docCopyable:function(t){return"10"!==t.pageData.docInfo2019.doc_info.flag},docInfo2019:function(t){return t.pageData.docInfo2019},singlePaymentDoc:function(t){var e,o,n;return 10==+(null===(e=t.pageData)||void 0===e||null===(o=e.docInfo2019)||void 0===o||null===(n=o.doc_info)||void 0===n?void 0:n.flag)},readerInfo2019:function(t){return t.pageData.readerInfo2019},creatorInfo:function(t,e){return e.docInfo2019.creator_info},relativeRecommendInfo:function(t){return t.pageData.relativeRecommendInfo||{}},vipInfo:function(t){return t.pageData.vipInfo},mixVipAndUserInfo:function(t){return t.pageData.mixVipAndUserInfo},bizUserInfo:function(t,e){return e.mixVipAndUserInfo.userInfo},relativeCourseInfo:function(t){return t.pageData.relativeCourseInfo||{}},myShopInfo:function(t){return t.pageData.myShopInfo||{}},shopInfo:function(t,e){return e.creatorInfo.shop_info},viewControl:function(t,e){return t.pageData.viewControl||{}},wkSmallflow:function(t){return t.pageData.wkSmallflow||{}},testData11:function(t,e){var o,n=e.wkSmallflow;return(null==n||null===(o=n.testData)||void 0===o?void 0:o[11])||{}},activityInfo:function(t){return t.pageData.activityInfo||{}},channelId:function(t){return t.pageData.channelId},skinViewStrategy:function(t){return t.pageData.skinViewStrategy||{}},zoomControl:function(t){return t.pageData.zoomControl||{}},ssr:function(t){return t.pageData.ssr||0},wkAdBlockStatus:function(t){return t.pageData.wkAdBlockStatus},canReadAll:function(t,e){var o=e.readerInfo2019,n=+o.free_page==+o.page;return n?1:0},isDownloadable:function(t,e){var o=e.docInfo2019,n=void 0===o.price_info.is_downloadable||1==+o.price_info.is_downloadable;return n?1:0},readallDownloadable:function(t,e){return[e.canReadAll?1:0,e.isDownloadable?1:0].join("-")},token:function(t){return t.pageData.token},isSecret:function(t,e){var o,n=e.docInfo2019;return 5==+(null==n||null===(o=n.doc_info)||void 0===o?void 0:o.doc_type)},docValueType:function(t,e){var o=e.docInfo2019,n=b.a.TICKET,i=b.a.CASH,r=b.a.VIP_RIGHT,c=b.a.PRIVATE,a=b.a.SECRET,s="";switch((o.doc_info||{}).doc_type){case n:s="TICKET";break;case i:s="CASH";break;case r:s="VIP_RIGHT";break;case c:s="PRIVATE";break;case a:s="SECRET"}return s},ticketDocSubType:function(t,e){var o=e.docInfo2019,n="";return o.doc_info.doc_type===b.a.TICKET&&(n=0==+o.price_info.doc_ticket?"TICKET_ZERO":o.doc_info.is_vip_free_doc?"TICKET_VIP_FREE":"TICKET"),n}},mutations:{setLogin:function(t,e){t.isLogin=e},setCurLastPage:function(t,e){t.curLastPage=e},setFoldPageUnfold:function(t,e){t.foldPage.unfold=e},setScrollObject:function(t,e){t.scrollObject=e},setCommentInfo:function(t,e){t.commentInfo=e},setFixBoxBottom:function(t,e){t.fixBox.bottom=e},setFixBoxFixed:function(t,e){t.fixBox.fixed=e},setShopFollow:function(t,e){var o=t.pageData.docInfo2019.creator_info.shop_follow;o.is_followed=e,o.follow_count=String(+o.follow_count+(e?1:-1))},setRelativeCourseInfo:function(t,e){i.a.set(t.pageData,"relativeCourseInfo",e)},setRelativeRecommendInfo:function(t,e){i.a.set(t.pageData,"relativeRecommendInfo",e)},setCollectStatus:function(t,e){t.pageData.docInfo2019.doc_info.is_inroom=e},setShowNoAdDialog:function(t,e){t.showNoAdDialog=e},setLike:function(t,e){t.pageData.docInfo2019.doc_info.zan=e},setWealthInfo:function(t,e){t.wealthInfo=e},setOrgVipInfo:function(t,e){t.orgVipInfo=e},setCreatorInfoFollowerCount:function(t,e){t.pageData.docInfo2019.creator_info.follower_count=e},setCreatorInfoHaveFollowed:function(t,e){t.pageData.docInfo2019.creator_info.have_followed=e},setZoomControl:function(t,e){t.pageData.zoomControl.scaleLevel=e},setCcSuffix:function(t,e){t.ccSuffix=e},setDataFormatConvert:function(t,e){t.dataFormatConvert=e},setRelativeSearch:function(t,e){t.relativeSearch=M(M({},t.relativeSearch),e)},setShowFirstClickTag:function(t,e){t.showFirstClickTag=e}},actions:F,modules:{readerPlugin:u,docInfo:h,priceInfo:y,userInfo:j,vipInfo:k,goodInfo:x}})},function(t,e,o){"use strict";o.d(e,"c",(function(){return r})),o.d(e,"b",(function(){return c}));var n=o(3);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){Object(n.$)("body").css({height:t?"100%":"auto",overflow:t?"hidden":"visible"})}function c(t){var e=t/100,o=t%100==0?0:t%10==0?1:2;return isNaN(e)?"":e.toFixed(o)}e.a={parseDate:function(t,e){if(isNaN(+t))return"";var o=new Date(parseInt(t,10)),n=o.getFullYear(),i=o.getMonth()+1;i=i<10?"0".concat(i):i;var r=o.getDate();return r=r<10?"0".concat(r):r,e?n+e+i+e+r:n+"-"+i+"-"+r},generateList:function(t){for(var e=[],o=1;o<t;o++)e.push(o);return e},formateNum:function(t){if(!t||0==+t)return"0";var e=t+"";return t>9999&&t<1e8?e=(t/1e4).toFixed(1)+"W":t>=1e8&&(e=(t/1e8).toFixed(1)+"亿"),e},getRandomArray:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!Array.isArray(t)||0===t.length||0===e)return[];if(e>=t.length)return t;for(var o=new Set(t),n=[];e!==n.length;){var i=Math.floor(Math.random()*t.length),r=t[i];n.push(r),o.delete(r),t=Array.from(o)}return n},assign:function(){var t=arguments.length<=0?void 0:arguments[0];if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var o=e<0||arguments.length<=e?void 0:arguments[e];if(null!=o)for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},checkOR:function(t,e){for(var o=0;o<e.length;o++)if(e[o]===t)return!0;return!1},getDocType:function(t){var e=String(t);return this.checkOR(e,["1","4","10","11","9"])?"word":this.checkOR(e,["3","6","14","15"])?"ppt":this.checkOR(e,["2","5"])?"excel":this.checkOR(e,["12"])?"vsd":this.checkOR(e,["7"])?"pdf":this.checkOR(e,["8"])?"txt":this.checkOR(e,["16"])?"epub":this.checkOR(e,["19"])?"cad":this.checkOR(e,["13"])?"rtf":this.checkOR(e,["20"])?"xmind":"unknow"},parseNum:function(t){var e=t+"";return t>9999&&t<1e8?e=(t/1e4).toFixed(1)+"W":t>=1e8&&(e=(t/1e8).toFixed(1)+"亿"),e},parseSize:function(t){var e=1048576,o=1024*e;return t<1024?t:t<e?(t/1024).toFixed(0):t<o?(t/e).toFixed(1):(t/o).toFixed(2)},parseSizeUnit:function(t){return t<1024?"B":t<1048576?"KB":t<1073741824?"MB":"GB"},getSubstr:function(t,e,o){for(var n=0,i=[],r=t.split(""),c=0;c<r.length;c++){if(r[c].charCodeAt(0)<299?n++:n+=2,!(n<e))return i=i.join(""),o&&(i+="..."),i;i.push(r[c])}return i=i.join("")},isString:function(t){return"string"==typeof t||!!t&&"object"===i(t)&&"[object String]"===Object.prototype.toString.call(t)},getStringLength:function(t){if(!this.isString(t))return 0;for(var e=0,o=0;o<t.length;o++){var n=t.charCodeAt(o);e+=n>=0&&n<=128?1:2}return e},parseUrl:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),o=location.search.substr(1).match(e);return null!=o?decodeURIComponent(o[2]):null},parseNum2HMS:function(t){if(isNaN(+t))return"--:--:--:-".split(":");var e=t,o=Math.floor(e/3600/1e3);e-=3600*(o=o<10?"0".concat(o):o)*1e3;var n=Math.floor(e/60/1e3);e-=60*(n=n<10?"0".concat(n):n)*1e3;var i=Math.floor(e/1e3);return e-=1e3*(i=i<10?"0".concat(i):i),[o,n,i,Math.floor(e/100)]}}},function(t,e,o){"use strict";o.d(e,"a",(function(){return i})),o.d(e,"b",(function(){return r}));var n=o(3);n.Util.Common.fetchCCFromLink;function i(t){var e="_view2020_";return t&&(e+=t),n.Util.Common.remakeCashierCode(e)}function r(t,e,o){var i="_view2020_";return o&&(i+=o),n.Util.Common.remakeCashierUrl(t,e,i)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,o){"use strict";o.d(e,"b",(function(){return c})),o.d(e,"a",(function(){return r}));var n=function(){if(window.SpyClient)return new window.SpyClient({pid:"17_99",lid:"",sample:.2})}(),i="wenku.baidu.com"===location.host;function r(t){var e,o,r;n&&i&&n.sendExcept({info:{msg:(null==t?void 0:t.message)||"",stack:(null==t?void 0:t.stack)||"",uid:(null===(e=window.pageData)||void 0===e||null===(o=e.mixVipAndUserInfo)||void 0===o||null===(r=o.userInfo)||void 0===r?void 0:r.uid)||""},group:"js"})}function c(t){var e={fp:t.FP,fmp:t.FMP,ctti:t.CTTI,ttfb:t.ttfb,requestTime:t.requestTime};n&&i&&n.sendPerf({group:"perf",info:e,sample:.1})}},,,,,,function(t,e,o){"use strict";var n=o(1),i=o(0);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=u(t);if(e){var i=u(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return l(this,o)}}function l(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(o,t);var e=s(o);function o(){return c(this,o),e.apply(this,arguments)}return o}(i.Vue);Object(n.a)([Object(i.Prop)(String)],p.prototype,"typeName",void 0);var f=p=Object(n.a)([i.Component],p),d=(o(255),o(4)),h=Object(d.default)(f,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"doc-type-icon",class:this.typeName})}),[],!1,null,null,null);e.a=h.exports},,,,,,function(t,e,o){"use strict";var n=o(5),i=o(2),r=o(240),c=o(6);function a(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function s(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?a(Object(o),!0).forEach((function(e){l(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function l(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var u={data:function(){return{query:"",list:[]}},mounted:function(){var t=this.docInfo2019.doc_info;this.query=t.title,this.relativeSearch.had||(this.fetchData(),this.setRelativeSearch({had:!0}))},watch:{relativeSearch:{handler:function(t){t.list.length&&(this.list=t.list)},deep:!0}},computed:s(s(s({},Object(n.mapState)(["relativeSearch"])),Object(n.mapGetters)(["docInfo2019","wkSmallflow","singlePaymentDoc"])),{},{visible:function(){var t=this.list;return t&&t.length},isTicketDoc:function(){return 1===this.docInfo2019.doc_info.doc_type}}),methods:s(s({},Object(n.mapMutations)(["setRelativeSearch"])),{},{searchedCount:function(t){var e=t.doc_count;return e>=1e8?(e/1e8).toFixed(2)+"亿":e>1e4?parseInt(String(e/1e4))+"万":e+""},fetchData:function(){var t=this,e=this,o=this.wkSmallflow.visible1796;r.a.getEssQuery().then((function(n){n&&"fengchao_no_query_search_default_query"!==n&&(t.query=n),c.wkAxios.get("/search/interface/getrelatequery",{params:{word:t.query,show_doc_count:1,is_read_view:1}}).then((function(r){var c=r.relateQuery;if(window.eventBus.emit("queryAndRelatedGot",{query:n,list:c}),(o||t.isTicketDoc||t.singlePaymentDoc)&&c){for(var a=0;a<c.length;a++){var s=c[a];c[a].searchedCount=e.searchedCount(s)}i.log.xsend(102722,{spd:t.singlePaymentDoc}),e.setRelativeSearch({list:c}),e.list=c}}))}))},clickItem:function(t,e){i.log.xsend(102723,{spd:this.singlePaymentDoc});var o=t.title,n="/search?word=".concat(o,"&lm=0&od=0&fr=view_rs_1");window.open(n)}})},p=(o(292),o(4)),f=Object(p.default)(u,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.wkSmallflow.visible1796||t.isTicketDoc||t.singlePaymentDoc?o("div",{staticClass:"relative-search-wrap",style:{display:t.visible?"block":"none"}},[o("p",{staticClass:"relative-search-title"},[t._v("看过该文档的人还看了")]),t._v(" "),o("div",{staticClass:"divider"}),t._v(" "),o("div",{staticClass:"relative-search-list"},t._l(t.list,(function(e,n){return o("div",{key:n,staticClass:"item-wrap",on:{click:function(o){return t.clickItem(e,n)}}},[o("div",{staticClass:"item-link",attrs:{title:e.title}},[t._v("\n                "+t._s(e.title)+"\n            ")]),t._v(" "),o("div",{staticClass:"item-searched-count"},[t._v("\n                相关文档约"+t._s(e.searchedCount)+"篇\n            ")])])})),0)]):t._e()}),[],!1,null,null,null);e.a=f.exports},,,,,function(t,e,o){"use strict";var n=o(5),i=o(18),r=o(2),c=o(6),a=o(3),s=o(11),l=o(1),u=o(0);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=b(t);if(e){var i=b(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return m(this,o)}}function m(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(c,t);var e,o,n,i=v(c);function c(){var t;return f(this,c),(t=i.apply(this,arguments)).opt={uname:"",vip_expire_time:3,voucher_expire_time:3,coupon_voucher:10},t}return e=c,(o=[{key:"created",value:function(){a.$.extend(!0,this.opt,this.options)}},{key:"handleClose",value:function(){this.$emit("rightTopPopClose")}},{key:"payVip",value:function(t){this.$emit("payVip",{cashierCode:t,from:"top"})}},{key:"show",get:function(){var t=this.jiaoyuVipExpiredDays,e=this.vipExpiredDays,o=this.jiaoyuVipTicketTotal,n=this.vipTicketTotal;return t>0&&t<=10&&o>0||e>0&&e<=10&&n>0&&(r.log.xsend(100316),!0)}},{key:"ticketTotoal",get:function(){var t=this.jiaoyuVipTicketTotal,e=this.vipTicketTotal;return t||e}},{key:"jiaoyuVipExpiredDays",get:function(){var t=this.vipInfo.renewal_vip_info.jiaoyu_vip_info||{};return t.expire_time?Math.ceil((+new Date-1e3*t.expire_time)/864e5):0}},{key:"jiaoyuVipTicketTotal",get:function(){var t=this.vipInfo.renewal_vip_info.jiaoyu_vip_info||{};return t.pro_download_ticket+t.normal_download_ticket||0}},{key:"vipExpiredDays",get:function(){var t=this.vipInfo.renewal_vip_info.vip_info||{};return t.expire_time?Math.ceil((+new Date-1e3*t.expire_time)/864e5):0}},{key:"vipTicketTotal",get:function(){var t=this.vipInfo.renewal_vip_info.vip_info||{};return t.pro_download_ticket+t.normal_download_ticket||0}},{key:"expiredDays",get:function(){var t=this.jiaoyuVipExpiredDays,e=this.vipExpiredDays;return t>0&&t<=10?t:e}}])&&d(e.prototype,o),n&&d(e,n),c}(u.Vue);Object(l.a)([Object(u.Prop)()],y.prototype,"options",void 0),Object(l.a)([Object(u.Prop)()],y.prototype,"vipInfo",void 0);var g=y=Object(l.a)([u.Component],y),_=(o(316),o(4)),w=Object(_.default)(g,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"right-top-pop-wrap"},[o("span",{staticClass:"close-btn",attrs:{href:"#"},on:{click:t.handleClose}}),t._v(" "),o("div",{staticClass:"pop-content"},[o("span",{staticClass:"expired-days"},[t._v(t._s(t.expiredDays))]),t._v(" "),o("div",{staticClass:"content-wrap"},[t.jiaoyuVipExpiredDays>0&&t.jiaoyuVipExpiredDays<=10&&t.jiaoyuVipTicketTotal>0?o("div",[t._v("\n                限时续费年VIP，\n            ")]):t._e(),t._v(" "),t.vipExpiredDays>0&&t.vipExpiredDays<=10&&t.vipTicketTotal>0?o("div",[t._v("\n                限时升级年VIP，\n            ")]):t._e(),t._v(" "),o("div",[t._v("\n                同时剩余"),o("span",{staticClass:"red"},[t._v(t._s(t.ticketTotoal)+"个")]),t._v("下载特权延时"),o("span",{staticClass:"red"},[t._v("30天")])])])]),t._v(" "),t.jiaoyuVipExpiredDays>0&&t.jiaoyuVipExpiredDays<=10?o("span",{staticClass:"goto-recharge",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.payVip("youshangjiao_tc_xfjy")}}},[t._v("立即续费\n    ")]):t._e(),t._v(" "),t.vipExpiredDays>0&&t.vipExpiredDays<=10?o("span",{staticClass:"goto-recharge",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.payVip("youshangjiao_tc_xfwk")}}},[t._v("立即续费\n    ")]):t._e()])}),[],!1,null,null,null).exports,C=o(12);function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=I(t);if(e){var i=I(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return S(this,o)}}function S(t,e){return!e||"object"!==O(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(c,t);var e,o,n,i=x(c);function c(){return j(this,c),i.apply(this,arguments)}return e=c,(o=[{key:"mounted",value:function(){r.log.xsend(102644,{index:"new_read_page"})}},{key:"jumpToRenew",value:function(){r.log.xsend(102645,{action:"new_read_page_renew"});var t=this.dialogInfo.goods_id,e="renew_pop".concat(this.isVip?"_last":"_over"),o=Object(C.b)("/ndbusiness/browse/wenkuvipcashier",{choose_goods_id:t},e);window.open(o)}},{key:"closeCenterPop",value:function(){r.log.xsend(102645,{action:"new_read_page_close"}),this.$emit("closeCenterPop")}},{key:"btnText",get:function(){return this.isVip?"一键续费":"立即续费"}}])&&P(e.prototype,o),n&&P(e,n),c}(u.Vue);Object(l.a)([Object(u.Prop)()],T.prototype,"dialogInfo",void 0),Object(l.a)([Object(u.Prop)()],T.prototype,"voucherprice",void 0),Object(l.a)([Object(u.Prop)()],T.prototype,"isVip",void 0);var D=T=Object(l.a)([Object(u.Component)({filters:{filterRenewTitle:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=new Date(1e3*+t).setHours(0,0,0,0),n=(new Date).setHours(0,0,0,0);return+e?(o-n)/1e3/60/60/24+"日后":(n-o)/1e3/60/60/24+1},filterPrice:function(t){return(t/100).toFixed(1)},expireDate:function(t){var e=new Date(1e3*+t),o=e.getMonth(),n=e.getDate();return o=o+1<10?"0"+(o+1):o+1,n=n<10?"0"+n:n,"".concat(e.getFullYear(),".").concat(o,".").concat(n)},filterDiscount:function(t){return t?t/100:""},giveWelfare:function(t){switch(t){case 0:return"额外赠送特权";case 1:return"剩余特权延长30天";default:return""}}}})],T),V=(o(317),Object(_.default)(D,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"center-pop-wrap"},[o("div",{staticClass:"center-pop"},[o("p",{staticClass:"close-icon",on:{click:t.closeCenterPop}}),t._v(" "),t.isVip?o("p",{staticClass:"renew-msg"},[t._v("您的会员卡"),o("span",{staticClass:"highlight"},[t._v(t._s(t._f("filterRenewTitle")(t.dialogInfo.end_time)))]),t._v("到期 一键续费立享福利")]):o("p",{staticClass:"renew-msg"},[t._v("\n            您的会员卡已过期"),o("span",{staticClass:"highlight"},[t._v(t._s(t._f("filterRenewTitle")(t.dialogInfo.end_time,t.isVip)))]),t._v("日 \n            "),t.voucherprice?[t._v("现在续费立减"),o("span",{staticClass:"highlight"},[t._v(t._s(t._f("filterDiscount")(t.voucherprice)))]),t._v("元")]:t._e()],2),t._v(" "),o("div",{staticClass:"user-card"},[o("div",{staticClass:"top"},[o("img",{staticClass:"avatar",attrs:{src:t.dialogInfo.head_icon}}),t._v(" "),o("div",{staticClass:"vip-time"},[t.dialogInfo.goods_name?o("span",{staticClass:"vip-type"},[t._v(t._s(t.dialogInfo.goods_name))]):t._e(),t._v(" "),t.isVip?o("div",{staticClass:"expire-time"},[t._v("到期时间："+t._s(t._f("expireDate")(t.dialogInfo.end_time)))]):o("div",{staticClass:"expire-time"},[t._v("已于"+t._s(t._f("expireDate")(t.dialogInfo.end_time))+"过期")])])]),t._v(" "),o("div",{staticClass:"center"},[o("div",{staticClass:"left"},[o("p",{staticClass:"white"},[t._v("当前会员身份："+t._s(t.dialogInfo.goods_name)+"VIP")]),t._v(" "),o("p",{staticClass:"white"},[t._v("立即续费："+t._s(t.dialogInfo.goods_name)+"VIP")])]),t._v(" "),o("div",{staticClass:"right"},[o("p",{staticClass:"sale-price"},[o("span",[t._v("¥")]),t._v(t._s(t._f("filterPrice")(t.dialogInfo.price-t.voucherprice)))]),t._v(" "),t.voucherprice?o("p",{staticClass:"origin-price"},[t._v("\n                        ¥"+t._s(t._f("filterPrice")(t.dialogInfo.price))+"\n                        "),o("span",{staticClass:"spread"},[t._v("已减"+t._s(t._f("filterDiscount")(t.voucherprice))+"元")])]):t._e()])]),t._v(" "),t.isVip?o("div",{staticClass:"welfare"},[t._v("续费福利："+t._s(t._f("giveWelfare")(t.dialogInfo.residue_ticket)))]):o("div",{staticClass:"welfare"},[t._v("续费福利：剩余特权延长30天")])]),t._v(" "),o("p",{staticClass:"renew-btn",on:{click:t.jumpToRenew}},[t._v(t._s(t.btnText))])])])}),[],!1,null,null,null).exports);function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=N(t);if(e){var i=N(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return F(this,o)}}function F(t,e){return!e||"object"!==E(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var M,$=18e5,H=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}(c,t);var e,o,n,i=B(c);function c(){var t;return R(this,c),(t=i.apply(this,arguments)).min="0",t.sec="0",t.getVoucherBtnText="立即领取代金券",t.opt={coupon_voucher:5,voucher_expire_time:3},t}return e=c,(o=[{key:"mounted",value:function(){a.$.extend(!0,this.opt,this.options),this.countDown(),Object(a.$)(this.$el).animate({bottom:0},1e3),r.log.xsend(100317,{index:this.popUserType})}},{key:"countDown",value:function(){var t=this;M=setInterval((function(){if($<0)return clearInterval(M),void t.handleClose();var e=new Date($),o="".concat(e.getMinutes()),n="".concat(e.getSeconds());o.length<2&&(o="0".concat(o)),n.length<2&&(n="0".concat(n)),t.min=o,t.sec=n,$-=1e3}),1e3)}},{key:"handleClose",value:function(){this.reset(),this.$emit("bottomPopClose")}},{key:"reset",value:function(){clearInterval(M),$=18e5}},{key:"getVoucher",value:function(){1===this.sendVoucherStatus?this.$emit("getVoucherSuccess"):-1===this.sendVoucherStatus?this.$emit("getVoucherError"):this.$emit("getVoucher",{token:this.opt.token,succCallback:this.getVoucherSuccess.bind(this),errorCallback:this.getVoucherFail.bind(this)})}},{key:"getVoucherSuccess",value:function(){this.getVoucherBtnText="领取成功，立享优惠"}},{key:"getVoucherFail",value:function(){this.getVoucherBtnText="领取失败, 点击重新领取"}}])&&L(e.prototype,o),n&&L(e,n),c}(u.Vue);Object(l.a)([Object(u.Prop)()],H.prototype,"options",void 0),Object(l.a)([Object(u.Prop)()],H.prototype,"sendVoucherStatus",void 0),Object(l.a)([Object(u.Prop)()],H.prototype,"popUserType",void 0);var U=H=Object(l.a)([u.Component],H),G=(o(318),Object(_.default)(U,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"bottom-pop-wrap"},[o("div",{staticClass:"bottom-pop-wrap-mask"}),t._v(" "),o("a",{staticClass:"close-icon",attrs:{href:"#"},on:{click:t.handleClose}}),t._v(" "),o("div",{staticClass:"limit-count-down"},[o("ul",{staticClass:"count-down-content clearfix"},[o("li",{staticClass:"hour"}),t._v(" "),o("li",{staticClass:"xs"},[t._v("小时")]),t._v(" "),o("li",{staticClass:"min-1",class:"count-"+t.min[0]}),t._v(" "),o("li",{staticClass:"min-2",class:"count-"+t.min[1]}),t._v(" "),o("li",{staticClass:"fen"},[t._v("分")]),t._v(" "),o("li",{staticClass:"sec-1",class:"count-"+t.sec[0]}),t._v(" "),o("li",{staticClass:"sec-2",class:"count-"+t.sec[1]}),t._v(" "),o("li",{staticClass:"miao"},[t._v("秒")])])]),t._v(" "),o("div",{staticClass:"bottom-pop-wrap-inner"},[o("span",{staticClass:"gold-icon"}),t._v(" "),o("p",{staticClass:"lijian10"},[t._v("现在开通VIP")]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),o("a",{staticClass:"btn",attrs:{href:"javascript:;"},on:{click:t.getVoucher}},[t._v("\n            "+t._s(t.getVoucherBtnText)+"\n        ")])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"fuli clearfix"},[e("li",{staticClass:"li-1"},[this._v("下载特权享5亿+文档")]),this._v(" "),e("li",{staticClass:"li-2"},[this._v("文档格式转换不限次数")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"fuli clearfix"},[e("li",{staticClass:"li-3"},[this._v("付费文档8折优惠")]),this._v(" "),e("li",{staticClass:"li-4"},[this._v("赠百度阅读VIP精品版")])])}],!1,null,null,null).exports);function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W(t,e){return(W=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function K(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=Y(t);if(e){var i=Y(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return Q(this,o)}}function Q(t,e){return!e||"object"!==q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var J=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W(t,e)}(o,t);var e=K(o);function o(){var t;return z(this,o),(t=e.apply(this,arguments)).content="",t}return o}(u.Vue);Object(l.a)([Object(u.Prop)()],J.prototype,"content",void 0);var Z=J=Object(l.a)([u.Component],J),X=(o(319),Object(_.default)(Z,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ui-toast-wrap"},[e("div",{staticClass:"ui-toast-2019"},[this._t("content",[e("div",{staticClass:"content"},[this._v(this._s(this.content))])])],2)])}),[],!1,null,null,null).exports),tt=o(17),et=o.n(tt);function ot(t){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function it(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rt(t,e){return(rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=st(t);if(e){var i=st(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return at(this,o)}}function at(t,e){return!e||"object"!==ot(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var lt=new et.a,ut=18e5,pt=null,ft=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rt(t,e)}(c,t);var e,o,n,i=ct(c);function c(){var t;return nt(this,c),(t=i.apply(this,arguments)).visibleToast=!1,t.opt={coupon_voucher:5,voucher_expire_time:3,token:"",voucher_types:[]},t.min=0,t.sec=0,t.isFromAutoReceive=0,t.sendVoucherStatus=0,t.getVoucherBtnText="开通VIP使用",t}return e=c,(o=[{key:"mounted",value:function(){this.opt=a.$.extend(!0,{},this.opt,this.options),this.checkAutoReceive(),this.countDown(),Object(a.$)(this.$el).animate({bottom:0},1e3),this.isVip&&(this.getVoucherBtnText="立即领取代金券")}},{key:"countDown",value:function(){var t=this;pt=setInterval((function(){if(ut<0)return clearInterval(pt),void t.handleClose();var e=new Date(ut),o="".concat(e.getMinutes()),n="".concat(e.getSeconds());o.length<2&&(o="0".concat(o)),n.length<2&&(n="0".concat(n)),t.min=o,t.sec=n,ut-=1e3}),1e3)}},{key:"handleClose",value:function(){this.reset(),r.log.xsend(102656,{index:"close",isVip:this.isVip?1:0});var t=Number(localStorage.getItem("couponDialogForFufeiCloseTimes"));t<1?(t+=1,localStorage.setItem("couponDialogForFufeiCloseTimes",String(t))):a.$.ajax({url:encodeURI("/user/interface/layerpop"),type:"get",cache:!1,data:{layer_id:3,act:"close"}}),this.$emit("bottomPopCloseForFufei")}},{key:"reset",value:function(){clearInterval(pt),ut=18e5}},{key:"checkAutoReceive",value:function(){var t=localStorage&&Number(localStorage.getItem("couponForFufeiAutoReceive"))||0;if(this.isLogin&&1==+t)return this.isFromAutoReceive=1,localStorage.setItem("couponForFufeiAutoReceive","0"),void this.getVoucher();this.isLogin||1!=+t||localStorage.setItem("couponForFufeiAutoReceive","0")}},{key:"getVoucher",value:function(){if(!this.isLogin)return localStorage.setItem("couponForFufeiAutoReceive","1"),void lt.log();r.log.xsend(102656,{index:"getvoucher",isVip:this.isLogin&&this.isVip?1:0}),1===this.sendVoucherStatus&&this.getVoucherSuccess();for(var t=this.opt,e=t.token,o=t.voucher_types,n=this,i="token="+e+"&layer_id=3&act=get",c=0;c<o.length;c++)i+="&voucher_types[]="+o[c].voucher_type;a.$.ajax({url:"/user/interface/layergetvoucher?"+i,type:"GET",cache:!1,success:function(t){var e=t.status,o=void 0===e?{}:e;0===o.code?(n.sendVoucherStatus=1,n.getVoucherSuccess()):200001===o.code||100015===o.code?(localStorage.setItem("couponForFufeiAutoReceive","1"),lt.log()):n.getVoucherFail()},error:function(){n.getVoucherFail()}})}},{key:"getVoucherSuccess",value:function(){r.log.xsend(102657,{isVip:this.isLogin&&this.isVip?1:0});var t=this,e=String(localStorage.getItem("couponDialogForFufeiCloseTimes"));+e<1&&(e=String(+e+1),localStorage.setItem("couponDialogForFufeiCloseTimes",e)),a.$.ajax({url:"/customer/interface/vipinfo",type:"get",cache:!1,data:{type:7,renewal:1},success:function(e){var o=e.status,n=void 0===o?{}:o,i=e.data;0===n.code&&i&&1===i.global_vip_status?(t.$emit("bottomPopCloseForFufei"),t.visibleToast=!0,setTimeout((function(){t.$emit("bottomPopCloseForFufei"),t.visibleToast=!1}),1e3)):(t.getVoucherBtnText="领取成功，1秒后进入收银台",setTimeout((function(){r.log.xsend(102741,{pos:"bottomPopForFufei",idx:1});var e=Object(C.b)("/ndcashier/browse/jiaoyuvipcashier",{},"DocCashierLeavingALL");window.location.href=e,t.$emit("bottomPopCloseForFufei")}),1e3))}})}},{key:"getVoucherFail",value:function(){this.getVoucherBtnText="领取失败, 点击重新领取"}}])&&it(e.prototype,o),n&&it(e,n),c}(u.Vue);Object(l.a)([Object(u.Prop)()],ft.prototype,"options",void 0),Object(l.a)([Object(u.Prop)()],ft.prototype,"isLogin",void 0),Object(l.a)([Object(u.Prop)()],ft.prototype,"isVip",void 0);var dt=ft=Object(l.a)([Object(u.Component)({components:{Toast:X}})],ft),ht=(o(320),Object(_.default)(dt,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"bottom-pop-for-fufei-wrap"},[o("div",{staticClass:"bottom-pop-wrap-mask"}),t._v(" "),o("a",{staticClass:"close-icon",attrs:{href:"#"},on:{click:t.handleClose}}),t._v(" "),o("div",{staticClass:"limit-count-down"},[o("ul",{staticClass:"count-down-content clearfix"},[o("li",{staticClass:"hour",staticStyle:{"margin-left":"6px"}}),t._v(" "),o("li",{staticClass:"xs"},[t._v("小时")]),t._v(" "),o("li",{staticClass:"min-1",class:"count-"+t.min[0],staticStyle:{"margin-left":"1px"}}),t._v(" "),o("li",{staticClass:"min-2",class:"count-"+t.min[1],staticStyle:{"margin-left":"3px"}}),t._v(" "),o("li",{staticClass:"fen"},[t._v("分")]),t._v(" "),o("li",{staticClass:"sec-1",class:"count-"+t.sec[0],staticStyle:{"margin-left":"3.8px"}}),t._v(" "),o("li",{staticClass:"sec-2",class:"count-"+t.sec[1],staticStyle:{"margin-left":"4.2px"}}),t._v(" "),o("li",{staticClass:"miao"},[t._v("秒")])])]),t._v(" "),o("div",{staticClass:"bottom-pop-wrap-inner"},[o("span",{staticClass:"gold-icon"}),t._v(" "),t.isVip?o("p",{staticClass:"man20jian10-vip"},[t._v("现在开通VIP")]):o("p",{staticClass:"man20jian10-novip"},[t._v("现在开通VIP")]),t._v(" "),t._m(0),t._v(" "),o("ul",{staticClass:"fuli clearfix"},[t.isVip?o("li",{staticClass:"li-3"},[t._v("VIP专属福利")]):o("li",{staticClass:"li-3"},[t._v("开通VIP即可使用")]),t._v(" "),o("li",{staticClass:"li-4"},[t._v("代金券有效期1天")])]),t._v(" "),o("a",{staticClass:"btn",attrs:{href:"javascript:;"},on:{click:t.getVoucher}},[t._v("\n            "+t._s(t.getVoucherBtnText)+"\n        ")])]),t._v(" "),t.visibleToast?o("Toast",{attrs:{content:"恭喜你领取成功，现在下单立享优惠"}}):t._e()],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"fuli clearfix"},[e("li",{staticClass:"li-1"},[this._v("全场付费文档通用")]),this._v(" "),e("li",{staticClass:"li-2"},[this._v("VIP免费领百元好券")])])}],!1,null,null,null).exports);function vt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function mt(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?vt(Object(o),!0).forEach((function(e){bt(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):vt(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function bt(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var yt={data:function(){return{token:null,voucherInfo:{},voucherType:[],currentLayer:null,visibleToast:!1,show:!1,showPayDocPop:!0}},components:{toast:X},created:function(){var t,e;this.currentLayer=this.isVip?5:6;var o=this.priceInfo,n=o.isPayDoc,i=o.ispaied,r=null===(t=this.docInfo2019)||void 0===t||null===(e=t.price_info)||void 0===e?void 0:e.high_price_doc;!n||i||r||this.visiblePromotion?this.showPayDocPop=!1:this.getPayDocVoucher()},computed:mt(mt(mt({},Object(n.mapState)(["priceInfo"])),Object(n.mapGetters)("priceInfo",["visiblePromotion"])),Object(n.mapGetters)(["isVip","docId","wkSmallflow","docInfo2019"])),methods:{getPayDocVoucher:function(){var t=this;c.wkAxios.get("/user/interface/layerpop",{params:{layer_id:this.currentLayer,act:"get",doc_id:this.docId,platform:"pc",power_id:2}}).then((function(e){var o;if(1===(null==e?void 0:e.pop_show))return r.log.xsend(5===t.currentLayer?102794:102800),t.token=e.token,t.voucherInfo=e.layer_info?e.layer_info:{},t.voucherType=(null==e||null===(o=e.layer_info)||void 0===o?void 0:o.voucher_type)+""||"",t.show=!0,void t.reduceShowTime();t.showPayDocPop=!1})).catch((function(){t.showPayDocPop=!1}))},receiveVoucher:function(){var t,e=this;this.token?(this.btnClick("use"),c.wkAxios.get("/user/interface/layergetvoucher",{params:{layer_id:this.currentLayer,voucher_types:null===(t=this.voucherType)||void 0===t?void 0:t.split(),token:this.token}}).then((function(t){e.show=!1,location.href=Object(C.b)("/ndcashier/browse/doccashier",{id:e.docId},"payDoc-voucher-recall")})).catch((function(t){e.showToast()}))):this.showToast()},reduceShowTime:function(){c.wkAxios.get("/user/interface/layerpop",{params:{layer_id:this.currentLayer,act:"close"}})},handleClose:function(){this.$emit("setPayDocPopVisible",0),this.btnClick("close")},btnClick:function(t){r.log.xsend(5===this.currentLayer?102795:102801,{index:t})},showToast:function(){var t=this;this.visibleToast=!0,this.show=!1,setTimeout((function(){t.visibleToast=!1}),2e3)}}},gt=(o(321),Object(_.default)(yt,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.showPayDocPop?o("div",[o("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"center-pay-doc-pop-wrap"},[o("div",{staticClass:"center-pay-doc-pop-content"},[o("div",{staticClass:"close-btn",on:{click:t.handleClose}}),t._v(" "),t._m(0),t._v(" "),o("span",{staticClass:"time-expire"},[t._v("有效期：24小时")]),t._v(" "),o("section",{staticClass:"voucher-info"},[o("h2",{staticClass:"discount"},[o("span",{staticClass:"voucher-price"},[t._v(t._s(t.voucherInfo.voucher_price/100))]),t._v(" "),o("span",{staticClass:"mrb"},[t._v("元")]),t._v(" "),o("span",{staticClass:"discount-text"},[t._v("优惠券")])]),t._v(" "),o("div",{staticClass:"voucher-desc"},[o("span",{staticClass:"desc"},[t._v("满")]),t._v(" "),o("span",{staticClass:"desc"},[t._v(t._s(t.voucherInfo.min_pay_amonut/100))]),t._v(" "),o("span",{staticClass:"desc"},[t._v("可用")])])]),t._v(" "),o("button",{staticClass:"use-button",attrs:{type:"button"},on:{click:t.receiveVoucher}},[t._v("立即使用")])])]),t._v(" "),o("toast",{directives:[{name:"show",rawName:"v-show",value:t.visibleToast,expression:"visibleToast"}],attrs:{content:"很遗憾，优惠券领取失败"}})],1):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"title"},[this._v("恭喜！您收到一张"),e("span",{staticClass:"doc-voucher"},[this._v("文档代金券")])])}],!1,null,"7f05a4c0",null).exports),_t=new et.a,wt="",Ct=[];function Ot(){_t.log((function(){r.log.xsend(102664),c.wkAxios.get("/user/interface/layergetvoucher",{params:{layer_id:2,act:"get",token:wt,voucher_types:Ct}}).finally((function(){window.location.href="/user/box?tabid=2"}))}),!0),r.log.xsend(102662)}function jt(t){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kt(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xt(t,e){return(xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function St(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=Tt(t);if(e){var i=Tt(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return It(this,o)}}function It(t,e){return!e||"object"!==jt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Tt(t){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Dt,Vt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xt(t,e)}(r,t);var e,o,n,i=St(r);function r(){return Pt(this,r),i.apply(this,arguments)}return e=r,(o=[{key:"handleClose",value:function(){c.wkAxios.post("/user/interface/layerpop",{layer_id:2,act:"close"}),this.$emit("loginPopClose")}},{key:"handleClick",value:function(){Ot()}}])&&kt(e.prototype,o),n&&kt(e,n),r}(u.Vue),Et=Vt=Object(l.a)([u.Component],Vt),Rt=(o(322),Object(_.default)(Et,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login-pop-wrap"},[o("div",{staticClass:"login-pop-inner-wrap"},[o("div",{staticClass:"voucher-pop-tip"},[o("p",{staticClass:"triangle"}),t._v(" "),o("div",{staticClass:"present-logo"}),t._v(" "),o("p",{staticClass:"voucher-text"},[t._v("\n                限时福利，登陆即送代金券礼包！\n            ")]),t._v(" "),o("div",{staticClass:"receive-btn",on:{click:function(e){return e.stopPropagation(),t.handleClick(e)}}},[t._v("\n                领取\n            ")]),t._v(" "),o("div",{staticClass:"close-logo",on:{click:function(e){return e.stopPropagation(),t.handleClose(e)}}})])])])}),[],!1,null,"01340a7e",null).exports),Lt=o(46);function At(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function Bt(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?At(Object(o),!0).forEach((function(e){Ft(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):At(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function Ft(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var Nt={data:function(){return{popUserType:0,sendVoucherStatus:0,popOptions:{day:0,year:0,month:0,hour:0,today:"",pop_show:0,renewPop:{dialogInfo:{},voucherprice:0,popShow:0}},download:void 0,isBottomPopShowForFufei:1,isBottomPopShowForUniver:1,isCenterPop:!0,isCenterPayDocPopShow:1,loginPopInfo:{},loginPopShow:!1}},computed:Bt(Bt(Bt({},Object(n.mapState)(["isLogin","eventBus"])),Object(n.mapGetters)(["isVip","docInfo2019","vipInfo","wkAdBlockStatus"])),{},{showBottomPop:function(){if(this.showCenterPop||this.isVip)return!1;var t=(new Date).toDateString(),e=this.popUserType,o=100===e?localStorage.getItem("payDocDialogShowDate"):localStorage.getItem("couponDialogShowDate"),n=+(100===e?localStorage.getItem("payDocDialogCloseTimes"):localStorage.getItem("couponDialogCloseTimes"));return!(o&&t===o&&n>=1)&&(t!==o&&(100===e?(localStorage.setItem("payDocDialogShowDate",t),localStorage.setItem("payDocDialogCloseTimes","0")):(localStorage.setItem("couponDialogShowDate",t),localStorage.setItem("couponDialogCloseTimes","0"))),[1,6,7].indexOf(e)>-1)},showRightTopPop:function(){var t=i.default.get("VIPRM"),e=new Date,o="".concat(e.getFullYear()).concat(e.getMonth()+1).concat(e.getDate());return(!t||t!==o&&"N"!==t)&&(t&&i.default.set("VIPRM","N",{path:"/",expires:20}),[3,5].includes(this.popUserType))},showRightBottomPop:function(){return!1},showBottomPopForFufei:function(){if(this.showCenterPop)return!1;var t=(new Date).toDateString(),e=localStorage.getItem("couponDialogForFufeiShowDate"),o=Number(localStorage.getItem("couponDialogForFufeiCloseTimes")),n=this.popOptions;return!(e&&t===e&&o>=1||0===this.isBottomPopShowForFufei)&&(t!==e&&(localStorage.setItem("couponDialogForFufeiShowDate",t),localStorage.setItem("couponDialogForFufeiCloseTimes","0")),1===n.pop_show&&r.log.xsend(102655,{isVip:this.isVip?1:0}),1===n.pop_show)},showCenterPop:function(){return 1===this.popOptions.renewPop.popShow&&this.isCenterPop},isPayDoc:function(){return 2===this.docInfo2019.doc_info.doc_type},isVipDoc:function(){return 3===this.docInfo2019.doc_info.doc_type},showCenterPayDocPop:function(){return!(1!==this.isCenterPayDocPopShow||this.showCenterPop||this.showBottomPopForUniver||this.showBottomPopForFufei||this.showBottomPop||this.showRightBottomPop||this.showRightTopPop)}}),mounted:function(){var t=this,e=new Date,o=s.a.parseDate(e.getTime()),n={day:e.getDate(),year:e.getFullYear(),month:e.getMonth()+1,hour:e.getHours(),today:o,renewPop:{dialogInfo:{},popShow:0,voucherprice:0}};this.getLoginPopInfo(),this.popOptions=n,this.getPopupInfoForFufei(n,(function(){t.getVipPopInfo().then((function(e){var o=e.status,i=e.data,r=void 0===i?{}:i;o&&0===o.code&&(t.popUserType=r.user_type?r.user_type:0,t.popOptions=Object.assign({},r,n)),t.eventBus.emit("vipMemberPopComplete")}))})),this.download=Lt.a.createDownload(),this.download.on("showBottomPop",(function(t){var e=i.default.get("LoseUserAllPage");if("payDocDialog"===t&&(!e||e&&1!==JSON.parse(e).status)){var o=(new Date).getTime()+2592e5,n=JSON.stringify({status:"0",expire_time:o,create_time:(new Date).getTime(),type:"0",cookie_time:o});i.default.set("LoseUserAllPage",n,{path:"/",expires:3})}}))},components:{RightTopPop:w,BottomPop:G,BottomPopForFufei:ht,CenterPop:V,CenterPayDocPop:gt,LoginPop:Rt},methods:(Dt={getVipPopInfo:function(){return new Promise((function(t,e){a.$.ajax({url:"/coupon/promotion/vippop",type:"GET",cache:!1,data:{act:"get"},success:function(e){t(e)},error:function(t){e(t)}})}))},bottomPopClose:function(){r.log.xsend(100320),this.popUserType=0;var t=Number(localStorage.getItem("couponDialogCloseTimes"));t<1?(t+=1,localStorage.setItem("couponDialogCloseTimes",String(t))):c.default.get("/coupon/promotion/vippop",{params:{act:"close"}})},getLoginPopInfo:function(){var t=this;this.isLogin||c.wkAxios.get("/user/interface/layerpop",{params:{layer_id:2,act:"get"}}).then((function(t){if(1!=+(null==t?void 0:t.pop_show))return{};wt=t.token;var e=t.voucher_types||[];return Array.isArray(e)?0===e.length?{}:(Ct=e.map((function(t){return t.voucher_type})),t):{}})).then((function(e){t.loginPopInfo=e,t.loginPopShow=1==+(null==e?void 0:e.pop_show)}))},loginPopClose:function(){this.loginPopShow=!1},setPayDocPopVisible:function(t){this.isCenterPayDocPopShow=t},closeCenterPop:function(){this.isCenterPop=!1;var t=this.isVip?"1":"7";c.wkAxios.get("/user/interface/layerpop",{params:{layer_id:t,act:"close"}})}},Ft(Dt,"closeCenterPop",(function(){this.isCenterPop=!1})),Ft(Dt,"payVip",(function(t){var e=t.from,o=t.cashierCode;5===this.popUserType&&"bottom"===e?this.popUserType=3:5===this.popUserType&&"top"===e?this.popUserType=2:this.popUserType=0,"bottom"===e?i.default.set("BTIN","N",{path:"/",expires:15}):"top"===e&&i.default.set("VIPRM","N",{path:"/",expires:20}),r.log.xsend(102741,{pos:"vipMemberPop",idx:4});var n=Object(C.b)("/cashier/browse/vipcashier",{default_goods_id:1},o);window.location.href="".concat(location.origin).concat(n)})),Ft(Dt,"rightTopPopClose",(function(){r.log.xsend(100319),5===this.popUserType?this.popUserType=2:this.popUserType=0;var t=i.default.get("VIPRM"),e=new Date,o="".concat(e.getFullYear()).concat(e.getMonth()+1).concat(e.getDate());t||i.default.set("VIPRM",o,{path:"/"})})),Ft(Dt,"getVoucherSuccess",(function(){var t=this,e=this.popUserType;if(r.log.xsend(100322,{index:e}),100===e){var o=Number(localStorage.getItem("payDocDialogCloseTimes"));o<1&&(o+=1,localStorage.setItem("payDocDialogCloseTimes",String(o))),a.$.ajax({url:"/customer/interface/vipinfo",type:"get",cache:!1,data:{type:7,renewal:1},success:function(e){if(e.status&&0===e.status.code&&e.data&&1===e.data.global_vip_status){r.log.xsend(102741,{pos:"vipMemberPop",idx:1});var o=Object(C.b)("/ndcashier/browse/jiaoyuvipcashier",{},"CashierRecallVip");window.location.href=o}else t.download.download();t.popUserType=0},error:function(){t.download.download(),t.popUserType=0}})}else{t.popUserType=0;var n=Number(localStorage.getItem("couponDialogCloseTimes"));n<1&&(n+=1,localStorage.setItem("couponDialogCloseTimes",String(n)));r.log.xsend(102741,{pos:"vipMemberPop",idx:2});var i=Object(C.b)("/ndcashier/browse/jiaoyuvipcashier",{},"CashierLeavingALL");window.location.href=i}})),Ft(Dt,"getVoucherError",(function(){window.location.reload()})),Ft(Dt,"getVoucher",(function(t){var e=this,o=t.token,n=t.succCallback,i=t.errorCallback;r.log.xsend(102018,{index:this.popUserType}),c.default.get("/coupon/promotion/sendvoucher",{params:{token:o,type:14}}).then((function(t){var o=t.data;a._.has(o,"status.code")&&0===o.status.code?(e.sendVoucherStatus=1,n&&n(o)):(e.sendVoucherStatus=-1,i&&i())})).catch((function(){e.sendVoucherStatus=-1,i&&i()}))})),Ft(Dt,"getPopupInfoForFufei",(function(t,e){var o=this;this.proxyFetchRenewPop().then((function(){if(!o.showCenterPop)return o.isPayDoc?o.getVipPopInfoForFufei().then((function(e){o.popOptions=a.$.extend(!0,{},e,t)})):void(e&&e())})).catch((function(t){e&&e()}))})),Ft(Dt,"getVipPopInfoForFufei",(function(){return new Promise((function(t,e){a.$.ajax({url:"/user/interface/layerpop",type:"GET",cache:!1,data:{layer_id:3,act:"get"},success:function(o){var n=o.status,i=o.data;n&&0===n.code&&i&&1===i.pop_show?t(i):e(i)},error:function(t){e(t)}})}))})),Ft(Dt,"bottomPopCloseForFufei",(function(){this.isBottomPopShowForFufei=0})),Ft(Dt,"proxyFetchRenewPop",(function(){var t=this;return this.isLogin?this.fetchRenewPop().then((function(e){return t.$set(t.popOptions.renewPop,"dialogInfo",e.pop_info||{}),t.popOptions.renewPop.popShow=e.pop_show||0,t.fetchUsersVoucher(t.popOptions.renewPop.dialogInfo.goods_id)})).then((function(e){t.popOptions.renewPop.voucherprice=e})):Promise.resolve()})),Ft(Dt,"fetchRenewPop",(function(){var t=this;return new Promise((function(e,o){var n=t.isVip?"1":"7";c.wkAxios.get("/user/interface/layerpop",{params:{layer_id:n,act:"get",platform:"pc"}}).then((function(t){return e(t||{})})).catch((function(t){o({})}))}))})),Ft(Dt,"fetchUsersVoucher",(function(t){return new Promise((function(e,o){c.wkAxios.get("/ndcashier/api/fetchVouchers",{params:{goodsType:"jiaoyu_vip",goods_type:3,goods_id:t}}).then((function(t){var n;if((null==t||null===(n=t.voucher_info)||void 0===n?void 0:n.length)>0){var i=t.voucher_info[0].voucher_price||0;return e(i)}return o(0)})).catch((function(t){o(0)}))}))})),Dt)},Mt=(o(323),Object(_.default)(Nt,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"vip-member-pop-content"},[t.showRightTopPop?o("RightTopPop",{attrs:{options:t.popOptions,"vip-info":t.vipInfo},on:{payVip:t.payVip,rightTopPopClose:t.rightTopPopClose}}):t._e(),t._v(" "),t.showCenterPop?o("CenterPop",{attrs:{"is-vip":t.isVip,"dialog-info":t.popOptions.renewPop.dialogInfo,voucherprice:t.popOptions.renewPop.voucherprice},on:{closeCenterPop:t.closeCenterPop}}):t._e(),t._v(" "),t.showBottomPop?o("BottomPop",{attrs:{options:t.popOptions,"send-voucher-status":t.sendVoucherStatus,"pop-user-type":t.popUserType},on:{getVoucherSuccess:t.getVoucherSuccess,bottomPopClose:t.bottomPopClose,getVoucherError:t.getVoucherError,getVoucher:t.getVoucher}}):t._e(),t._v(" "),t.showBottomPopForFufei?o("BottomPopForFufei",{attrs:{options:t.popOptions,isLogin:t.isLogin,isVip:t.isVip},on:{bottomPopCloseForFufei:t.bottomPopCloseForFufei}}):t._e(),t._v(" "),t.showCenterPayDocPop?o("CenterPayDocPop",{on:{setPayDocPopVisible:t.setPayDocPopVisible}}):t._e(),t._v(" "),t.loginPopShow&&!this.isLogin?o("LoginPop",{on:{loginPopClose:t.loginPopClose}}):t._e()],1)}),[],!1,null,"06a757b1",null));e.a=Mt.exports},function(t,e,o){"use strict";var n=o(5),i=o(1),r=o(0),c=o(6),a=o(2),s=o(11),l={sendState:{sending:0,success:1,failed:2},commentErrorMap:{1:"“很抱歉，该评论刚刚被删除咯～",3:"付费文档购买后可评论！",4:"评论已超240字限制",6:"对不起，您是受限用户（被封禁或用户名为空），无法评论",7:"不能评论自己的文档",5:"评论内容涉嫌敏感信息，请修改后发布",40:"评论内容涉嫌敏感信息，请修改后发布",8:"评论次数已超限，请明天再来吧，谢谢！",10:"“很抱歉，该评论刚刚被删除咯～",41:"评论操作过于频繁，请稍后再试！",42:"休息一下，每日限量发布评论哟！",43:"这篇文档您已评价过相同内容啦！",50:"请先进行实名制认证后再评论哟！",60:"对不起，不能重复评论！"},API_MAP:{addComment:"/browse/interface/addcomment",getCommentList:"/browse/interface/getcommentnew",deleteComment:"/browse/interface/delcomment",likeComment:"/browse/interface/commentlike"}},u=o(3),p=o(17),f=o.n(p);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=g(t);if(e){var i=g(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return y(this,o)}}function y(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=new f.a,w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(r,t);var e,o,n,i=b(r);function r(){var t;return h(this,r),(t=i.apply(this,arguments)).isFocus=!1,t.limitCount=240,t.wordsCount=0,t.indentifier="0",t.content="",t.val="",t}return e=r,(o=[{key:"mounted",value:function(){this.onInput()}},{key:"inputFocus",value:function(){this.isFocus=!0}},{key:"inputBlur",value:function(){this.isFocus=!1}},{key:"inputChanged",value:function(t){this.wordsCount=t.length}},{key:"sendAction",value:function(){var t=this.val;0!==(t=t.replace(/(^\s*)|(\s*$)/g,"")).length&&(t.length>this.limitCount||(a.log.xsend(101349),this.sendComment(t)))}},{key:"maskAction",value:function(){_.log()}},{key:"sendComment",value:function(t){var e=this;this.$emit("sendStateChange",{code:0});var o={docid:this.docId,content:t,type:"1",parentid:this.replayId},n=new FormData;for(var i in o)n.append(i,o[i]);c.wkAxios.post(l.API_MAP.addComment,n).then((function(t){e.val="",e.wordsCount=0,e.$emit("sendStateChange",{code:1})})).catch((function(t){var o="系统错误，请刷新再试";t&&t.data&&t.data.errno&&(o=l.commentErrorMap[t.data.errno]||"系统错误，请刷新再试"),e.$emit("sendStateChange",{code:2,msg:o})}))}},{key:"onInput",value:function(){var t=Object(u.$)(this.$refs.commentInput);if("0"===this.indentifier)t.height(56);else{t.height("auto");var e=t[0].scrollHeight-10;e>56&&(e=56),t.height(e)}this.inputChanged(t.val())}},{key:"isEnable",get:function(){var t=this.wordsCount;return t>0&&t<=this.limitCount}}])&&v(e.prototype,o),n&&v(e,n),r}(r.Vue);Object(i.a)([Object(r.Prop)()],w.prototype,"docId",void 0),Object(i.a)([Object(r.Prop)()],w.prototype,"docInfo2019",void 0),Object(i.a)([Object(r.Prop)()],w.prototype,"isLogin",void 0),Object(i.a)([Object(r.Prop)()],w.prototype,"placeholder",void 0),Object(i.a)([Object(r.Prop)()],w.prototype,"replay",void 0),Object(i.a)([Object(r.Prop)(String)],w.prototype,"replayId",void 0);var C=w=Object(i.a)([r.Component],w),O=(o(324),o(4)),j=Object(O.default)(C,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ct-input"},[0===t.replay?[o("div",{staticClass:"input-area",class:t.isFocus?"input-area-focus":"input-area-blur"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],ref:"commentInput",attrs:{rows:"1",placeholder:t.placeholder},domProps:{value:t.val},on:{focus:t.inputFocus,blur:t.inputBlur,input:[function(e){e.target.composing||(t.val=e.target.value)},t.onInput]}}),t._v(" "),o("p",{staticClass:"len-tips"},[o("span",{staticClass:"count",class:{error:t.wordsCount>t.limitCount},domProps:{textContent:t._s(t.wordsCount)}}),t._v(" "),o("span",{staticClass:"total"},[t._v("/"+t._s(t.limitCount))])]),t._v(" "),t.isLogin?t._e():o("div",{staticClass:"mask-area",on:{click:t.maskAction}})]),t._v(" "),o("div",{staticClass:"submit-box"},[o("div",{staticClass:"send-btn",class:{enable:t.isEnable},on:{click:t.sendAction}},[t._v("发布评论")])])]:[o("div",{staticClass:"replay-area"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],ref:"commentInput",attrs:{rows:"1",placeholder:t.placeholder},domProps:{value:t.val},on:{input:[function(e){e.target.composing||(t.val=e.target.value)},t.onInput]}}),t._v(" "),o("p",{staticClass:"replay-len-tips"},[o("span",{staticClass:"count",class:{error:t.wordsCount>t.limitCount},domProps:{textContent:t._s(t.wordsCount)}}),t._v(" "),o("span",{staticClass:"total"},[t._v("/"+t._s(t.limitCount))])]),t._v(" "),t.isLogin?t._e():o("div",{staticClass:"mask-area",on:{click:t.maskAction}})]),t._v(" "),o("div",{staticClass:"re-submit-btn",class:{enable:t.isEnable},on:{click:t.sendAction}},[t._v("发布评论")])]],2)}),[],!1,null,null,null).exports;function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=D(t);if(e){var i=D(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return T(this,o)}}function T(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function D(t){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var V=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(r,t);var e,o,n,i=I(r);function r(){var t;return k(this,r),(t=i.apply(this,arguments)).message="",t.cancel="",t.ok="",t}return e=r,(o=[{key:"okAction",value:function(){this.$emit("okAction")}},{key:"cancelAction",value:function(){this.$emit("cancelAction")}},{key:"closeAction",value:function(){this.$emit("closeAction")}}])&&x(e.prototype,o),n&&x(e,n),r}(r.Vue);Object(i.a)([Object(r.Prop)()],V.prototype,"message",void 0),Object(i.a)([Object(r.Prop)()],V.prototype,"cancel",void 0),Object(i.a)([Object(r.Prop)()],V.prototype,"ok",void 0);var E=V=Object(i.a)([r.Component],V),R=(o(325),Object(O.default)(E,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"alert-box"}),t._v(" "),o("div",{staticClass:"alert-show-box"},[o("p",{staticClass:"close",on:{click:t.closeAction}}),t._v(" "),o("p",{staticClass:"message",domProps:{textContent:t._s(t.message)}}),t._v(" "),o("div",{staticClass:"action-box"},[o("div",{staticClass:"cancel",domProps:{textContent:t._s(t.cancel)},on:{click:t.cancelAction}}),t._v(" "),o("div",{staticClass:"ok",domProps:{textContent:t._s(t.ok)},on:{click:t.okAction}})])])])}),[],!1,null,null,null).exports);function L(t){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function F(t,e){return(F=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function N(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=$(t);if(e){var i=$(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return M(this,o)}}function M(t,e){return!e||"object"!==L(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $(t){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var H=new f.a,U=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&F(t,e)}(r,t);var e,o,n,i=N(r);function r(){var t;return A(this,r),(t=i.apply(this,arguments)).token="",t.isLiked=!1,t.isReplaing=!1,t.likeCount=0,t.isHoving=!1,t.showConfirm=!1,t}return e=r,(o=[{key:"mounted",value:function(){var t=this.msg;this.isLiked=Boolean(t.is_liked),this.likeCount=t.like_count}},{key:"mouseenter",value:function(){this.isHoving=!0}},{key:"mouseleave",value:function(){this.isHoving=!1}},{key:"replayAction",value:function(){var t=this;this.excuteCheckLogin((function(){t.isReplaing=!t.isReplaing}))}},{key:"deleteAction",value:function(){var t=this;this.excuteCheckLogin((function(){Object(s.c)(!0),t.showConfirm=!0}))}},{key:"cancelAction",value:function(){this.showConfirm=!1,Object(s.c)(!1)}},{key:"okAction",value:function(){this.showConfirm=!1,Object(s.c)(!1),this.$emit("delete",this.msg),a.log.xsend(102266)}},{key:"likeAction",value:function(){var t=this;this.excuteCheckLogin((function(){var e=t.isLiked,o={doc_id:t.docId,reply_id:t.msg.reply_id,token:t.token,type:e?"2":"1"},n=new FormData;for(var i in o)n.append(i,o[i]);c.wkAxios.post(l.API_MAP.likeComment,n).then((function(o){t.isLiked=!e;var n=t.likeCount;e?n-=1:n+=1,n>=0&&(t.likeCount=n)})).catch((function(e){t.$emit("sendCommand",{type:"like",code:99})}))}))}},{key:"excuteCheckLogin",value:function(t){this.isLogin?t():H.log()}},{key:"sendStateChange",value:function(t){t.code===l.sendState.success&&(this.isReplaing=!1),this.$emit("replayStateChange",t)}},{key:"likeDes",get:function(){var t=this.likeCount;return!t||t<=0||0===t?"赞":s.a.formateNum(t)}},{key:"showDel",get:function(){return Boolean(this.msg.is_self)&&this.isHoving}},{key:"showReply",get:function(){var t=this.msg.parent_content;return!t||0===t.length}}])&&B(e.prototype,o),n&&B(e,n),r}(r.Vue);Object(i.a)([Object(r.Prop)()],U.prototype,"docId",void 0),Object(i.a)([Object(r.Prop)()],U.prototype,"docInfo2019",void 0),Object(i.a)([Object(r.Prop)()],U.prototype,"isLogin",void 0),Object(i.a)([Object(r.Prop)()],U.prototype,"token",void 0),Object(i.a)([Object(r.Prop)()],U.prototype,"msg",void 0);var G=U=Object(i.a)([Object(r.Component)({components:{TextField:j,Confirm:R}})],U),q=(o(326),Object(O.default)(G,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ct-item",on:{mouseenter:t.mouseenter,mouseleave:t.mouseleave}},[o("div",{staticClass:"avatar",style:"background-image: url("+t.msg.avatar_small+");"}),t._v(" "),o("div",{staticClass:"content-box"},[o("div",{staticClass:"top"},[o("span",{staticClass:"nick-name"},[t._v(t._s(t.msg.display_name))]),t._v(" "),t.msg.parent_display_name?[o("span",{staticClass:"replay"},[t._v("回复")]),t._v(" "),o("span",{staticClass:"nick-name"},[t._v(t._s(t.msg.parent_display_name))])]:t._e(),t._v(" "),o("span",{staticClass:"time"},[t._v(t._s(t.msg.create_time))])],2),t._v(" "),o("p",{staticClass:"msg"},[t._v(t._s(t.msg.content))]),t._v(" "),t.msg.parent_content?[o("div",{staticClass:"trigle"}),t._v(" "),o("p",{staticClass:"msg-replay"},[t._v(t._s(t.msg.parent_content))])]:t._e(),t._v(" "),o("div",{staticClass:"bottom"},[o("span",{staticClass:"like",class:{liked:t.isLiked},on:{click:t.likeAction}},[t._v("\n                "+t._s(t.likeDes)+"\n            ")]),t._v(" "),t.showReply?o("span",{staticClass:"replay",on:{click:t.replayAction}},[t._v("\n                "+t._s(t.isReplaing?"取消回复":"回复")+"\n            ")]):t._e(),t._v(" "),t.showDel?o("span",{staticClass:"delete",on:{click:t.deleteAction}},[t._v("\n                删除\n            ")]):t._e()]),t._v(" "),t.isReplaing?o("TextField",{attrs:{replay:1,indentifier:t.msg.reply_id,"replay-id":t.msg.reply_id,placeholder:"回复"+t.msg.display_name+" ：","is-login":t.isLogin,docId:t.docId,docInfo2019:t.docInfo2019},on:{sendStateChange:t.sendStateChange}}):t._e()],2),t._v(" "),o("div",{staticClass:"line"}),t._v(" "),o("Confirm",{directives:[{name:"show",rawName:"v-show",value:t.showConfirm,expression:"showConfirm"}],attrs:{message:"确定要删除评论嘛？",ok:"确定",cancel:"取消"},on:{okAction:t.okAction,cancelAction:t.cancelAction,closeAction:t.cancelAction}})],1)}),[],!1,null,null,null).exports);function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function W(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Q(t,e){return(Q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=Z(t);if(e){var i=Z(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return J(this,o)}}function J(t,e){return!e||"object"!==z(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Z(t){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var X=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q(t,e)}(r,t);var e,o,n,i=Y(r);function r(){var t;return W(this,r),(t=i.apply(this,arguments)).cur=1,t.max=5,t}return e=r,(o=[{key:"itemClick",value:function(t){this.pageChanged(t)}},{key:"nextClick",value:function(){var t=this.cur;t+1<=this.total&&this.pageChanged(t+1)}},{key:"preClick",value:function(){var t=this.cur;t-1>0&&(this.cur=t-1,this.pageChanged(t-1))}},{key:"pageChanged",value:function(t){this.cur=t,this.$emit("pageChanged",t)}},{key:"justList",get:function(){return s.a.generateList(this.total+1)}},{key:"leftList",get:function(){return s.a.generateList(this.max)}}])&&K(e.prototype,o),n&&K(e,n),r}(r.Vue);Object(i.a)([Object(r.Prop)(Number)],X.prototype,"total",void 0);var tt=X=Object(i.a)([r.Component],X),et=(o(327),Object(O.default)(tt,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ct-page-control"},[o("div",{staticClass:"page-box"},[t.cur>1?o("div",{staticClass:"pre",on:{click:function(e){return t.preClick()}}}):t._e(),t._v(" "),t.total<=t.max?t._l(t.justList,(function(e,n){return o("div",{key:n,staticClass:"page-item",class:{selected:e==t.cur},domProps:{textContent:t._s(e)},on:{click:function(o){return t.itemClick(e)}}})})):[t.cur<t.max-1?[t._l(t.leftList,(function(e,n){return o("div",{key:n,staticClass:"page-item",class:{selected:e==t.cur},domProps:{textContent:t._s(e)},on:{click:function(o){return t.itemClick(e)}}})})),t._v(" "),o("div",{staticClass:"more"},[t._v("...")])]:t.total-t.cur<t.max-2?[o("div",{staticClass:"page-item",class:{selected:1==t.cur},on:{click:function(e){return t.itemClick(1)}}},[t._v("1")]),t._v(" "),o("div",{staticClass:"more"},[t._v("...")]),t._v(" "),o("div",{staticClass:"page-item",class:{selected:t.total-3==t.cur},domProps:{textContent:t._s(t.total-3)},on:{click:function(e){return t.itemClick(t.total-3)}}}),t._v(" "),o("div",{staticClass:"page-item",class:{selected:t.total-2==t.cur},domProps:{textContent:t._s(t.total-2)},on:{click:function(e){return t.itemClick(t.total-2)}}}),t._v(" "),o("div",{staticClass:"page-item",class:{selected:t.total-1==t.cur},domProps:{textContent:t._s(t.total-1)},on:{click:function(e){return t.itemClick(t.total-1)}}})]:[o("div",{staticClass:"page-item",class:{selected:1==t.cur},on:{click:function(e){return t.itemClick(1)}}},[t._v("1")]),t._v(" "),o("div",{staticClass:"more"},[t._v("...")]),t._v(" "),o("div",{staticClass:"page-item",domProps:{textContent:t._s(t.cur-1)},on:{click:function(e){return t.itemClick(t.cur-1)}}}),t._v(" "),o("div",{staticClass:"page-item selected",domProps:{textContent:t._s(t.cur)},on:{click:function(e){return t.itemClick(t.cur)}}}),t._v(" "),o("div",{staticClass:"page-item",domProps:{textContent:t._s(t.cur+1)},on:{click:function(e){return t.itemClick(t.cur+1)}}}),t._v(" "),o("div",{staticClass:"more"},[t._v("...")])],t._v(" "),o("div",{staticClass:"page-item",class:{selected:t.total==t.cur},domProps:{textContent:t._s(t.total)},on:{click:function(e){return t.itemClick(t.total)}}})],t._v(" "),t.cur!=t.total?o("div",{staticClass:"next",on:{click:t.nextClick}}):t._e()],2)])}),[],!1,null,null,null).exports);function ot(t){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function it(t,e){return(it=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=at(t);if(e){var i=at(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return ct(this,o)}}function ct(t,e){return!e||"object"!==ot(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function at(t){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var st=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&it(t,e)}(o,t);var e=rt(o);function o(){var t;return nt(this,o),(t=e.apply(this,arguments)).message="",t.iconType=0,t}return o}(r.Vue);Object(i.a)([Object(r.Prop)()],st.prototype,"message",void 0),Object(i.a)([Object(r.Prop)()],st.prototype,"iconType",void 0);var lt=st=Object(i.a)([r.Component],st),ut=(o(328),Object(O.default)(lt,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"toast-box"},["1"===this.iconType?e("p",{staticClass:"message success-icon",domProps:{textContent:this._s(this.message)}}):e("p",{staticClass:"message",domProps:{textContent:this._s(this.message)}})])}),[],!1,null,null,null).exports);function pt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function ft(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?pt(Object(o),!0).forEach((function(e){dt(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):pt(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function dt(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var ht={data:function(){return{isOpen:!1,isLoading:!1,curPage:0,toastType:0,toastText:""}},computed:ft(ft(ft({},Object(n.mapState)(["commentInfo","isLogin"])),Object(n.mapGetters)(["docId","docInfo2019"])),{},{totalDes:function(){var t=this.commentInfo;return t&&t.total_count&&t.total_count>0?"全部 "+t.total_count+" 条评论":"暂无评论"},lookTitle:function(){var t=this.commentInfo;return t&&t.total_count&&t.total_count>0?"查看全部 "+t.total_count+" 条评论":""},isNeedOpen:function(){return!this.isOpen&&this.commentInfo.total_count>3},totalPage:function(){var t=this.commentInfo;if(t&&t.total_count){var e=Math.ceil(t.total_count/10);return Math.round(t.total_count%10)>0&&(e+=1),e}return 0},isNeedPage:function(){return!!this.isOpen&&this.commentInfo.total_count>10},comentList:function(){var t=this.commentInfo;return t&&t.comment_list?this.isOpen?t.comment_list:t.total_count>3?t.comment_list.slice(0,3):t.comment_list:[]}}),components:{ListItem:q,TextField:j,PageControl:et,Toast:ut},created:function(){this.requestCommentList(0,!1)},methods:ft(ft({},Object(n.mapMutations)(["setCommentInfo"])),{},{openClick:function(){this.isOpen=!this.isOpen},pageChanged:function(t){this.requestCommentList(t-1,!0)},sendStateChange:function(t){t.code===l.sendState.success?(this.requestCommentList(0,!1),this.showToast("评论发布成功",1)):t.msg&&this.showToast(t.msg)},sendCommand:function(t){"like"===t.type&&this.showToast("系统错误，请刷新再试")},showToast:function(t,e){var o=this;this.toastText=t,this.toastType=e?e.toString():0,setTimeout((function(){o.toastText=""}),2e3)},deleteComment:function(t){var e=this,o={docid:this.docId,commentid:t.reply_id,token:this.commentInfo.token,type:"1"},n=new FormData;for(var i in o)n.append(i,o[i]);c.wkAxios.post(l.API_MAP.deleteComment,n).then((function(t){e.requestCommentList(e.curPage,!1),e.showToast("评论删除成功",1)})).catch((function(t){e.showToast("系统错误，请刷新再试")}))},requestCommentList:function(t,e){var o=this;e&&(this.isLoading=!0),c.wkAxios.get(l.API_MAP.getCommentList,{params:{doc_id:this.docId,pn:10*t,rn:10,type:"1"}}).then((function(n){n&&o.setCommentInfo(n),e&&(o.isLoading=!1),o.curPage=t})).catch((function(t){e&&(o.isLoading=!1)}))}})},vt=(o(329),Object(O.default)(ht,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return 0===t.docInfo2019.doc_info.forbidden_comment?o("div",{staticClass:"comment-wrapper"},[o("p",{staticClass:"title",domProps:{textContent:t._s(t.totalDes)}}),t._v(" "),o("div",{staticClass:"line"}),t._v(" "),o("TextField",{attrs:{"is-login":t.isLogin,docId:t.docId,docInfo2019:t.docInfo2019,replay:0,placeholder:"评论一句，知音难寻..."},on:{sendStateChange:t.sendStateChange}}),t._v(" "),t.commentInfo.total_count>0?o("div",{staticClass:"msg-top-line"}):t._e(),t._v(" "),t._l(t.comentList,(function(e,n){return[o("ListItem",{key:n,staticClass:"ct-item",attrs:{msg:e,token:t.commentInfo.token,docId:t.docId,docInfo2019:t.docInfo2019,isLogin:t.isLogin},on:{replayStateChange:t.sendStateChange,delete:t.deleteComment,sendCommand:t.sendCommand}})]})),t._v(" "),t.isNeedOpen?o("p",{staticClass:"more-coment",domProps:{textContent:t._s(t.lookTitle)},on:{click:t.openClick}}):t._e(),t._v(" "),t.isNeedPage?o("PageControl",{staticClass:"pagecontrol",attrs:{total:t.totalPage},on:{pageChanged:t.pageChanged}}):t._e(),t._v(" "),t.isLoading?o("div",{staticClass:"loading-more"}):t._e(),t._v(" "),o("Toast",{directives:[{name:"show",rawName:"v-show",value:t.toastText.length>0,expression:"toastText.length > 0"}],attrs:{message:t.toastText,"icon-type":t.toastType}})],2):t._e()}),[],!1,null,null,null));e.a=vt.exports},function(t,e,o){"use strict";var n=o(5),i=o(1),r=o(0),c=o(2),a=o(10);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=h(t);if(e){var i=h(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return d(this,o)}}function d(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(r,t);var e,o,n,i=f(r);function r(){var t;return l(this,r),(t=i.apply(this,arguments)).hover=!1,t}return e=r,(o=[{key:"iconHover",value:function(){c.log.xsend(101018),this.hover=!0}},{key:"iconOut",value:function(){this.hover=!1}},{key:"qrairCode",get:function(){return a.b.state.pageData.getGuideNaXpage.find((function(t){return"1020999h"===t.guideNARefer}))}}])&&u(e.prototype,o),n&&u(e,n),r}(r.Vue),m=v=Object(i.a)([r.Component],v),b=(o(308),o(4)),y=Object(b.default)(m,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"qr-wrapper no-full-screen"},[o("div",{staticClass:"qrair",class:{in:t.hover,out:!t.hover}},[o("p",{staticClass:"qrairtitle"},[t._v("扫码下载文库APP")]),t._v(" "),o("div",{staticClass:"qraircode",style:{backgroundImage:"url("+t.qrairCode.codeImg+")"}})]),t._v(" "),o("div",{staticClass:"qricon",on:{mouseover:t.iconHover,mouseout:t.iconOut}})])}),[],!1,null,null,null).exports,g=o(20);function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=k(t);if(e){var i=k(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return P(this,o)}}function P(t,e){return!e||"object"!==_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(r,t);var e,o,n,i=j(r);function r(){var t;return w(this,r),(t=i.apply(this,arguments)).hover=!1,t}return e=r,(o=[{key:"clickItem",value:function(){c.log.xsend(101556),g.default.loadRightBar()}},{key:"iconHover",value:function(){this.hover=!0}},{key:"iconOut",value:function(){this.hover=!1}}])&&C(e.prototype,o),n&&C(e,n),r}(r.Vue),S=x=Object(i.a)([r.Component],x),I=(o(309),Object(b.default)(S,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"feedback-wrapper no-full-screen"},[e("div",{staticClass:"fdair",class:{in:this.hover,out:!this.hover}},[e("div",{staticClass:"fdairtitle"},[this._v("意见反馈")])]),this._v(" "),e("div",{staticClass:"fdicon",on:{mouseover:this.iconHover,mouseout:this.iconOut,click:this.clickItem}})])}),[],!1,null,null,null).exports),T=o(3),D=o(120),V=o(8),E=o(17);function R(t){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function F(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=M(t);if(e){var i=M(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return N(this,o)}}function N(t,e){return!e||"object"!==R(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $=new(o.n(E).a),H=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(r,t);var e,o,n,i=F(r);function r(){var t;return L(this,r),(t=i.apply(this,arguments)).showSharePop=!1,t.shareType="",t.shareInfo={source:"",from:"sidebar",cPosition:"absolute",direction:"bottom",zIndex:201,docId:""},t}return e=r,(o=[{key:"shareDoc",value:function(){c.log.xsend(102507,{index:2});var t=Object(T.$)("#doc-info-share-btn"),e=t.offset();if(this.shareInfo={source:t,from:"sidebar",cPosition:"absolute",direction:"bottom",cTop:e.top+t.height(),cLeft:e.left-(156-t.width())/2,zIndex:202,docId:this.docId},this.distributionType){if(!this.isLogin)return void $.log();this.shareType="distribution",this.showSharePop=!0,Object(T.$)(".sidebar-wrapper").css("z-index",201)}else this.shareType="normal",this.showSharePop=!this.showSharePop}},{key:"closeShareTip",value:function(){this.showSharePop=!1,Object(T.$)(".sidebar-wrapper").css("z-index",200)}},{key:"distributionType",get:function(){var t=V.a.CASH,e=V.a.VIP_RIGHT,o=this.docInfo2019.doc_info.doc_type;return o===t||o===e}}])&&A(e.prototype,o),n&&A(e,n),r}(r.Vue);Object(i.a)([Object(r.Prop)()],H.prototype,"pageData",void 0),Object(i.a)([Object(r.Prop)()],H.prototype,"docInfo2019",void 0),Object(i.a)([Object(r.Prop)()],H.prototype,"docId",void 0),Object(i.a)([Object(r.Prop)()],H.prototype,"isLogin",void 0);var U=H=Object(i.a)([Object(r.Component)({components:{Share:D.a}})],H),G=(o(312),Object(b.default)(U,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ex-wrapper no-full-screen"},[t.distributionType?o("div",{staticClass:"extension",on:{click:t.shareDoc}}):t._e(),t._v(" "),o("Share",{attrs:{shareInfo:t.shareInfo,visible:t.showSharePop,shareType:t.shareType},on:{closeShareTip:t.closeShareTip}})],1)}),[],!1,null,"027d648a",null).exports);function q(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function z(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?q(Object(o),!0).forEach((function(e){W(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):q(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function W(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var K={data:function(){return{hover:!1}},computed:z(z({},Object(n.mapGetters)(["tplName"])),{},{isXmindTpl:function(){return"xmind"===this.tplName?"no-full-screen":""}}),methods:z(z({},Object(n.mapMutations)(["boolean","setFixBoxFixed"])),{},{clickItem:function(){c.log.xsend(102240),this.setFixBoxFixed(!1),window.scrollTo({top:0,behavior:"smooth"})},iconHover:function(){this.hover=!0},iconOut:function(){this.hover=!1}})},Q=(o(313),Object(b.default)(K,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"backtop-wrapper",class:[t.isXmindTpl]},[o("div",{staticClass:"btair",class:{in:t.hover,out:!t.hover}},[o("div",{staticClass:"btairtitle"},[t._v("回到顶部")])]),t._v(" "),o("div",{staticClass:"bticon",on:{mouseover:t.iconHover,mouseout:t.iconOut,click:t.clickItem}})])}),[],!1,null,null,null).exports),Y=o(127);function J(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function Z(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var X={data:function(){return{plusVisible:!1,minusVisible:!1,centerVisible:!1,scale:0}},props:{isFullScreen:Boolean},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?J(Object(o),!0).forEach((function(e){Z(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):J(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},Object(n.mapState)(["eventBus"])),watch:{isFullScreen:function(){this.scale=0}},methods:{iconHover:function(t){this.iconHandler(t,!0)},iconOut:function(t){this.iconHandler(t,!1)},iconHandler:function(t,e){this["".concat(t,"Visible")]=e},clickItem:function(t){var e=this.scale;"plus"===t&&e<Y.a.length-1?e++:"minus"===t&&e>0?e--:"center"===t&&Object(Y.b)(),this.scale=e,this.eventBus.emit("zoomControl",e)}}},tt=(o(314),Object(b.default)(X,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"zoom-control-wrapper anti-no-full-screen"},[o("div",{staticClass:"zoom-plus zoom-item"},[o("div",{staticClass:"plus-txt-wrapper txt-wrap-item",class:[t.plusVisible?"in":"out"]},[o("div",{staticClass:"plus-txt"},[t._v("放大")])]),t._v(" "),o("div",{staticClass:"plus-icon icon-item",class:[t.plusVisible?"in":"out"],on:{mouseover:function(e){return t.iconHover("plus")},mouseout:function(e){return t.iconOut("plus")},click:function(e){return t.clickItem("plus")}}})]),t._v(" "),o("div",{staticClass:"zoom-minus zoom-item"},[o("div",{staticClass:"minus-txt-wrapper txt-wrap-item",class:[t.minusVisible?"in":"out"]},[o("div",{staticClass:"minus-txt"},[t._v("缩小")])]),t._v(" "),o("div",{staticClass:"minus-icon icon-item",class:[t.minusVisible?"in":"out"],on:{mouseover:function(e){return t.iconHover("minus")},mouseout:function(e){return t.iconOut("minus")},click:function(e){return t.clickItem("minus")}}})]),t._v(" "),o("div",{staticClass:"zoom-center zoom-item"},[o("div",{staticClass:"center-txt-wrapper txt-wrap-item",class:[t.centerVisible?"in":"out"]},[o("div",{staticClass:"center-txt"},[t._v("居中")])]),t._v(" "),o("div",{staticClass:"center-icon icon-item",class:[t.centerVisible?"in":"out"],on:{mouseover:function(e){return t.iconHover("center")},mouseout:function(e){return t.iconOut("center")},click:function(e){return t.clickItem("center")}}})])])}),[],!1,null,"510ac099",null).exports);function et(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function ot(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?et(Object(o),!0).forEach((function(e){nt(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):et(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function nt(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var it={data:function(){return{hasHideClass:!1}},props:{isFullScreen:Boolean},computed:ot(ot(ot({},Object(n.mapGetters)(["docInfo2019","docId","tplName"])),Object(n.mapState)(["pageData","scrollObject","isLogin"])),{},{visibleExtension:function(){var t=V.a.CASH,e=V.a.VIP_RIGHT,o=this.docInfo2019;return o.doc_info.doc_type===t||o.doc_info.doc_type===e},showZoomControl:function(){return"xmind"===this.tplName},showBackTop:function(){return"xmind"!==this.tplName||!this.isFullScreen}}),components:{ExtensionItem:G,QrItem:y,FeedbackItem:I,BacktopItem:Q,ZoomControl:tt},created:function(){0===window.scrollY&&(this.hasHideClass=!0)},watch:{"scrollObject.top":function(t,e){this.hasHideClass=e<=0}}},rt=(o(315),Object(b.default)(it,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"sidebar-wrapper"},[t.visibleExtension?o("ExtensionItem",{attrs:{pageData:t.pageData,docId:t.docId,docInfo2019:t.docInfo2019,isLogin:t.isLogin}}):t._e(),t._v(" "),o("QrItem"),t._v(" "),o("FeedbackItem"),t._v(" "),t.showZoomControl?o("ZoomControl",{attrs:{"is-full-screen":t.isFullScreen}}):t._e(),t._v(" "),o("BacktopItem",{staticClass:"btwrapper",class:{hide:t.hasHideClass}})],1)}),[],!1,null,null,null));e.a=rt.exports},function(t,e,o){"use strict";var n=o(5),i=(o(0),o(111)),r=o(3),c=o(2),a=new(o(115).default)(navigator.userAgent);function s(){var t=Object(r.$)("#reader-helper");return{left:+t.css("left").replace("px",""),top:+t.css("top").replace("px","")}}function l(){var t=document;return window.pageYOffset||t.documentElement.scrollTop||t.body.scrollTop}var u={x:0,y:0},p=!1;function f(){r._.has(document,"selection.empty")?document.selection.empty():window.getSelection().removeAllRanges()}function d(t,e){if(!t)return!1;var o,n,i=t.commonAncestorContainer||t.parentElement();return i&&(o=e,n=i,r.$.contains(o,n)||o===n)}function h(t){var e=function(){var t;if(r._.has(document,"selection.createRange"))t=document.selection.createRange();else{var e=window.getSelection();t=e&&e.rangeCount?e.getRangeAt(0):""}return t}();return!!d(e,t)&&("Internet Explorer"===a.browser.name?e.text:e.toString())}function v(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function m(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?v(Object(o),!0).forEach((function(e){b(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):v(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function b(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}!p&&Object(r.$)(document).on("mousemove",(function(t){u.x=t.clientX,u.y=t.clientY,p=!0}));Object(i.namespace)("readerPlugin");var y={en:"英",zh:"汉",jp:"日"},g={data:function(){return{logImgSrc:"https://edu-wenku.bdimg.com/icms_transform/img/iknow/wenku/fanyi/fanyi.png",makerHtml:"",titleHtml:"",href:"http://fanyi.baidu.com/",style:{left:0,top:0}}},computed:m(m({},Object(n.mapState)("readerPlugin",["visibleTranslate"])),Object(n.mapGetters)("readerPlugin",["selectedTextTrim"])),watch:{visibleTranslate:function(t){if(t){var e=s(),o=e.left,n=e.top;this.style={left:o+25,top:n-135},this.command()}}},methods:m(m({},Object(n.mapMutations)("readerPlugin",["setVisibleTranslate","setSelectedText"])),{},{clickStop:function(){this.setVisibleTranslate(!1),this.clear(),this.setSelectedText(""),f()},clear:function(){this.makerHtml="",this.titleHtml=""},handleBlur:function(t){var e=this,o=!(!t.target||!t.target.id||"reader-plugin-translate"!==t.target.id);o||(o=!(!t.relatedTarget||!t.relatedTarget.id||"reader-fanyi-link"!==t.relatedTarget.id)),o?setTimeout((function(){e.setVisibleTranslate(!1),e.clear()}),1e3):(this.setVisibleTranslate(!1),this.clear())},command:function(){var t=this,e=this.selectedTextTrim;if(!e)return!1;this.getTranslate(e,(function(o,n){t.makerHtml=n.join("<br/>"),t.titleHtml=(y[o.from]||"")+(y[o.to]||"");var i=encodeURIComponent(e);t.href="http://fanyi.baidu.com/#auto2auto|".concat(i)})),Object(r.$)("#reader-plugin-translate").focus()},getTranslate:function(t,e){r.$.ajax({url:"https://openapi.baidu.com/public/2.0/bmt/translate",dataType:"jsonp",data:{client_id:"ZSOa9QIVMGqTVsonm1kRzXEF",from:"auto",to:"auto",q:t},success:function(t){var o=[];!Object.prototype.hasOwnProperty.call(t,"error_code")&&t.trans_result&&(r.$.each(t.trans_result,(function(){var t=Object(r.$)("<div>").text(this.dst).html();o.push(t)})),e(t,o))}})}})},_=(o(275),o(4)),w=Object(_.default)(g,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"show",rawName:"v-show",value:t.visibleTranslate,expression:"visibleTranslate"}],style:"left: "+t.style.left+"px; top: "+t.style.top+"px;",attrs:{id:"reader-plugin-translate"},on:{blur:function(e){return t.handleBlur(e)}}},[o("div",{staticClass:"tips-wrap"},[o("span",{staticClass:"trangle"}),t._v(" "),o("div",{staticClass:"inner"},[o("div",{staticClass:"hd"},[o("span",{staticClass:"title"},[t._v("\n                    以下结果由\n                    "),o("img",{attrs:{src:t.logImgSrc}}),t._v("\n                    提供："),o("span",{attrs:{id:"reader-translate-title"},domProps:{innerHTML:t._s(t.titleHtml)}})]),t._v(" "),o("span",{staticClass:"act"},[o("span",{staticClass:"close",on:{click:function(e){return e.stopPropagation(),t.clickStop(e)}}},[t._v("×")])])]),t._v(" "),o("div",{staticClass:"bd"},[o("div",{attrs:{id:"reader-translate-marker"},domProps:{innerHTML:t._s(t.makerHtml)}})]),t._v(" "),o("div",{staticClass:"ft"},[o("a",{attrs:{href:t.href,id:"reader-fanyi-link",target:"_blank"}},[t._v("百度翻译")])])])])])}),[],!1,null,"67d9bdfd",null).exports,C=o(18),O=o(6),j=o(61),P=o.n(j),k=(o(62),o(12));function x(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function S(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?x(Object(o),!0).forEach((function(e){I(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):x(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function I(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var T={data:function(){return{visibleToast:!1,timer:void 0,qr:void 0,qrCodeStyle:{left:0,top:0}}},computed:S(S({},Object(n.mapGetters)(["isVip"])),Object(n.mapGetters)("readerPlugin",["selectedTextTrim","visibleSendToPhoneDialog","visibleSendToPhoneQrcode"])),created:function(){Object(r.$)(window).on("scroll",r.$.proxy(this.setDialogPosition,this)),Object(r.$)(window).on("resize",r.$.proxy(this.setDialogPosition,this))},watch:{visibleSendToPhoneQrcode:function(t){var e=this;if(t&&this.isVip&&(this.visibleToast=!0,setTimeout((function(){e.visibleToast=!1}),3e3)),t){var o=s(),n=o.left,i=o.top;this.qrCodeStyle={left:n+45,top:i-165};var r=this.selectedTextTrim,c={act:"add",content:r,title:document.title.replace("_百度文库","")},a=new FormData;for(var l in c)a.append(l,c[l]);return O.wkAxios.post("/browse/interface/sendcopytxt",a,{timeout:5e3}).then((function(t){var o=t.token;e.toWap(r,o)}))}this.clear()}},methods:S(S({},Object(n.mapMutations)("readerPlugin",["setIsSendToPhoneActivated","setSendCount"])),{},{clickVipText:function(){var t=Object(k.b)("/ndcashier/browse/jiaoyuvipcashier",{},"send_joinvip");window.open(t)},closeQrcode:function(){this.clear(),this.setIsSendToPhoneActivated(!1),f()},clear:function(){this.$refs.qrcodeWrap.innerHTML=""},toWap:function(t,e){var o=this.isVip,n=+new Date;if(!t||!e)return!1;var i="https://wk.baidu.com/topic/sendToPhone/sendToPhone?"+r.$.param({token:encodeURIComponent(e),currentTime:n,isVip:o});this.qr=new P.a(this.$refs.qrcodeWrap,{text:i,width:124,height:124,colorDark:"#000000",colorLight:"#ffffff",correctLevel:P.a.CorrectLevel.L}),o?c.log.xsend(101795):this.updateSendCountToCookie(),Object(r.$)("#reader-qrcode-tip").focus()},closeDialog:function(){c.log.xsend(101794,{type:"close"}),this.setIsSendToPhoneActivated(!1),clearInterval(this.timer)},updateSendCountToCookie:function(){var t=+(C.default.get("Send_Count")||0);this.setSendCount(t+1)},clickOpenVip:function(){c.log.xsend(101794,{type:"cashier"});var t=Object(k.b)("/ndcashier/browse/jiaoyuvipcashier",{},"send_joinvip");window.location.href=t},setDialogPosition:function(){var t=Number(Object(r.$)(document).scrollTop()),e=(Number(Object(r.$)(window).width())-466)/2,o=(Number(Object(r.$)(window).height())-252)/2;Object(r.$)(".send-to-phone-pop-container").css({top:o+t,left:e})}})},D=(o(276),Object(_.default)(T,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{directives:[{name:"show",rawName:"v-show",value:t.visibleSendToPhoneDialog,expression:"visibleSendToPhoneDialog"}],staticClass:"send-to-phone-dialog"},[o("div",{staticClass:"pop-up-window"}),t._v(" "),o("div",{staticClass:"send-to-phone-pop-container super-vip"},[o("div",{staticClass:"pop-container"},[o("div",{staticClass:"close-dialog-btn",on:{click:t.closeDialog}}),t._v(" "),o("div",{staticClass:"title"},[t._v("超出发送上限，加入VIP即可继续发送")]),t._v(" "),o("div",{staticClass:"coupon",on:{click:t.clickOpenVip}},[t._m(0),t._v(" "),t._m(1)]),t._v(" "),o("div",{staticClass:"get-coupon-btn",on:{click:t.clickOpenVip}},[o("i"),t._v("开通VIP，享无限制发送与复制特权\n                ")]),t._v(" "),t._m(2)])])]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.visibleToast,expression:"visibleToast"}],staticClass:"toast-over-count-wrap"},[t._v("\n        超过1万字无法发送，您可减少字数多次发送\n    ")]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.visibleSendToPhoneQrcode,expression:"visibleSendToPhoneQrcode"}],class:t.isVip?"vip":"not-vip",style:"left: "+t.qrCodeStyle.left+"px; top: "+t.qrCodeStyle.top+"px;",attrs:{id:"reader-qrcode-tip"}},[o("div",{staticClass:"hd"},[t._m(3),t._v(" "),o("span",{staticClass:"link-close",on:{click:function(e){return e.stopPropagation(),t.closeQrcode(e)}}})]),t._v(" "),o("div",{staticClass:"bd"},[o("div",{attrs:{id:"reader-qrcode-marker"}},[o("div",{ref:"qrcodeWrap",staticClass:"reader-qrcode-wrap"})]),t._v(" "),t.isVip?t._e():o("div",{staticClass:"vip-text super-vip"},[o("span",{on:{click:t.clickVipText}},[t._v("\n                    VIP享无限制发送特权\n                ")])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"left-qrcode"},[e("span",[this._v("未开通VIP")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"right-text"},[this._v("\n                        选择文档内容"),e("br"),this._v("扫一扫，立即发送到手机\n                    ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon-group"},[e("div",{staticClass:"item item-1"},[e("i"),this._v("享VIP专享文档下载特权\n                    ")]),this._v(" "),e("div",{staticClass:"item item-2"},[e("i"),this._v("赠共享文档下载特权\n                    ")]),this._v(" "),e("div",{staticClass:"item item-3"},[e("i"),this._v("100W篇文档免费专享\n                    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("div",[this._v("选择内容扫一扫")]),this._v(" "),e("div",[this._v("立即发送到手机")])])}],!1,null,"45ede2a4",null).exports),V=o(116),E=o.n(V),R=o(8);function L(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function A(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?L(Object(o),!0).forEach((function(e){B(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):L(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function B(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var F={props:{copyBtnId:String},data:function(){return{visibleTip:!1,visibleDialog:!1,visibleOverText:!1,clipboard:void 0,cannotCopy:!1}},computed:A(A(A({},Object(n.mapState)("readerPlugin",["lastStatus","isCopyActivated"])),Object(n.mapGetters)(["isVip","docInfo2019","isSecret"])),Object(n.mapGetters)("readerPlugin",["selectedTextTrim","formatedText"])),mounted:function(){var t=this;this.clipboard=new E.a(".".concat(this.copyBtnId)),this.clipboard.on("success",(function(e){t.setVisible(!1);var o=t.selectedTextTrim.length||0;if(t.isOverLimit(o))return t.visibleOverText=!0,void setTimeout((function(){t.visibleOverText=!1}),3e3);t.canCopy(t.selectedTextTrim.length)&&(t.visibleTip=!0,setTimeout((function(){t.visibleTip=!1}),2e3),!t.isVip&&t.setCountToCookie()),c.log.xsend(101642,{index:2}),e.clearSelection()})),this.bindEvent()},watch:{isCopyActivated:function(t){t&&this.cannotCopy&&(this.showVipGuideCard(),c.log.xsend(101643,{index:1}))},formatedText:function(t){this.canCopy(t.length)?(Object(r.$)(".".concat(this.copyBtnId)).attr("data-clipboard-text",t),this.cannotCopy=!1):this.cannotCopy=!0}},methods:A(A(A({},Object(n.mapMutations)(["setVisible"])),Object(n.mapMutations)("readerPlugin",["setIsCopyActivated"])),{},{bindEvent:function(){var t=this,e=this;Object(r.$)(document).on("keydown",(function(o){var n=setTimeout((function(){var i=o.keyCode||o.which||o.charCode;if((o.ctrlKey||o.metaKey)&&67===i&&e.cannotCopy){var r,a,s=2!=+(null===(r=t.docInfo2019)||void 0===r||null===(a=r.doc_info)||void 0===a?void 0:a.doc_type);c.log.xsend(102918,{index:s}),s&&t.showVipGuideCard()}clearTimeout(n)}),300)}))},canCopy:function(t){var e=this.getCountFromCookie()<10;return t>100&&!this.isVip&&!this.isSecret&&(e=!1),this.isVip||e},isOverLimit:function(t){return!(!((t=t||0)>1e3&&this.isVip)||this.isSecret)},showVipGuideCard:function(){this.visibleDialog=!0},clickDialogClose:function(){this.visibleDialog=!1,this.setIsCopyActivated(!1)},getCountFromCookie:function(){return+(C.default.get("Copy_Count")||0)},setCountToCookie:function(){var t=this.getCountFromCookie();C.default.set("Copy_Count",String(t+1),{path:"/",expires:1})},clickBuyVipBtn:function(){var t,e=this.docInfo2019,o=e.doc_info,n=e.price_info;+o.is_vip_free_doc?t="CopyWordsVipFreeDoc_new":o.doc_type===R.a.VIP_RIGHT?t="CopyWordsVipRightDoc_new":0==+n.doc_ticket&&o.doc_type===R.a.TICKET?t="CopyWordsTicketFreeDoc_new":0!=+n.doc_ticket&&o.doc_type===R.a.TICKET&&(t="CopyWordsTicketDoc_new"),c.log.xsend(101643,{index:2}),setTimeout((function(){var e=Object(k.b)("/ndcashier/browse/jiaoyuvipcashier",{},t);window.location.href=e}),500)}})},N=(o(277),Object(_.default)(F,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{directives:[{name:"show",rawName:"v-show",value:t.visibleTip,expression:"visibleTip"}],style:{left:t.lastStatus.x-70+"px",top:t.lastStatus.y-70+"px"},attrs:{id:"reader-copy-success-tip"}},[t._m(0)]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.visibleOverText,expression:"visibleOverText"}],staticClass:"toast-over-text-wrap"},[t._v("\n        您已超出最大复制字数限制，请减少字数重新尝试\n    ")]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.visibleDialog,expression:"visibleDialog"}],staticClass:"dialog-mask"}),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.visibleDialog,expression:"visibleDialog"}],staticClass:"copy-limit-dialog"},[o("div",{staticClass:"close-dialog-btn dialog-close",on:{click:t.clickDialogClose}}),t._v(" "),o("div",{staticClass:"main-content"},[o("span",{staticClass:"tip-message"},[t._v("\n                文档复制为VIP权益，开通VIP可继续复制\n            ")]),t._v(" "),t._m(1),t._v(" "),o("span",{staticClass:"buy-vip-btn",on:{click:t.clickBuyVipBtn}},[t._v("\n                开通VIP, 享受无限制复制特权\n            ")])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tips-wrap"},[e("div",{staticClass:"inner"},[this._v("\n                文字已复制\n            ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"list clearfix"},[e("li",{staticClass:"xztq-r"},[this._v("享VIP专享文档下载特权")]),this._v(" "),e("li",{staticClass:"mfzx-r"},[this._v("赠共享文档下载特权")]),this._v(" "),e("li",{staticClass:"eight-count-r"},[this._v("100W篇文档免费专享")]),this._v(" "),e("li",{staticClass:"gszh-r"},[this._v("文档多格式转化")])])}],!1,null,"1c32be22",null).exports),M=o(21);function $(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function H(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?$(Object(o),!0).forEach((function(e){U(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):$(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function U(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var G={components:{DocTypeIcon:o(53).a},computed:H(H({},Object(n.mapState)("readerPlugin",["visible"])),Object(n.mapGetters)("readerPlugin",["selectedTextTrim"])),data:function(){return{visibleSearchPreview:!1,searchList:[]}},watch:{selectedTextTrim:function(t){t&&t.length<=20&&this.visible?this.fetchSearchResult(t):(this.visibleSearchPreview=!1,this.searchList=[])}},methods:{getDocType:function(t){return Object(R.g)(t)},toSearch:function(t){if(t){c.log.xsend(102734,{index:0});var e=t.replace(/\n/g,"").replace(/\s/g,"+"),o="https://wenku.baidu.com/search?"+r.$.param({word:e,lm:0,od:0,cc:"SearchFloatMore"}),n=M.userAction.sessionXMgr.createUrlParam({p:"viewAll",m:"readerPlugin_searchPreview"},o);window.open(n)}},toView:function(t,e){c.log.xsend(102734,{index:e});var o=t.doc_url;o+=o.indexOf("?")>-1?"&cc=SearchFloatDoc".concat(e):"?cc=SearchFloatDoc".concat(e);var n=M.userAction.sessionXMgr.createUrlParam({p:"viewItem",m:"readerPlugin_searchPreview"},o);window.open(n)},fetchSearchResult:function(t){var e=this,o="/search?word="+encodeURIComponent(t);r.$.ajax({url:o,data:{interface:1},success:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.errno,n=t.data,i=void 0===n?{}:n;if(0===o){var r=i.searchResult,c=Math.min(2,r.length);0!==c&&(e.visibleSearchPreview=!0,e.searchList=r.slice(0,c))}}})}}},q=(o(278),o(279),Object(_.default)(G,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"show",rawName:"v-show",value:t.visibleSearchPreview,expression:"visibleSearchPreview"}],staticClass:"search-result-wrap"},[o("div",{staticClass:"to-search-wrap"},[o("div",{staticClass:"link",on:{click:function(e){return t.toSearch(t.selectedTextTrim)}}},[t._v("\n            查看全部包含“"+t._s(t.selectedTextTrim)+"”的文档\n        ")])]),t._v(" "),o("div",{staticClass:"search-result-list"},t._l(t.searchList,(function(e,n){return o("div",{key:n,staticClass:"search-result-item",on:{click:function(o){return t.toView(e,n+1)}}},[o("div",{staticClass:"doc-head"},[o("DocTypeIcon",{attrs:{"type-name":t.getDocType(e.doc_type)}}),t._v(" "),o("div",{staticClass:"doc-title",domProps:{innerHTML:t._s(e.title)}})],1),t._v(" "),o("div",{staticClass:"doc-desc",domProps:{innerHTML:t._s(e.content)}}),t._v(" "),o("div",{staticClass:"doc-infomation"},[o("div",{staticClass:"doc-date"},[t._v(t._s(e.create_time))]),t._v(" "),o("div",{staticClass:"divider"}),t._v(" "),o("div",{staticClass:"doc-total-page"},[t._v("共"+t._s(e.page_num)+"页")]),t._v(" "),o("div",{staticClass:"divider"}),t._v(" "),o("div",{staticClass:"doc-download-count"},[t._v(t._s(e.download_count)+"次下载")])])])})),0)])}),[],!1,null,"538cd02d",null).exports);function z(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function W(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?z(Object(o),!0).forEach((function(e){K(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):z(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function K(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var Q={props:{rootSelector:String},data:function(){return{copyBtnId:"reader-copy-button",theme:""}},computed:W(W(W(W(W({},Object(n.mapState)(["isLogin"])),Object(n.mapGetters)(["docCopyable","docInfo2019","formatedText","wkSmallflow"])),Object(n.mapState)("readerPlugin",["lastStatus","visible"])),Object(n.mapGetters)("readerPlugin",["selectedTextTrim"])),{},{style:function(){var t=this.lastStatus,e=t.x;return{top:t.y-74+"px",left:e-130+"px"}},wkWeb2270:function(){var t,e,o;return+(null===(t=this.wkSmallflow)||void 0===t||null===(e=t.testData)||void 0===e||null===(o=e[11])||void 0===o?void 0:o.wkWeb2270)}}),watch:{visible:function(t){if(t){var e=this.wkWeb2270;1===e?this.theme="b":2===e?this.selectedTextTrim.length<=20?this.theme="a":this.theme="b":this.theme="a"}}},components:{Copy:N,SendToPhone:D,Translate:w,SearchPreview:q},mounted:function(){this.bindEvent()},methods:W(W({},Object(n.mapMutations)("readerPlugin",["setVisible","setVisibleTranslate","setSelectedText","setIsSendToPhoneActivated","setIsCopyActivated","setLastStatus"])),{},{clickSearch:function(){c.log.xsend(102225);var t=this.selectedTextTrim;if(t){t=t.replace(/\n/g,"").replace(/\s/g,"+");var e=r.$.param({word:t,lm:0,od:0,fr:"top_home",cc:"SearchFloatBtn"});window.open("https://wenku.baidu.com/search?".concat(e))}},clickTranslate:function(){c.log.xsend(102223),c.log.xsend(100787),this.setVisible(!1),this.setVisibleTranslate(!0)},clickSendToPhone:function(){c.log.xsend(100786),c.log.xsend(102224),this.setVisible(!1),this.setIsSendToPhoneActivated(!0)},clickCopy:function(){c.log.xsend(102222),this.setVisible(!1),this.setIsCopyActivated(!0)},bindEvent:function(){var t=this;Object(r.$)(document).on("keydown",(function(e){27===e.keyCode&&(t.clearPops(),f())}));var e=Object(r.$)(this.rootSelector);e.on("mouseup",r.$.proxy(this.onMouseup,this)),e.on("copy",r.$.proxy(this.onCopy,this)),e.on("dragstart",r.$.proxy(this.onDragstart,this)),e.on("contextmenu",r.$.proxy(this.onContextmenu,this))},onMouseup:function(t){if(this.clearPops(),void 0!==t.button&&2!==t.button){this.setIsSendToPhoneActivated(!1);var e=h(Object(r.$)(this.rootSelector)[0]);if(e)this.setSelectedText(e),this.clearPops(),2!=+this.docInfo2019.doc_info.doc_type&&this.showButtons(),c.log.xsend(101642,{index:1})}},onCopy:function(t){var e,o,n=2==+(null===(e=this.docInfo2019)||void 0===e||null===(o=e.doc_info)||void 0===o?void 0:o.doc_type);if(n)return c.log.xsend(102924,{type:n,index:0}),!1;this.docCopyable?c.log.xsend(102924,{type:n,docCopy:this.docCopyable,index:1}):(c.log.xsend(102924,{type:n,docCopy:this.docCopyable,index:2}),this.clearPops(),t.stopPropagation())},onDragstart:function(t){this.isLogin||t.stopPropagation()},onContextmenu:function(t){var e,o,n=this;this.clearPops();var i=h(Object(r.$)(this.rootSelector)[0]),a=2!=+(null===(e=this.docInfo2019)||void 0===e||null===(o=e.doc_info)||void 0===o?void 0:o.doc_type);if(i)var s=setTimeout((function(){a&&n.showButtons(),clearTimeout(s)}),300);return this.isLogin||t.stopPropagation(),c.log.xsend(102917,{index:a,type:i}),!1},clearPops:function(){this.setVisible(!1)},showButtons:function(){var t,e={x:(t=document,(window.pageXOffset||t.documentElement.scrollLeft||t.body.scrollLeft)+u.x),y:l()+u.y},o={x:e.x,y:e.y+21};this.setVisible(!0),this.setLastStatus(o)}})},Y=(o(280),Object(_.default)(Q,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],style:{top:t.style.top,left:t.style.left},attrs:{id:"reader-helper"}},[o("SearchPreview"),t._v(" "),o("div",{staticClass:"tips-wrap"},[o("span",{staticClass:"trangle"}),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:"a"===t.theme,expression:"theme === 'a'"}],staticClass:"inner wk-web-2270-a"},[o("span",{staticClass:"reader-search-button",on:{click:t.clickSearch}},[t._v("搜索")]),t._v(" "),o("span",{staticClass:"divider"}),t._v(" "),o("span",{class:[t.copyBtnId],attrs:{"data-clipboard-text":""},on:{click:t.clickCopy}},[t._v("复制")]),t._v(" "),o("span",{staticClass:"divider"}),t._v(" "),o("span",{staticClass:"reader-qrcode-button",on:{click:function(e){return e.stopPropagation(),t.clickSendToPhone(e)}}},[t._v("发送到手机")]),t._v(" "),o("span",{staticClass:"divider"}),t._v(" "),o("span",{staticClass:"reader-translate-button",on:{click:t.clickTranslate}},[t._v("翻译")])]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:"b"===t.theme,expression:"theme === 'b'"}],staticClass:"inner wk-web-2270-b"},[o("span",{class:[t.copyBtnId],attrs:{"data-clipboard-text":""},on:{click:t.clickCopy}},[t._v("复制")]),t._v(" "),o("span",{staticClass:"divider"}),t._v(" "),o("span",{staticClass:"reader-search-button",on:{click:t.clickSearch}},[t._v("搜索")]),t._v(" "),o("span",{staticClass:"divider"}),t._v(" "),o("span",{staticClass:"reader-qrcode-button",on:{click:function(e){return e.stopPropagation(),t.clickSendToPhone(e)}}},[t._v("发送到手机")]),t._v(" "),o("span",{staticClass:"divider"}),t._v(" "),o("span",{staticClass:"reader-translate-button",on:{click:t.clickTranslate}},[t._v("翻译")])])])],1),t._v(" "),o("Copy",{attrs:{"copy-btn-id":t.copyBtnId}}),t._v(" "),o("SendToPhone"),t._v(" "),o("Translate")],1)}),[],!1,null,"21c8b63c",null));e.a=Y.exports},,,function(t,e,o){"use strict";var n=o(5),i=o(71),r=o(2),c=o(3),a=o(11),s=o(12),l=o(8),u=o(17),p=o.n(u);function f(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function d(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?f(Object(o),!0).forEach((function(e){h(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function h(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var v=new p.a,m={data:function(){return{layerMsg:{},isShowLayer:!1,isFirstShow:!1,showLayerRunEnd:!1}},mounted:function(){var t=this;this.$nextTick((function(){t.dealData(),t.showLayer()}))},computed:d(d(d(d({},Object(n.mapState)(["scrollObject","isLogin"])),Object(n.mapGetters)(["wkSmallflow","isVip","docInfo2019","vipInfo"])),Object(n.mapGetters)("priceInfo",["promotionPrice"])),{},{isNafe1509:function(){return+this.docInfo2019.doc_info.doc_type==+l.a.CASH},price:function(){var t=this.docInfo2019,e=Object(a.b)(t.price_info.vip_price);return{notVip:Object(a.b)(t.price_info.confirm_price),vip:e}},saveMoney:function(){var t=this.docInfo2019.price_info;return(t.confirm_price-t.vip_price)/100},cashType:function(){var t=this.docInfo2019,e=this.isVip,o=t.price_info,n="";return o.is_package?(n="CASH_PACK",o.is_discount_doc&&e&&(n="CASH_DISCOUNT")):o.is_discount_doc?n="CASH_DISCOUNT":o.pay_price&&(n="CASH_NORMAL"),n}}),methods:{clickBtnVip:function(){var t=this.isLogin,e=this.cashType,o=this.isVip,n=this.docInfo2019;if(r.log.xsend(102688,{isVip:o,cashType:e,position:"lifeBtm"}),t){var i=n.doc_info.show_doc_id;if("CASH_PACK"!==e||o){if("CASH_DISCOUNT"===e){r.log.xsend(102741,{pos:"vipPayLayer",idx:2});var c=Object(s.b)("/ndcashier/browse/jiaoyuvipcashier",{},"ViewpaydiscountLifeBtm");window.location.href=c}}else{r.log.xsend(102741,{pos:"vipPayLayer",idx:1});var a=Object(s.b)("/ndcashier/browse/vipwithdoccashier",{doc_ids:i},"ViewpaypackageLifeBtm");window.location.href=a}}else v.log()},todayNotShowed:function(){return localStorage.getItem("nafe-1509-layer")!==(new Date).toDateString()},showLayer:function(){var t=this.vipInfo,e=this.cashType,o=this.isVip,n=this.isNafe1509,i=!(this.docInfo2019.doc_info.doc_type===l.a.VIP_RIGHT)&&("CASH_DISCOUNT"===e||"CASH_PACK"===e&&!o),r=(t.renewal_vip_info||{}).jiaoyu_vip_info,c=(void 0===r?{}:r).left_day;this.isFirstShow=!0,n&&i&&this.todayNotShowed()&&(o&&c<=7||!this.promotionPrice||!o&&"CASH_PACK"===e)&&(this.promotionPrice&&(o||"CASH_PACK"!==e)||(this.showLayerRunEnd=!0))},closeLayer:function(){var t=this.cashType,e=this.isVip;this.isShowLayer=!1;var o=(new Date).toDateString();localStorage.setItem("nafe-1509-layer",o),r.log.xsend(102690,{cashType:t,isVip:e})},dealData:function(){var t=this.vipInfo,e=this.cashType,o=this.isVip,n=this.saveMoney,i=o?"vip":"notVip",r=(t.renewal_vip_info||{}).jiaoyu_vip_info,c=(void 0===r?{}:r).left_day,a=this.price.notVip,s={CASH_DISCOUNT:{notVip:{txt:'VIP专享8折价，本文立减<span class="attention">'.concat(n,"元</span>"),btnTxt:"开通"},vip:o&&c<=7?{txt:"您的VIP".concat(c,"天后过期，续费享1亿+付费文档8折"),btnTxt:"续费VIP"}:{txt:'已享VIP8折，本文立减<span class="attention">'.concat(n,"元</span>"),btnTxt:"续费"}},CASH_PACK:{notVip:{txt:'VIP专享首单<span class="attention">免费</span>，本文立减'.concat(a,"元"),btnTxt:"开通"}}};s[e]&&(this.layerMsg=s[e][i])}},watch:{"scrollObject.top":function(t){if(this.showLayerRunEnd){var e=this.cashType,o=this.isVip,n=Object(c.$)(".search-box-wrapper")||Object(c.$)(".search-box-old-wrapper"),i=Object(c.$)(".reader-topbar"),a=Object(c.$)("#pageNo-2"),s=a.length&&a[0].getBoundingClientRect(),l=Number(s.top),u=Number(n.height()),p=Number(i.height());a.length&&l<=u+p&&this.isFirstShow&&(this.isShowLayer=!0,r.log.xsend(102689,{cashType:e,isVip:o}),this.isFirstShow=!1)}}}},b=(o(330),o(4)),y=Object(b.default)(m,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.isShowLayer?o("div",{staticClass:"pay-layer1509-wrapper"},[o("div",{staticClass:"vip-layer-inner"},[o("span",{staticClass:"close-btn",on:{click:t.closeLayer}}),t._v(" "),o("p",{staticClass:"desc",domProps:{innerHTML:t._s(t.layerMsg.txt)}}),t._v(" "),o("div",{staticClass:"vip-btn-wrap",on:{click:t.clickBtnVip}},[t._v(t._s(t.layerMsg.btnTxt))])])]):t._e()}),[],!1,null,null,null).exports;function g(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function _(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?g(Object(o),!0).forEach((function(e){w(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):g(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function w(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}new p.a;var C={data:function(){return{visible:!1}},filters:{formatMoney:a.b},computed:_(_({},Object(n.mapState)("priceInfo",["shopVoucherInfo"])),Object(n.mapGetters)("priceInfo",["visibleCoupon"])),created:function(){this.visible=this.visibleCoupon},methods:_(_({},Object(n.mapActions)(["clickCoreBtn"])),{},{handleClick:function(){this.shopVoucherInfo.isDraw||this.clickCoreBtn({from:"toolbarCouponTip"})},handleClose:function(){this.visible=!1}})},O=(o(331),Object(b.default)(C,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.visible?o("div",{staticClass:"coupon-tip",on:{click:t.handleClick}},[t.shopVoucherInfo.isDraw?o("div",{staticClass:"text-normal"},[t._v("\n        已享店铺优惠，购买\n    ")]):o("div",{staticClass:"text-normal"},[t._v("\n        店铺专享优惠，购买\n    ")]),t._v(" "),o("div",{staticClass:"text-stress"},[t._v("\n        立省"+t._s(t._f("formatMoney")(t.shopVoucherInfo.voucherMoney))+"元\n    ")]),t._v(" "),o("span",{staticClass:"close-btn",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.handleClose(e)}}})]):t._e()}),[],!1,null,null,null).exports),j=o(121),P=o(243),k=o(46),x=o(6),S=o(120),I=(o(18),o(244));function T(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function D(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?T(Object(o),!0).forEach((function(e){V(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):T(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function V(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var E=new p.a,R={components:{CoreBtn:i.a,Share:S.a,CollectionDialog:I.a,CompVipPayLayer:y,CompCouponTip:O,Promotion:j.a,ClientBtn:P.a},props:{from:String},filters:{formatMoney:a.b},data:function(){return{vote:0,showshareTipToolBar:!1,voteLock:!1,shareInfo:{source:"",from:"docInfo",cPosition:"absolute",direction:"top",zIndex:151,docId:"",cBottom:0,cLeft:0},shareType:"",downloader:void 0,isFirstShow:!0,countdown:"--:--:--:--",visibleHPTip:!1,visibleTip:!0}},computed:D(D(D(D(D({},Object(n.mapState)(["scrollObject","commentInfo","isLogin","eventBus"])),Object(n.mapGetters)(["docInfo2019","docId","isVip","wkSmallflow","isSecret"])),Object(n.mapState)("priceInfo",["originalPrice","priceNotVip","isPayDoc","ispaied","cashType","promotionInfo","ishighPriceDoc"])),Object(n.mapGetters)("priceInfo",["price","promotionPrice","visiblePromotion"])),{},{commentNum:function(){return this.commentInfo.total_count||0},commentNumDisplay:function(){return a.a.parseNum(this.commentNum)},voteNum:function(){return this.docInfo2019.doc_info.zan||0},voteNumDisplay:function(){return a.a.parseNum(this.voteNum)},collect:function(){return this.docInfo2019.doc_info.is_inroom||0},showCloudStorageBtn:function(){return+this.docInfo2019.doc_info.doc_type===l.a.TICKET&&!this.isSecret},showConvertBtn:function(){return+this.docInfo2019.doc_info.doc_type!==l.a.CASH&&!this.isSecret},showCommentBtn:function(){return 0===this.docInfo2019.doc_info.forbidden_comment},showLike:function(){return 0===this.docInfo2019.doc_info.forbidden_comment},distributionType:function(){var t=l.a.CASH,e=l.a.VIP_RIGHT,o=this.docInfo2019.doc_info;return o.doc_type===t||o.doc_type===e}}),methods:D(D({},Object(n.mapMutations)(["setLike"])),{},{collectDoc:function(){this.$refs.collectDialog.handleCollection()},shareDoc:function(){var t=Object(c.$)("#tool-bar-share-btn"),e=t.offset()||{left:0},o=Object(c.$)(".tool-bar-wrapper").offset()||{left:0};if(this.shareInfo={source:"#tool-bar-share-btn",docId:this.docId,from:"toolBar",cPosition:"absolute",direction:"top",cBottom:45,cLeft:e.left-o.left-(156-Number(t.width()))/2,zIndex:1001},this.distributionType){if(!this.isLogin)return void E.log();this.shareType="distribution",this.showshareTipToolBar=!0}else this.shareType="normal",this.showshareTipToolBar=!this.showshareTipToolBar},commentDoc:function(){r.log.xsend(102309);var t=Object(c.$)(".comment-wrapper").offset()||{top:0};window.scrollTo(0,t.top-60)},voteDoc:function(){var t=this;if(this.isLogin){if(!this.voteLock){var e=0===this.vote?1:2;r.log.xsend(102308,{index:e}),this.voteLock=!0,this.toVote(e).then((function(){1===e?(setTimeout((function(){t.vote=1}),300),Object(c.$)(".vote-icon").removeClass("not-vote").addClass("has-vote").removeClass("fadeIn").removeClass("animated").addClass("bounceIn")):(setTimeout((function(){t.vote=0}),300),Object(c.$)(".vote-icon").removeClass("has-vote").addClass("not-vote").addClass("fadeIn").addClass("animated").removeClass("bounceIn")),setTimeout((function(){var o=t.docInfo2019.doc_info.zan;1===e?t.setLike(o+1):t.setLike(o-1),t.voteLock=!1}),300)})).catch((function(e){t.voteLock=!1}))}}else E.log()},toVote:function(t){return x.wkAxios.get("/doc/interface/doclike",{params:{doc_id:this.docId,type:t}})},gotoCloudStorage:function(){if(r.log.xsend(101838,{from:this.from}),this.isVip)this.downloader.dump();else{var t=Object(s.b)("https://wenku.baidu.com/ndbusiness/browse/wenkuvipcashier",{},"ReaderTransWangpan");location.href=t}},gotoConvert:function(){this.isLogin?window.open("https://wenku.baidu.com/user/browse/huixueconvert?cc=view_toolbar_convert"):E.log()},runActCountdown:function(){var t,e=this,o=this.promotionInfo.act_etime,n=new Date(1e3*o),i=setInterval((function(){t=new Date;var o=n-t;if(o<=0)clearInterval(i),i=null;else{var r=a.a.parseNum2HMS(o);e.countdown=r}}),100)},viewLog:function(){c.Util.Common.onElsVisible(".tool-bar-wrapper",(function(){var t=Object(c.$)(this);(t.data("logged")?1:0)||(r.log.xsend(102623),t.data("logged",1))}))},toShareDoc:function(){this.showshareTipToolBar=!1},closeShareTip:function(){this.showshareTipToolBar=!1},btnVipClose:function(){var t,e;this.visibleHPTip=!1,r.log.xsend(102897,{docid:null===(t=this.docInfo2019)||void 0===t||null===(e=t.doc_info)||void 0===e?void 0:e.show_doc_id,index:1})}}),created:function(){var t,e,o,n,i=this.docInfo2019.like_info||{};this.vote=i.is_liked?i.is_liked:0;var c=null===(t=this.docInfo2019)||void 0===t?void 0:t.price_info;this.visibleHPTip=this.ishighPriceDoc,this.visibleTip=!this.visibleHPTip,r.log.xsend(102896,{testid:null==c||null===(e=c.smallflow)||void 0===e?void 0:e.test_id,sale_price:null==c?void 0:c.pay_price,docid:null===(o=this.docInfo2019)||void 0===o||null===(n=o.doc_info)||void 0===n?void 0:n.show_doc_id})},mounted:function(){this.downloader=k.a.createDownload(),this.viewLog(),this.visiblePromotion&&this.runActCountdown()},watch:{"scrollObject.top":function(t){var e,o=Object(c.$)(".tool-bar-wrapper"),n=Object(c.$)(".header-wrapper"),i=Object(c.$)(".reader-wrap"),a=i.offset()||{top:0},s=a.top-Number(n.height());if(e=a.top+Number(i.height())-Number(Object(c.$)(window).height())+60,t<s)o.removeClass("static").removeClass("fade-in").addClass("fade-out"),i.css({"margin-bottom":83}),this.distributionType||(this.showshareTipToolBar=!1),Object(c.$)(".vip-pop-wrap").css("opacity",0).css("width","300px"),Object(c.$)(".vip-pop-wrap").find(".text-wrap").css("width","230px");else if(t>s&&t<e){o.removeClass("static").removeClass("fade-out").addClass("fade-in"),i.css({"margin-bottom":83});var l=Object(c.$)("#pageNo-2").length,u=Object(c.$)("#pageNo-2").offset(),p=l&&Number(u.top),f=Object(c.$)(".vip-card-inner").width()+15;if(l&&t>p-s&&(Object(c.$)(".vip-pop-wrap").css("opacity",1).css("width",f+"px").css("bottom","60px"),Object(c.$)(".vip-pop-wrap").find(".text-wrap").css("width",f-85+"px"),this.isFirstShow)){var d=Object(c.$)(".vip-pop-wrap").attr("data-index");this.isFirstShow=!1,r.log.xsend(102605,{userType:d,opType:"bottom"})}}else o.removeClass("fade-out").removeClass("fade-in").addClass("static"),i.css({"margin-bottom":2})}}},L=(o(336),Object(b.default)(R,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"tool-bar-wrapper"},[t.visibleHPTip?o("div",{staticClass:"tool-bar-hvip"},[o("img",{attrs:{src:"https://edu-wenku.bdimg.com/v1/pc/pc-send-vip-tool-1602642911448.png"}}),t._v(" "),o("div",{staticClass:"tool-bar-close",on:{click:t.btnVipClose}})]):t._e(),t._v(" "),t.visibleTip?[o("CompCouponTip"),t._v(" "),o("CompVipPayLayer")]:t._e(),t._v(" "),o("CoreBtn",{staticClass:"toolbar-core-btn",attrs:{from:"docBtns"},on:{toShareDoc:t.toShareDoc}}),t._v(" "),o("Promotion",{attrs:{from:"toolbar"}}),t._v(" "),o("div",{staticClass:"small-btn-wrap"},[t.showLike?o("div",{staticClass:"small-btn vote-btn",on:{click:t.voteDoc}},[o("div",{staticClass:"tool-icon"},[o("i",{staticClass:"vote-icon",class:t.vote?"has-vote":"not-vote"}),t._v(" "),t.voteNum?o("span",{domProps:{textContent:t._s(t.voteNumDisplay)}}):t._e()]),t._v(" "),o("div",{staticClass:"tool-name"},[t._v("点赞")])]):t._e(),t._v(" "),t.showCommentBtn?o("div",{staticClass:"small-btn comment-btn",on:{click:t.commentDoc}},[o("div",{staticClass:"tool-icon"},[o("i",{staticClass:"comment-icon"}),t._v(" "),t.commentNum?o("span",{domProps:{textContent:t._s(t.commentNumDisplay)}}):t._e()]),t._v(" "),o("div",{staticClass:"tool-name"},[t._v("评论")])]):t._e(),t._v(" "),t.isSecret?t._e():o("div",{staticClass:"line"}),t._v(" "),t.isSecret?t._e():o("div",{staticClass:"small-btn collect-btn",on:{click:t.collectDoc}},[o("div",{staticClass:"tool-icon"},[o("i",{staticClass:"collect-icon",class:t.collect?"has-collect":"not-collect"}),t._v(" "),o("span",{staticClass:"tool-name"},[t._v("收藏")])]),t._v(" "),o("div",{staticClass:"tool-name"},[t._v("收藏")])]),t._v(" "),t.isSecret?t._e():o("div",{staticClass:"small-btn share-btn",attrs:{id:"tool-bar-share-btn"},on:{click:t.shareDoc}},[t._m(0),t._v(" "),o("div",{staticClass:"tool-name"},[t._v("分享")])]),t._v(" "),t.showCloudStorageBtn?o("div",{staticClass:"small-btn cloud-storage-btn",on:{click:t.gotoCloudStorage}},[t._m(1),t._v(" "),o("div",{staticClass:"tool-name"},[t._v("转存")])]):t._e(),t._v(" "),t.showConvertBtn?o("div",{staticClass:"small-btn convert-btn",on:{click:t.gotoConvert}},[t._m(2),t._v(" "),o("div",{staticClass:"tool-name"},[t._v("转换")])]):t._e(),t._v(" "),o("ClientBtn",{attrs:{location:"toolBar"}}),t._v(" "),o("Share",{attrs:{shareInfo:t.shareInfo,visible:t.showshareTipToolBar,shareType:t.shareType},on:{closeShareTip:t.closeShareTip}})],1),t._v(" "),o("CollectionDialog",{ref:"collectDialog",attrs:{from:"toolBar"}})],2)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tool-icon"},[e("i",{staticClass:"share-icon"}),this._v(" "),e("span",{staticClass:"tool-name"},[this._v("分享")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tool-icon"},[e("i",{staticClass:"cloud-storage-icon"}),this._v(" "),e("span",{staticClass:"tool-name"},[this._v("转存")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tool-icon"},[e("i",{staticClass:"convert-icon"}),this._v(" "),e("span",{staticClass:"tool-name"},[this._v("转换")])])}],!1,null,null,null));e.a=L.exports},,,,function(t,e,o){"use strict";var n=o(5),i=o(2),r=o(3),c=o(11),a=o(6);function s(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function l(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach((function(e){u(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function u(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var p={data:function(){return{area:{tags:[],jump_url:"",area_title:"",area_type:-1,paId:""},isShow:!1}},computed:l(l({},Object(n.mapGetters)(["docInfo2019","wkSmallflow"])),{},{subTagDisplay:function(){var t=(this.area||{}).tag_name,e=void 0===t?"":t;return e?c.a.getSubstr(e,10,!1):e},titleDisplay:function(){var t=(this.area||{}).area_title,e=void 0===t?"":t;return e?c.a.getSubstr(e,10,!1):e},desDisplay:function(){var t=(this.area||{}).area_summary,e=void 0===t?"":t;return e?c.a.getSubstr(e,10,!1):e},resTags:function(){var t=this.area.tags;return t&&r.$.isArray(t)&&t.length>3?t.slice(0,3):t}}),created:function(){var t=this,e=this.docInfo2019.doc_info;a.wkAxios.get("/browse/interface/getareainfo2019",{params:{docId:e.show_doc_id,title:e.title}}).then((function(e){t.area=e,i.log.xsend(102272,{type:e.area_type,title:e.area_title,paId:e.paId||""})}))},methods:{itemClick:function(t){this.openPage(t.tag_url),i.log.xsend(102275,{type:t.area_type,tag:t.tag_name,title:t.area_title})},open:function(){var t=this.area;this.openPage(t.jump_url),i.log.xsend(102273,{type:t.area_type,title:t.area_title,paId:t.paId})},openPage:function(t){t&&window.open(t)},enterArea:function(t){var e=this.area;this.openPage(e.jump_url),i.log.xsend(102274,{type:e.area_type,title:e.area_title})}}},f=(o(288),o(4)),d=Object(f.default)(p,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return!t.wkSmallflow.visible1796&&t.isShow?o("div",{staticClass:"operation-wrapper",class:{"sider-edge":t.area.area_type>=1}},[1!==t.area.area_type&&t.area.tags&&t.area.tags.length>0?o("div",{staticClass:"area-box",on:{click:t.open}},[o("p",{staticClass:"title"},[t._v(t._s(t._f("handleTitle")(t.area.area_title)))]),t._v(" "),o("p",{staticClass:"detial"},[t._v(t._s(t._f("handleDes")(t.area.area_summary)))]),t._v(" "),o("div",{staticClass:"button",on:{click:function(e){return e.stopPropagation(),t.enterArea(e)}}},[t._v("进入专区")]),t._v(" "),t._l(t.resTags,(function(e,n){return o("p",{key:n,staticClass:"item",on:{click:function(o){return o.stopPropagation(),t.itemClick(e)}}},[t._v(t._s(t._f("handleSubTag")(e.tag_name)))])}))],2):1===t.area.area_type&&t.area.img_url&&t.area.img_url.length>0?o("div",{staticClass:"cover",style:{backgroundImage:"url("+t.area.img_url+")"},on:{click:t.open}}):t._e()]):t._e()}),[],!1,null,"b90d456a",null);e.a=d.exports},function(t,e,o){"use strict";var n=o(5),i=o(8),r=o(2);function c(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function a(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?c(Object(o),!0).forEach((function(e){s(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function s(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var l={computed:a(a(a({},Object(n.mapState)(["pageData","foldPage"])),Object(n.mapGetters)(["docInfo2019"])),{},{exclText:function(){var t=this.docInfo2019.copyright_flag||5;return r.log.xsend(102746,{index:t}),i.c[t]}})},u=(o(286),o(287),o(4)),p=Object(u.default)(l,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"copyright-wrap",domProps:{innerHTML:this._s(this.exclText)}})}),[],!1,null,"40bcde1b",null);e.a=p.exports},function(t,e,o){"use strict";var n=o(5),i=o(18),r=o(3),c=o(2),a=o(6);function s(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function l(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach((function(e){u(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function u(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var p={data:function(){return{isTop:!1,isDragMode:!0,dragNum:0,mainTxt:"",subTxt:"",macTxt:"",winTxt:"",showClass:"none",dataDone:!1,rootElHeight:0,isFirstLog:!0,closeDay:1,isBottomOp:!0}},computed:l(l({},Object(n.mapState)(["scrollObject","eventBus"])),{},{collectionTxt:function(){return/macintosh|mac os x/i.test(navigator.userAgent)?this.macTxt:this.winTxt},isSafari:function(){var t=window.navigator.userAgent;return-1!==t.indexOf("Safari")&&-1!==t.indexOf("Version")},isFirefox:function(){return-1!==window.navigator.userAgent.indexOf("Firefox")}}),watch:{"scrollObject.top":function(t,e){var o=this.dataDone;t>this.rootElHeight?(this.isTop=!0,o&&this.isShowGuide()):(this.isTop=!1,o&&this.isShowGuide())},dragNum:function(t,e){t>=2&&(this.isDragMode=!1)}},created:function(){this.rootElHeight=Object(r.$)(".header-wrapper").height(),this.getConfig()},mounted:function(){var t=this;this.eventBus.on("vipMemberPopComplete",(function(){t.checkDom()}))},methods:{checkDom:function(){try{0===Object(r.$)(".vip-member-pop-content")[0].children.length&&(this.isBottomOp=!1,this.isShowGuide())}catch(t){console.log("ERROR: cannot find element. [collectionGuide.san]",t)}},isShowGuide:function(){this.localCollection()||this.isBottomOp?this.showClass="none":this.isTop?this.showClass="is-guide-top":(this.showClass="",document.onkeydown=function(t){var e=t.keyCode||t.which||t.charCode;(t.ctrlKey||t.metaKey)&&68===e&&c.log.xsend(102824,{index:4,baiduid:i.default.get("BAIDUID")})},this.isFirstLog&&(c.log.xsend(102824,{index:1}),this.isFirstLog=!1))},localCollection:function(){var t=localStorage.getItem("__wk_collection");return!("permanent"!==t&&!this.isDayDisplay(t))},getCurrentDate:function(){return(new Date).toLocaleDateString()},isDayDisplay:function(t){var e=this.closeDay,o=new Date(t).getTime();return Number(o)+24*+e*3600*1e3-(new Date).getTime()>=0},closeGuide:function(){c.log.xsend(102824,{index:2}),"permanent"!==localStorage.getItem("__wk_collection")&&localStorage.setItem("__wk_collection",this.getCurrentDate()),this.isShowGuide()},getConfig:function(){var t=this;a.wkAxios.get("/xpage/form/getform",{params:{id:"browser_collection_guide"}}).then((function(e){var o=e.form_data;t.subTxt=o.subTxt,t.mainTxt=o.mainTxt,t.macTxt=o.macTxt,t.winTxt=o.winTxt,t.closeDay=o.closeDay,t.isShowGuide(),t.dataDone=!0}))},guideClick:function(t){t.preventDefault()},guideDragEnd:function(t){c.log.xsend(102824,{index:3}),this.isCollectionSuccess(t)?(localStorage.setItem("__wk_collection","permanent"),this.isShowGuide(),c.log.xsend(102824,{index:4,baiduid:i.default.get("BAIDUID")})):this.dragNum++},isCollectionSuccess:function(t){return this.isFirefox?t.screenY<86&&t.screenY>66:this.isSafari?t.clientX<220:t.clientY<0&&t.clientY>-60}}},f=(o(363),o(4)),d=Object(f.default)(p,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"browser-label-guide",class:[t.showClass,t.isSafari?"safari-guide":"",t.isDragMode?"":"not-drag-mod"]},[o("i",{staticClass:"close-icon",on:{click:t.closeGuide}}),t._v(" "),t.isDragMode?o("a",{staticClass:"guide-icon",attrs:{href:"/?fr=shuqian"},on:{dragend:t.guideDragEnd,click:t.guideClick}},[o("span",[t._v("百度文库")])]):t._e(),t._v(" "),t.isDragMode?o("p",{staticClass:"guide-font"},[t._v(t._s(t.mainTxt))]):t._e(),t._v(" "),t.isDragMode?o("p",{staticClass:"sub-guide-font"},[t._v(t._s(t.subTxt))]):t._e(),t._v(" "),t.isDragMode?t._e():o("p",{staticClass:"guide-font collection-font"},[t._v(t._s(t.collectionTxt))])])}),[],!1,null,null,null);e.a=d.exports},,,,function(t,e,o){"use strict";var n=o(3),i=(o(2),o(6)),r=o(5);function c(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function a(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?c(Object(o),!0).forEach((function(e){s(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function s(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var l={data:function(){return{noAds:!1,channel:{}}},mounted:function(){var t=this;this.channelId&&this.fetchData(this.channelId),this.eventBus.on("removeAds",(function(){t.noAds=!0}))},computed:a(a(a({},Object(r.mapState)(["eventBus"])),Object(r.mapGetters)(["channelId"])),{},{visible:function(){var t=(this.channel||{}).tags;return t&&t.length}}),methods:{fetchData:function(t){var e=this;i.wkAxios.get("/xpage/form/getform",{params:{id:"channel_data"}}).then((function(o){var i=(o.form_data||{}).channels,r=void 0===i?[]:i,c=n._.find(r,{channelId:t});e.channel=c}))},clickTag:function(t){var e=t.link;window.open(e)},clickEnter:function(){var t=this.channel.enterLink;window.open(t)},clickPrimaryLink:function(){var t=this.channel.primaryLink;window.open(t)},clickSencondaryLink:function(){var t=this.channel.sencondaryLink;window.open(t)}}},u=(o(305),o(4)),p=Object(u.default)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.visible&&!t.noAds?o("div",{staticClass:"right-channel-wrap"},[o("div",{staticClass:"link-enter",on:{click:t.clickEnter}},[t._v("\n        "+t._s(t.channel.enterTitle||"进入专区")+"\n    ")]),t._v(" "),o("div",{staticClass:"primary-title",on:{click:t.clickPrimaryLink}},[t._v("\n        "+t._s(t.channel.primaryTitle)+"\n    ")]),t._v(" "),t.channel.sencondaryTitle?o("div",{staticClass:"sencondary-title",on:{click:t.clickSencondaryLink}},[t._v("\n        "+t._s(t.channel.sencondaryTitle)+"\n    ")]):t._e(),t._v(" "),o("div",{staticClass:"tags-wrap"},t._l(t.channel.tags,(function(e,n){return o("div",{key:n,staticClass:"tag-item",on:{click:function(o){return t.clickTag(e)}}},[t._v("\n            "+t._s(e.text)+"\n        ")])})),0)]):t._e()}),[],!1,null,null,null);e.a=p.exports},,,function(t,e,o){"use strict";var n=o(3),i=o(18),r=o(246),c=o.n(r),a=function(t,e){var o=['<span class="'+e+'">',"来自","</span>"].join(""),i=['<span class="'+e+'">',"百度","</span>"].join(""),r=['<span class="'+e+'">',"文库","</span>"].join(""),c=Object(n.$)('<style type="text/css"></style>');c.append(["."+e,"{display: none; font-size: 12px;}"].join("")),t.prepend(c),t.prepend(o),Object(n.$)(t.children()[2]).after(i),t.append(r)},s=o(241),l=o(248),u=o(10);e.a=function(){var t,e,o,r,p,f,d,h,v,m,b,y,g,_,w;window._hmt,function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?d8bfb560f8d03bbefc9bdecafc4a4bf6";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}(),n.$.getScript("https://wappass.baidu.com/static/machine/js/api/mkd.js"),window.__abbaidu_2030_subidgetf=function(){return"wenkupcview"},window.__abbaidu_2030_cb=function(t){var e=n.$.parseJSON(t);i.default.set("bcat",e.data,{path:"/"})},n.$.getScript("https://dlswbr.baidu.com/heicha/mw/abclite-2030-s.js"),r=u.b.getters,p=r.docInfo2019,f=void 0===p?{}:p,d=r.readerInfo2019,h=void 0===d?{}:d,v=u.b.state,m=v.eventBus,b=v.pageData,f.doc_info&&(o=f.creator_info.tname,(null==f||null===(t=f.creator_info)||void 0===t||null===(e=t.shop_info)||void 0===e?void 0:e.shop_id)&&(o=f.creator_info.shop_info.shop_name_show),"xreader"===(null==b?void 0:b.tplName)?(c()({container:Object(n.$)("#pageNo-1").get(0),index:1,content:o}),m.on("p:renderAfter",(function(t){var e=t.el;c()({container:e,index:Object(n.$)(e).attr("id").split("-")[1]||Object(n.$)(e).attr("id"),content:o})}))):function(){for(var t=h.show_page?parseInt(h.show_page,10):0,e=Math.ceil(t/10),i=function(e){var i=setTimeout((function(){for(var r=Math.min(10*(e+1),t),a=10*e+1;a<=r;a++)c()({container:Object(n.$)("#pageNo-".concat(a)).get(0),index:a,content:o});clearTimeout(i)}),2e3*e)},r=0;r<e;r++)i(r)}()),u.b.state.isLogin&&u.b.dispatch("handleActsBeforeLogin"),y=Object(n.$)(".ie-fix").first(),g=u.b.getters,_=g.tplName,w=g.antiClass,"txt"===_?y=Object(n.$)("#pageNo-1"):"html"===_?y=Object(n.$)(".fr-view").first():"ppt"===_&&(y=Object(n.$)("#pageNo-1")),a(y,w),window._zoomDetectInst||(window._zoomDetectInst=s.a.run({dynamicDetect:!0,toastOnce:!0})),function(){var t=u.b.state.pageData,e=u.b.getters,o=e.wkAdBlockStatus,n=e.isVip,r=e.vipInfo,c=o.block_status,a=new Date;if(n&&!c){var s=r.latestStartVip||{},p=new Date(s.start_time);if(p.getFullYear()===a.getFullYear()&&p.getMonth()===a.getMonth()&&p.getDate()===a.getDate())return;if(1==+(i.default.get("noAdCliked")||""))return;l.a.init(t)}else n||c||l.a.init(t)}(),u.b.dispatch(u.a.SETVIEWRECORD)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,o){"use strict";var n="actsBeforeLogin";var i={addAct:function(t,e){var o=[];try{var i=localStorage.getItem(n);i&&(o=JSON.parse(i)||[])}catch(t){console.warn(t)}o.push({name:t,data:e});var r=JSON.stringify(o);localStorage.setItem(n,r)},delAct:function(t){var e=[];try{var o=localStorage.getItem(n);o&&(e=JSON.parse(o)||[])}catch(t){console.warn(t)}var i=e.findIndex((function(e){return e.name===t}));e.splice(i,1);var r=JSON.stringify(e);localStorage.setItem(n,r)},hasAct:function(t){var e=[];try{var o=localStorage.getItem(n);o&&(e=JSON.parse(o)||[])}catch(t){console.warn(t)}var i=e.findIndex((function(e){return e.name===t}));return!isNaN(i)&&i>=0},getAct:function(t){var e=[];try{var o=localStorage.getItem(n);o&&(e=JSON.parse(o)||[])}catch(t){console.warn(t)}var i=e.findIndex((function(e){return e.name===t}));return!isNaN(i)&&i>=0?e[i]:null}};e.a=i},,,,,,,,function(t,e,o){"use strict";var n=o(1),i=o(0),r=o(2),c=o(3),a=o(14),s=o(61),l=o.n(s),u=o(11);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=b(t);if(e){var i=b(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return m(this,o)}}function m(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(s,t);var e,o,n,i=v(s);function s(){return f(this,s),i.apply(this,arguments)}return e=s,(o=[{key:"closeHandle",value:function(){}},{key:"initQrcode",value:function(t){new l.a(Object(c.$)(this.el).find(".qrcode")[0],t)}},{key:"getDocMsg",value:function(){var t=this,e=this.shareInfo.docId;this.docMsg.meta||this.getShareDocInfo(e).then((function(e){t.docMsg={pic:"http://retype.wenku.bdimg.com/img/".concat(e.picid),meta:u.a.getSubstr(e.meta,110,!0)}}))}},{key:"getShareDocInfo",value:function(t){return new a.default((function(e,o){c.$.ajax({type:"get",url:"/doc/interface/getsharedocinfo?doc_id=".concat(t),success:function(t){0===t.errno&&e(t)}})}))}},{key:"shareByWeibo",value:function(){var t=this.docMsg,e=t.meta,o=void 0===e?"":e,n=t.pic,i=void 0===n?"":n;r.log.xsend(102303,{from:this.from}),window.open("http://service.weibo.com/share/share.php?appkey=2273341579&url="+encodeURIComponent(location.href)+"&title="+encodeURIComponent(["【"+document.title.replace(/_百度文库/,"")+"】","(分享自@百度文库)"+o+"阅读全文请戳右边"].join(""))+"&pic="+encodeURIComponent(i))}},{key:"shareByQQ",value:function(){var t=(this.docMsg||{}).meta,e=void 0===t?"":t;r.log.xsend(102304,{from:this.from}),window.open("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+encodeURIComponent(location.href)+"&title="+encodeURIComponent(["【"+document.title.replace(/_百度文库/,"")+"】","(分享自@百度文库)"+e+"阅读全文请戳右边"].join("")))}}])&&d(e.prototype,o),n&&d(e,n),s}(i.Vue);Object(n.a)([Object(i.Emit)("closeShareTip")],y.prototype,"closeHandle",null);var g=y=Object(n.a)([i.Component],y);function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=k(t);if(e){var i=k(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return P(this,o)}}function P(t,e){return!e||"object"!==_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(a,t);var e,o,n,i=j(a);function a(){var t;return w(this,a),(t=i.apply(this,arguments)).docMsg={pic:"",meta:""},t.from="",t.direction="",t}return e=a,(o=[{key:"mounted",value:function(){var t=this;this.el=Object(c.$)(".share-tip-wrap");var e=this;this.show(),this.clcikHandler=function(o){0===Object(c.$)(o.target).closest(e.shareInfo.source).length&&0===Object(c.$)(o.target).parents(".share-tip-wrap.".concat(e.shareInfo.from)).length&&t.closeHandle(),Object(c.$)("body").one("click",t.clcikHandler)},Object(c.$)("body").one("click",this.clcikHandler)}},{key:"show",value:function(){var t,e=this.shareInfo,o=(e.source,e.from),n=e.direction,i=e.cPosition,a=e.cTop,s=e.cBottom,l=e.cLeft,u=e.cRight,p=e.zIndex;e.docId,this.from=o,this.direction=n,r.log.xsend(102302,{from:o}),this.getDocMsg(),"bottom"===n?(t={display:"block",position:i,top:a,left:l,"z-index":p},Object(c.$)("#app").append(Object(c.$)(".doc-btns-wrap .share-tip-wrap")),Object(c.$)(this.el).css(t)):"top"===n&&Object(c.$)(this.el).css({position:i,display:"block",top:a,bottom:s,left:l,right:u,"z-index":p});var f=this.handleQrcodeData();this.initQrcode(f)}},{key:"handleQrcodeData",value:function(){return{text:"".concat(location.href,"?qrcode=1"),width:100,height:100}}}])&&C(e.prototype,o),n&&C(e,n),a}(i.Vue);Object(n.a)([Object(i.Prop)({type:Object})],x.prototype,"shareInfo",void 0),Object(n.a)([Object(i.Prop)(Boolean)],x.prototype,"visible",void 0);var S=x=Object(n.a)([Object(i.Component)({mixins:[g]})],x),I=(o(310),o(4)),T=Object(I.default)(S,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.visible?o("div",{staticClass:"share-tip-wrap",class:[t.shareInfo.from,t.shareInfo.direction]},[t._m(0),t._v(" "),o("div",{staticClass:"sina-btn",on:{click:t.shareByWeibo}},[o("span",{staticClass:"weibo-icon"},[t._v("新浪微博")])]),t._v(" "),o("div",{staticClass:"qq-btn",on:{click:t.shareByQQ}},[o("span",{staticClass:"qq-icon"},[t._v("QQ空间")])])]):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wx-btn"},[e("span",{staticClass:"wx-icon"},[this._v("微信扫码")]),this._v(" "),e("div",{staticClass:"qrcode"})])}],!1,null,"dbcf2112",null).exports;function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function R(t,e){return(R=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function L(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=B(t);if(e){var i=B(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return A(this,o)}}function A(t,e){return!e||"object"!==D(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var F={trade_list:[],expect_income:"8.8元",docType:"",distributor:""},N=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&R(t,e)}(s,t);var e,o,n,i=L(s);function s(){var t;return V(this,s),(t=i.apply(this,arguments)).docMsg={pic:"",meta:""},t.from="",t.direction="",t.tradeList=[],t}return e=s,(o=[{key:"mounted",value:function(){this.el=Object(c.$)(".extension-tip-wrap"),this.show()}},{key:"show",value:function(){var t=this.shareInfo,e=t.from,o=t.direction,n=t.zIndex,i=t.docId;this.from=e,this.direction=o,r.log.xsend(102302,{from:e}),this.getDocMsg(),Object(c.$)(this.el).css({display:"block","z-index":n});var a=this;if(0===F.trade_list.length)this.getlatesttrade(i).then((function(t){if(t){F=t;var e=a.handleQrcodeData({docId:i,distributor:t.distributor});a.initQrcode(e),F.expect_income=1==+t.docType?t.expect_income:"10%",F.distributor=t.distributor,Object(c.$)(".extension-tip-wrap .price").html(F.expect_income),a.tradeList=F.trade_list}}));else{var s=a.handleQrcodeData({docId:i,distributor:F.distributor});a.initQrcode(s),Object(c.$)(".extension-tip-wrap .price").html(F.expect_income),a.tradeList=F.trade_list}}},{key:"handleQrcodeData",value:function(t){var e=this.from;return{text:"".concat("https://wk.baidu.com","/topic/contentSale/salePage?doc_id=").concat(t.docId,"&distributor=").concat(t.distributor,"&from=").concat(e),width:100,height:100}}},{key:"getlatesttrade",value:function(t){return new a.default((function(e,o){c.$.ajax({url:"/user/interface/getlatesttrade?doc_id=".concat(t),cache:!1,type:"GET",dataType:"json",success:function(t){try{0===t.status.code&&e(t.data)}catch(t){e(null)}}})}))}},{key:"showQrcode",value:function(){Object(c.$)(".extension-tip-wrap .tips").show()}}])&&E(e.prototype,o),n&&E(e,n),s}(i.Vue);Object(n.a)([Object(i.Prop)({type:Object})],N.prototype,"shareInfo",void 0),Object(n.a)([Object(i.Prop)(Boolean)],N.prototype,"visible",void 0);var M=N=Object(n.a)([Object(i.Component)({mixins:[g]})],N),$=(o(311),Object(I.default)(M,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.visible?o("div",{staticClass:"extension-tip-wrap",class:[t.shareInfo.from,t.shareInfo.direction]},[o("div",{staticClass:"pop-up-extension"}),t._v(" "),o("div",{staticClass:"ex-tips"},[o("a",{staticClass:"go-active",attrs:{href:"/ndtopic/distribution"}},[t._v("查看赚钱秘籍>")]),t._v(" "),t._m(0),t._v(" "),o("div",{staticClass:"data-list"},[t.tradeList.length>0?o("marquee",{attrs:{direction:"up",height:"170",scrolldelay:"200"}},t._l(t.tradeList,(function(e,n){return o("p",{key:n,staticClass:"item"},[t._v(t._s(e.uname)+t._s(e.time)+"获得推广佣金"+t._s(e.income/100)+"元")])})),0):t._e(),t._v(" "),o("div",{staticClass:"mask"})],1),t._v(" "),o("p",{staticClass:"income"},[t._v("\n            用户通过您的分享购买该文档，您将获得现金奖励，预计收益\n            "),o("span",{staticClass:"price"},[t._v(t._s(t.income))]),t._v("起\n        ")]),t._v(" "),o("div",{staticClass:"share-list clearfix"},[o("div",{staticClass:"sina-btn icon-btn",on:{click:t.shareByWeibo}},[o("span",{staticClass:"weibo-icon icon-small"})]),t._v(" "),o("div",{staticClass:"qq-btn icon-btn",on:{click:t.shareByQQ}},[o("span",{staticClass:"qq-icon icon-small"})]),t._v(" "),o("div",{staticClass:"wx-btn icon-btn",on:{click:t.showQrcode}},[o("span",{staticClass:"wx-icon icon-small"}),t._v(" "),o("span",{staticClass:"tips"},[t._v("打开微信扫描上方二维码，极速分享到微信")])])]),t._v(" "),o("span",{staticClass:"close",on:{click:t.closeHandle}})])]):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ex-qrcode"},[e("div",{staticClass:"icon qrcode"}),this._v(" "),e("p",{staticClass:"text"},[this._v("手机扫描二维码")]),this._v(" "),e("p",{staticClass:"text"},[this._v("分享领取现金激励")])])}],!1,null,"64b8e2e2",null).exports);function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function U(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=K(t);if(e){var i=K(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return W(this,o)}}function W(t,e){return!e||"object"!==H(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function K(t){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}(r,t);var e,o,n,i=z(r);function r(){return U(this,r),i.apply(this,arguments)}return e=r,(o=[{key:"closeShareTip",value:function(){}}])&&G(e.prototype,o),n&&G(e,n),r}(i.Vue);Object(n.a)([Object(i.Prop)()],Q.prototype,"shareInfo",void 0),Object(n.a)([Object(i.Prop)()],Q.prototype,"visible",void 0),Object(n.a)([Object(i.Prop)()],Q.prototype,"shareType",void 0),Object(n.a)([Object(i.Emit)("closeShareTip")],Q.prototype,"closeShareTip",null);var Y=Q=Object(n.a)([Object(i.Component)({components:{ShareTip:T,Extension:$}})],Q),J=Object(I.default)(Y,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.visible&&"normal"===t.shareType?o("ShareTip",{attrs:{shareInfo:t.shareInfo,visible:t.visible},on:{closeShareTip:t.closeShareTip}}):t.visible&&"distribution"===t.shareType?o("Extension",{attrs:{shareInfo:t.shareInfo,visible:t.visible},on:{closeShareTip:t.closeShareTip}}):t._e()}),[],!1,null,null,null);e.a=J.exports},function(t,e,o){"use strict";var n=o(5),i=o(11);function r(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function c(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){a(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function a(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var s={data:function(){return{countdown:"--:--:--:-".split(":")}},props:{from:String},filters:{formatMoney:i.b},computed:c(c(c({},Object(n.mapState)("priceInfo",["originalPrice","priceNotVip","cashType","promotionInfo"])),Object(n.mapGetters)("priceInfo",["price","visiblePromotion"])),Object(n.mapGetters)(["isVip"])),mounted:function(){this.runActCountdown()},methods:{runActCountdown:function(){var t,e=this,o=this.promotionInfo.act_etime,n=+new Date(1e3*o),r=setInterval((function(){t=new Date;var o=n-t;if(o<=0)clearInterval(r),r=null;else{var c=i.a.parseNum2HMS(o);e.countdown=c}}),100)}}},l=(o(332),o(4)),u=Object(l.default)(s,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.visiblePromotion?o("div",{class:[t.from,"doc-price"]},["summary"===t.from?[o("div",{staticClass:"symbol"},[t._v("￥")]),t._v(" "),o("div",{staticClass:"amount"},[t._v(t._s(t.price))]),t._v(" "),o("div",{staticClass:"promotion-price-text"},[t._v("限时价")]),t._v(" "),o("div",{staticClass:"promotion-price-amount"},[t._v("￥"+t._s(t.originalPrice))])]:t._e(),t._v(" "),o("div",{staticClass:"countdown"},[o("span",[t._v("优惠倒计时：")]),t._v(" "),o("span",{staticClass:"hh"},[t._v(t._s(t.countdown[0]))]),t._v(" "),o("span",{staticClass:"mm"},[t._v(":"+t._s(t.countdown[1]))]),t._v(" "),o("span",{staticClass:"ss"},[t._v(":"+t._s(t.countdown[2]))]),t._v(" "),o("span",{staticClass:"ms"},[t._v(":"+t._s(t.countdown[3]))])]),t._v(" "),"toolbar"===t.from?[o("div",{staticClass:"promotion-price-amount"},[t._v("￥"+t._s(t.originalPrice))]),t._v(" "),o("div",{staticClass:"symbol"},[t._v("￥")]),t._v(" "),o("div",{staticClass:"amount"},[t._v(t._s(t.price))]),t._v(" "),o("div",{staticClass:"promotion-price-text"},[t._v("限时价")])]:t._e()],2):t._e()}),[],!1,null,"3b9f7b22",null);e.a=u.exports},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},,function(t,e,o){"use strict";o.d(e,"a",(function(){return i})),o.d(e,"c",(function(){return a})),o.d(e,"b",(function(){return s}));var n=o(3),i=[1,1.25,1.5,1.75,2],r={READER_PAGE:".reader-page",CONTENT_WRAP:".xmind-wrapper",READER_WRAP:".zoom-scale"};function c(t,e){return t<e?(e-t)/2:0}var a=function(t,e){!function(t,e){Object.keys(r).forEach((function(o){Object(n.$)(r[o]).css("width",Object(n.$)(r[o]).width()/e*t+"px")}))}(i[t],e=i[e])},s=function(){var t=Object(n.$)(r.READER_WRAP).width(),e=Object(n.$)(r.READER_WRAP).height(),o=Object(n.$)(window).width(),i=c(Object(n.$)(window).height(),e),a=c(o,t);window.scrollTo({top:i,left:a,behavior:"smooth"})}},,,function(t,e,o){},,,,,,,,,,,,,,,,,,,,function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},,,function(t,e,o){},,,function(t,e,o){},function(t,e,o){},function(t,e,o){},,,,function(t,e,o){},,,,,,,,,,,,,function(t,e,o){},,,function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,o){},,,function(t,e,o){"use strict";var n=o(2),i=o(3),r="为保证良好的阅读体验，建议不要缩放浏览器大小哦～";function c(t){var e=this;e.loopInst=null,e.isShowing=!1,e.once=t.toastOnce,t&&t.dynamicDetect&&Object(i.$)(window).on("resize",(function(){e.detect()&&!e.isShowing&&e.showToast()})),e.detect()&&e.showToast()}function a(){var t=window.devicePixelRatio,e=window.screen;return 1!==function(t,e){var o=Math.pow(10,e);return Math.round(t*o)/o}(t&&t<1&&t>0?t:isNaN(e.deviceXDPI)||isNaN(e.logicalXDPI)?window.outerWidth/window.innerWidth:e.deviceXDPI/e.logicalXDPI,1)}c.prototype.showToast=function(){var t=this,e=["<style>","#wk-zoom-warn-toast{","position:fixed;z-index:99999;","background:rgba(0,0,0,0.7);color:#fff;","font-size:16px;border-radius:6px;","width:420px;text-align:center;","height:32px;line-height:32px;","left:50%;top:50%;","margin-left:-210px;margin-top:-16px;","animation:fadein .5s;-webkit-animation:fadein .5s;}","@keyframes fadein {from{opacity:0;}to{opacity:1;}}","@-webkit-keyframes fadein {from{opacity:0;}to{opacity:1;}}","</style>",'<div id="wk-zoom-warn-toast">',r,"</div>"].join("");Object(i.$)("body").append(e),Object(i.$)("#wk-zoom-warn-toast").fadeIn(),t.isShowing=!0,n.log.xsend(1,102484,{}),setTimeout((function(){Object(i.$)("#wk-zoom-warn-toast").fadeOut(500,(function(){Object(i.$)("#wk-zoom-warn-toast").remove(),t.isShowing=!1,t.once&&t.destroy()}))}),3e3)},c.prototype.detect=function(){return a()},c.prototype.destroy=function(){this.isShowing=!0,window.clearInterval(this.loopInst),0!==Object(i.$)("#wk-zoom-warn-toast").length&&Object(i.$)("#wk-zoom-warn-toast").remove()},e.a={run:function(t){return new c(t)},zoomDetect:a}},,function(t,e,o){"use strict";var n=o(5),i=(o(3),o(2)),r=o(18),c=o(55),a=o(1),s=o(0);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=v(t);if(e){var i=v(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return h(this,o)}}function h(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(c,t);var e,o,n,r=d(c);function c(){return u(this,c),r.apply(this,arguments)}return e=c,(o=[{key:"handleClose",value:function(){}},{key:"download",value:function(){i.log.xsend(102940,{goClientType:"download"}),window.open(this.downloadurl)}}])&&p(e.prototype,o),n&&p(e,n),c}(s.Vue);Object(a.a)([Object(s.Prop)(Boolean)],m.prototype,"visible",void 0),Object(a.a)([Object(s.Prop)(String)],m.prototype,"downloadurl",void 0),Object(a.a)([Object(s.Emit)("closeClientPop")],m.prototype,"handleClose",null);var b=m=Object(a.a)([s.Component],m),y=(o(333),o(4)),g=Object(y.default)(b,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.visible?o("div",{staticClass:"client-dialog"},[o("div",{staticClass:"dialog-mask"}),t._v(" "),o("div",{staticClass:"client-wrap"},[o("div",{staticClass:"btn-close",on:{click:t.handleClose}}),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),o("div",{staticClass:"download",on:{click:t.download}},[o("span",{staticClass:"btn"},[t._v("马上下载")])]),t._v(" "),o("p",{staticClass:"info"},[t._v("如已安装，可直接打开百度文库客户端阅读此文档")])])]):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wk-logo"},[e("span",{staticClass:"logo"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("p",{staticClass:"title"},[this._v("下载百度文库客户端打开此文档")]),this._v(" "),e("div",{staticClass:"des"},[e("span",{staticClass:"des-item"},[e("i",{staticClass:"des-icon des-icon-kg"}),this._v(" 知识管理")]),this._v(" "),e("span",{staticClass:"des-item"},[e("i",{staticClass:"des-icon des-icon-gz"}),this._v(" 格式转换")]),this._v(" "),e("span",{staticClass:"des-item"},[e("i",{staticClass:"des-icon des-icon-bj"}),this._v(" 公式编辑")])])])}],!1,null,"4088a5cb",null).exports;function _(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function w(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?_(Object(o),!0).forEach((function(e){C(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):_(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function C(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var O={data:function(){return{showDownloadClientPop:!1}},props:{location:String},components:{DownloadClient:g},computed:w(w(w({},Object(n.mapState)(["pageData","showFirstClickTag"])),Object(n.mapGetters)(["docId","isSecret","testData11"])),{},{pcViewGoClientFlow:function(){return+this.testData11.pcViewGoClientFlow||0},isShowGoClientBtn:function(){var t=this.pageData.pcClientLandingPage||{};return null==t?void 0:t.pcGoClientBtnSwitch},downloadurl:function(){var t=this.pageData.pcClientLandingPage||{};return this.isMac()?null==t?void 0:t.mac.url:null==t?void 0:t.win.url}}),mounted:function(){r.default.get("clickedGoClientBtn")||this.setShowFirstClickTag(!0)},methods:w(w({},Object(n.mapMutations)(["setShowFirstClickTag"])),{},{gotoClient:function(){var t=this;i.log.xsend(102940,{goClientType:"click",location:this.location}),this.setClickedCookie(),Object(c.a)({content:"正在启动客户端，请稍后...",delay:1e3});var e="wkpcclient://wenku.baidu.com/reader?docId=".concat(this.docId);window.protocolCheck(e,(function(){i.log.xsend(102940,{goClientType:"popShow",location:t.location}),t.showDownloadClientPop=!0}))},closeClientPop:function(){this.showDownloadClientPop=!1},isMac:function(){try{var t=navigator.userAgent.toLowerCase();return/macintosh|mac os x/i.test(t)}catch(t){return!1}},setClickedCookie:function(){r.default.get("clickedGoClientBtn")||(this.setShowFirstClickTag(!1),r.default.set("clickedGoClientBtn",1,{path:"/",expires:864e8}))}})},j=(o(334),Object(y.default)(O,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return 1===t.pcViewGoClientFlow?o("div",{staticClass:"client-btn-wrap"},[t.isShowGoClientBtn&&"docHeadInfo"===t.location?o("div",{staticClass:"middle-btn client-btn",class:{mgl30:t.isSecret},on:{click:function(e){return e.preventDefault(),t.gotoClient(e)}}},[o("i",{staticClass:"client-icon"}),t._v(" "),t.showFirstClickTag?o("i",{staticClass:"red-spot"}):t._e(),t._v(" "),o("span",[t._v("客户端打开")])]):t.isShowGoClientBtn?o("div",{staticClass:"small-btn client-btn",on:{click:function(e){return e.preventDefault(),t.gotoClient(e)}}},[o("div",{staticClass:"tool-icon"},[o("i",{staticClass:"client-icon"}),t._v(" "),t.showFirstClickTag?o("i",{staticClass:"red-spot"}):t._e(),t._v(" "),o("span",{staticClass:"tool-name"},[t._v("客户端打开")])]),t._v(" "),o("div",{staticClass:"tool-name"},[t._v("客户端打开")])]):t._e(),t._v(" "),o("DownloadClient",{attrs:{visible:t.showDownloadClientPop&&t.isShowGoClientBtn,downloadurl:this.downloadurl},on:{closeClientPop:t.closeClientPop}})],1):t._e()}),[],!1,null,"6c870e8f",null));e.a=j.exports},function(t,e,o){"use strict";var n=o(5),i=o(3),r=o(2),c=o(53),a=o(11),s=o(17);function l(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function u(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?l(Object(o),!0).forEach((function(e){p(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function p(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var f=new(o.n(s).a),d={props:["from"],data:function(){return{showDialog:!1,showToast:!1,recLists:[],docWrapStyle:{justifyContent:"space-between"}}},components:{DocTypeIcon:c.a},filters:{formatCount:function(t){return t<1e3?"".concat(t,"下载"):(t=Math.round(t/1e3*10)/10,"".concat(t,"k下载"))},formatDocType:function(t){return a.a.getDocType(t)}},computed:u(u(u({},Object(n.mapState)(["isLogin"])),Object(n.mapGetters)(["docInfo2019","docId","wkSmallflow"])),{},{curDocInfo:function(){var t;return(null===(t=this.docInfo2019)||void 0===t?void 0:t.doc_info)||{}},collect:function(){var t;return(null===(t=this.curDocInfo)||void 0===t?void 0:t.is_inroom)||0}}),methods:u(u({},Object(n.mapMutations)(["setCollectStatus"])),{},{closeHandle:function(){this.showDialog=!1,r.log.xsend(102896,{from:"closeBtn"})},getRecDocs:function(){var t=this;return new Promise((function(e,o){var n={doc_id:t.docId};i.$.ajax({url:"/edu-rec-mix/mixpr",type:"GET",data:{app_name:"DOC_COLLECT_REC",rn:3,pn:1,other:JSON.stringify(n)}}).done((function(t){var n,i;0!==(null==t||null===(n=t.status)||void 0===n?void 0:n.code)?o():e((null==t||null===(i=t.data)||void 0===i?void 0:i.rec_list)||[])})).fail((function(t){o()}))}))},showToastTip:function(){var t=this;this.showToast=!0,setTimeout((function(){t.showToast=!1}),3e3)},addCollection:function(){var t=this,e=this.getRecDocs();i.$.ajax({url:"/user/submit/collect",type:"POST",data:{ct:20010,fold_id:0,doc_id:this.docId}}).done((function(o){0==+(null==o?void 0:o.error_no)&&(e.then((function(e){e&&e.length?(e.length<3&&(t.docWrapStyle={justifyContent:"space-around"}),t.showDialog=!0,t.recLists=e):t.showToastTip()})).catch((function(e){t.showToastTip()})),t.updateCollectionStatus("addSuccess"))}))},removeCollection:function(){var t=this;i.$.ajax({url:"/user/api/batchdeletedocs",type:"GET",data:{na_uncheck:1,doc_ids:this.docId}}).done((function(){t.updateCollectionStatus("removeSuccess")}))},updateCollectionStatus:function(t){var e=this;"addSuccess"===t?(setTimeout((function(){e.setCollectStatus(1)}),300),Object(i.$)(".collect-icon").removeClass("not-collect").addClass("has-collect").removeClass("bounceOut-2").addClass("bounceIn-2")):"removeSuccess"===t&&(setTimeout((function(){e.setCollectStatus(0)}),300),Object(i.$)(".collect-icon").removeClass("has-collect").addClass("not-collect").addClass("bounceOut-2").removeClass("bounceIn-2"))},handleCollection:function(){this.isLogin?(r.log.xsend(102301,{from:this.from,index:0===this.collect?0:1}),0===this.collect?this.addCollection():this.removeCollection()):f.log()},gotoOtherPage:function(t){r.log.xsend(102896,{from:"recDoc"}),window.open("https://wenku.baidu.com/view/".concat(t,"?fr=ViewCollect"))}})},h=(o(335),o(4)),v=Object(h.default)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.showDialog?o("div",{staticClass:"collect-dialog-wrap"},[o("div",{staticClass:"collect-dialog"},[o("div",{staticClass:"collect-close",on:{click:t.closeHandle}}),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),o("div",{staticClass:"collect-body"},[o("p",[t._v("收藏此内容的还下载了")]),t._v(" "),o("div",{staticClass:"doc-wrap",style:t.docWrapStyle},t._l(t.recLists,(function(e,n){return o("div",{key:n,staticClass:"doc-inner"},[o("div",{staticClass:"doc",style:{backgroundImage:"url("+e.info.thumb+")"},on:{click:function(o){return t.gotoOtherPage(e.info.doc_id)}}},[o("i",{staticClass:"num"},[t._v(t._s(n+1))]),t._v(" "),o("DocTypeIcon",{staticClass:"type",attrs:{"type-name":t._f("formatDocType")(e.info.type)}})],1),t._v(" "),o("div",{staticClass:"doc-title",attrs:{title:e.info.title},on:{click:function(o){return t.gotoOtherPage(e.info.doc_id)}}},[t._v(t._s(e.info.title))]),t._v(" "),o("div",{staticClass:"desc"},[o("span",{staticClass:"left"},[o("i",{staticClass:"score"}),t._v(t._s(e.info.qualityScore)+"\n                        ")]),t._v(" "),o("span",{staticClass:"right"},[t._v(t._s(t._f("formatCount")(e.info.download_count)))])])])})),0)])]),t._v(" "),o("div",{staticClass:"collect-mask"})]):t._e(),t._v(" "),t.showToast?o("div",{staticClass:"collect-toast"},[t._v("收藏成功，可在个人中心-收藏中查看")]):t._e()])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"collect-title"},[e("i",{staticClass:"success"}),this._v("收藏成功")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"tips"},[this._v("可在"),e("span",[this._v("个人中心-收藏")]),this._v("中查看")])}],!1,null,"e1885ab8",null);e.a=v.exports},,function(t,e,o){var n,i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIIAAAAsCAYAAAHeElD1AAAAAXNSR0IArs4c6QAAEAlJREFUeAHtnMl3VcUTxzOHIQMJYDQTESFECBhg58Lj0uM56so/xuPGjf+Bf4B7N+7duHFJ5CcikUBIAgRDmDJPL8nv++ncuta7ufflvkwSDnVOpafqqbqqurr7vlRU7DfU1tZepw8Ly+4vWTGZ9g1WKkFvfwkvCm8JV4UbQkbwkYIa4pWVlUsrKytLxCMYUXha+LIqyjgShZcVXhNe/+6776o6Ojr+Jn91dfXGxsZGvaL3hSei8JjCLuEVYUVbhIyKli0deFFfX3/OTYVyoGUzqLDOo2RKUFdX15eSXZRFz5ngeg/TySRMK/CViTc1NbWm0fkVWRRBrZAVCWCNwMwo64MobFQ4I3xYrT/twjkhDVyN0k+sstIV1dXV7evr608UfSmE9h0hq9HGej8S0jNA3GBdEVtuyyNkhMgDIzgq3BkwQj9K4j09PdsvbUp3aaNMIfs3i84kIld6e3vRggA2mMePH/cdP34ceSwLGAQyZ3ihRO1YNqUltbdv316B1gYQLXi1VLCzoaHBhB+SuJ7iRxySH9IM4niENMpaBQuj0CoMRHnQxbJ9+vTpBidpFefOnUN9Q/nc3NwUcQFtDUUh0kvH2IlLwnvCAmm/HC+UAQKIL4RU+FMYg7gQlPHp06fzngv37t1bhsjy4gr/CmYwXsoPk1GIEQNt0oqWCbI9pZYud2ueC7krQShdbbAZY8csXlYjIt7xAHxHWprA2tbW1iafnyde1gC+/vrraj/TM2fOFMmItCEIZJ6OjaakhTciC61z7X4L6uyO5Vto5V5LrCwrhAOoiOG7WYTQ0DHlzc3ND9EIOgRlA7DXaWDtW5mpOP2xWZIOqoCdBlE/VKNOiM03u69oMdhsbRBs7+zKbW1tyEO3EHVOIm3TpoWhfRJnIySO82EjJSQPCKHNfDNLI750qY5BYJKJW77CfiHGDLnwbdA+eUFwbY9lxwIYObseltHPnj2WRm7QGWtsofKCATpy5Mjo0tJST2L9cYAYlO3RNhCqBTAtwFIZUkDnVLKK5MUgVsPaGBKdWj4qSefzwi0dGxEc8LsZ+wKOAODzJ6M0oTe5haqqqiWMEvkS0nlpB3sAncPmKSEAuxnMmhDfAKD9ybLUMFTb5R9ZzcuSI5OVgrj3v102uevqyNyBgmMA/dagWIKNo0ePdhQKhSJTlCFeez5e04U9b9g3iKnyaR+HAaSTDCAPBhHuN+xrJ7Ja1zSBuA+t9oOZmRlzwYrmxpb7888/Y0KBAswRxFZxP6WierPP/fnLice3LONVuba2Foze9evXa589e3YVGnBkZKQgsz7MCUk4KWPX6evKEtdKWqZ93l7FWaVMs+064RD9yqVLRa29sK1IGjgSVtXU1EwtLi6OU5F9LasBnC6c7iSNLP6gpOOS6uV1wtgFci1ykgnJ/RC3hR0doCxz8Cq7KaRjo0m2xeSL1AMRT05W9QN8++23v8uWrFvahRcUx3PhuHPb5ZMHkwD6RrVgwh/CK8JMSDIhi3DLhBwhOwxHH8AzKq5jE7VV3iTd/EuZZwbxxsbGk3g8UHBStoPqZo34L24YUoFhNbtjCwGRMeF3xZFG6DgrNgrZhfA3gr+Q3CLjgYvAgJUFcTrsZHxLcVulkiL36aef1vz2228i1wgk5jKOndLt4ATlMXZ37969rKpp48K9/FBoDFA0SCKhB8bp69ucF5UfmJBXEvBfOSDB0VJAZ1vUwSTBKkq3cSEDaAfAk8PTY1AG+A9hZ1DdiYWFhSdRwVmFLUakcFAYtliFvcJGoYHZBM8AylqF7wtHhc+Fb+E/4QBnO63uwKlTp/yq/SdjsU4zPTkj2MtQIl754sWLPrVZPT093VvKk9zLfrdryxuV7Wh3Xc4pX45QszUkh2h2eXn5LunIgNouc6AHq5KW3Qa7V6Em3aO2YsZLMurxEGlfF8Te6FbptFm3Xx4i/Xk4UHXQDrDkO1c6XMfqKqbo9AiN3OtTnnY/4/vOBA5GNgG93Ty0OOGxY8ceEUoa7H6BpAFb3IFAPMD96I0LlKGhoQ4OSN3d3S8nJiYWdIZghaslBavz8/Nj9Hvy5MmCzhVFK69dZEjOVFtnZ+fqq1evcJH3DWL93OseEkfj0HwpD1EM6zPHyS4KbUwyqOPuCcWy9yzcNyZI1N/TpIuO0qWY4GckJpxJ2oS8dX07eePmR+elz00ncTd3NrVOYrvc0FH5d6sjG8Er64EBTMB5SQMsNyet8MSQRpCSh2+PkVuRvo/IM+xIoalA9DXRcGaIyiuVd03x4OeLGWtSjbSqyTwb+wMVhJ3GEXC09sBttNmdUVewARP8YFxZyOewwWg4qOQB7h/oPEgY12kyeO8rvaH7gZvyECtwl+UtpvaJOy2xv6ldZELG8IJ1iBGN4nY4syILOVZ7YOFKSdMlR7yATbCG/3IFROuFH0R5HFunhUwuuUQ2wIg0O5ClPzo5ORkuadBxPWC16ISI9MQgh2pGXuQwdwoK31V6UXcL9A/YeDZT2X+RCo7rz4QTEZldrPwRpS0IkmAJHBk/QX+0NdEqGrBVVDgrxP2Fw9AyiD+FMfB9hxiAVJQEqUmT7MX52dnZYREmj7qjyrNVH1LcqwCT5PjNxB8JYQJgk99MbU0vBLGNSpMDbLBaCnFt8Sn8dRbFTcIuISdC4qkga39WatEisebLoaI29HLMZCo4WGnV57q6ukbHxsb6ZSMuijYpnThQ5DExmPG3cC5KwwCkdUzoYVAJ7I2ptalifKfhPUYuKzyGSw3ljQsBBoC0eHxKQQTU3QItLS3N2u5CWZIBEMtGrEr0zRlaty8bZBiPYiO2NLj5QHkrysduwBDGih3g+iwJl6OMBwpZqL4IiQf0TIAI3TNk9YFuIasNB7EfSVRWNsjJOUepPMXAME3smlA37teNydmVJX0Zx+0VVTJ1ox0W6E5GQ9YPqnze0RAP6NXhpTK9TSDNsRcr+06ECsJjqUkHaTv+Es8E6TqGFsAY54Yff/yRLRfpSwIraoCqdgqxBUkI267LZBGBON8z4YQKPBMwcDAgCfgOJr7JsrQ0bVaKCc0S8UrZhznFY3szOjraKp/iH9HEg/KN6EOwgmh8FvGrQqR4RogEsxAYQhj8UOjBJu3ziFv+KpUskSTyaUSP7Qk/IAuwykwO5sW7A9dp0W1SqCfjiCjbtsqFKhKyFuUHGuxBiECordTiCv1YkVTbOpGENPvBmJKG0tqI24UJtpUoWgTrSmFsYiuqOKKZagCVvyhE/5AudJQBBOADFu352JUi0MQXhAVN+oiQtosg5Z3idESQHJfVQ5qZE8AYYHhSlWy+SPRbMA4Y1yz9xoV84SgXnF3A74Qb8laH9SA8+8ZNeIcTeqMFAU89Or+lskcb1Zi889h0eSKZqEr5cKfl33GGrNLl2OzFixf/uXHjhtl0T37o42+0IOj0cYl9J2uVtC+taqGLzpQIgASk13syifoFvZPfyXgnT5AenqQ3l4dn1DlHmuZ4+KoqD5/OWR4fxnO9VUIIIK3RtwL9OQ8+1vRrH77RgiBz/qrUCnCDJasQn5X0DGieZKlqlFWOj4/bYXA72kNRfqgFgV8Z6RbuAlcTIDf4XlN1LfmAo0naSihfxUv3fZnych2MJWDPp6amuMx6Y+DQ+gi6yO/Wo72dJ4sWhMXXeXVIYdB2hEOvoa0y+fWyAit9fX3P05y+yD84L7rGogZdQgI3oYM9loODewzaUh7pRuTQnkkPpSCcEIjp3O5kgrT2pXuoyKTLKuB1SI8h3A5Vqq3lzz777NUvv/zSuE2/Bb0u3cr4+jSrq9ci/1AKgqxBl6wBl76ZIGtgv3xJpWFb0XXfMT0DcJO1IU1fHhgYmPv1118ztwceg2QtuJ7PBN2mT+rImnbRm1nndSg4lILgnzKzmMjzhhbkoS/nl2nDw8MXtjtN4APImoz6usRl/j9U3bSL95j0MAuCXTzHkykzgjM2LvR30WU2kUluz7pGEF/g86hnb1pWaGHatiArsuWXVUafFepCaVhWgxeNAGqjU5ao5MlCN5Z3oxtLHgtKOeOU9W62HP/l5cQ/LccFUYR7/wvCIv8kSbSDdNFHCTuoX1SFy31eZjJNaxF1vkSmIFh1Hih/+OGH8Lzc39+/mDTt7e3tx+Thw3DPPMaKNTS05raE2mKWvvrqq6GffvqJOhW6bOrRdnJyC6Ey9BHmfV1n25G1X1l7fcRE6WjT5kLa+lM0AFvdqShOgGA9d+m0aObT26Co4/N1Wk3lYSI/TJTxjvhYyMvU2URZVpJ+OIpx1ctzmu+XVySbtKLhJSk5cfK3QPQp0Acq8PUDnT3npX0ds6WhKEOnjelvvvlm5IAcQW5De4R+636qNAs6ILQ5wbMJ4RXhbqDo45RyGmKAac7aTh5xaIvjGvi+EFPM1zlAh9BfESPdmYLA8U+fTLIFtOl7MOoHkFbzDGmWygtaRLF9ICex+fvvv78qh3H2yy+/vG8WYvua4UkWi+TnwViYIxrtAW3H9POMa4ByPBBmjZt8+I4l8BYIXjHvPLDEIuzWR6AjHmKY2CKJMgEBgFEeppTA79h2a7BKyXsFvnjSgt0rtWBmEew3dlwx84WUtcnNI9/Okeb7OTmQPVamsKBT7P0yLpZYXBbZLxZ7PpdaLBo8YDENWNx7Qmg8JC3CmApPCnsckVlmsng0Q8EMRhXBshSB/zSlqKDMBJNsF44ITXLJe094QmimTNFcgIDmBrx5WYHYm8eMawERgtAG24R+lN2lRJjvxx9//FfSl8jd2b+ENXxhKp8h730FyoIPxWIjEIQ4jOeFHlCmu0KzYL4sLY5/1JMoeFdpMA16lAkWQZYg5PERkOyLQiYDsODXhLeFSDeCsO8Q/VYqFgI6lCCgYQH4ul7bBEIag56eyxK0uGJKhM8ROZaW8RqJuUbTEYA0HrGn5RUCkQbz/5hIBsAb/zURW01yS9rUkIwGtstG89MY2q18P0HobgqTJk5ZARDGj6J42YE+PDELFNeVdTglAXmC1usouSLnMC5Li8h6hHnw3agE54kWl6Mf/9ttC8NK1U8rS+Q1KH1O6C0kjjLKZMJs2sx19SPhdkBbzSWI/FpARj/JvLUsi4Bm7wS4S3glZN83gMkDQvLThMEsitGXFeIDyIGbSdz4Vekn6R9py5iX6X6kbWFQv6pq1AKHBfjiiy/W9NYQ94NfoKPf488//3xK7U3EBTkickSX7cPjBLlnOIKFVfKKg+azlRpPGBtCgrAA3FeAL4Ro8RaBV55BKR76PqEnnaRfJ3O3ziLnawYLA82kIWBnhCeEOwGORWPC3M6iNLldmo9PcmAgIViUNbmjMG2Rzmog3iTbuJjbuDCtDjQsEnWztBx+m0UxPikrE3I5i0lpyWztsBTgM0jbm7U9oIVVHCkFfCK8xjYhgVn65JNPlrAkaXOi/uDgYJOEqkEWBK2uUxsINg3xn7z4B4vT/EcgpbMWM63pt3lvOfD6c+D//pOPNUPoy1cAAAAASUVORK5CYII=";!function(){function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.container,o=void 0===e?document.body:e,n=t.content,c=void 0===n?"请勿外传":n,a=t.width,s=void 0===a?"300px":a,l=t.height,u=void 0===l?"100px":l,p=t.opacity,f=void 0===p?"0.2":p,d=t.fontSize,h=void 0===d?"16px":d,v=t.useImg,m=void 0!==v&&v,b=t.index,y=void 0===b?"":b,g=arguments[0];function _(t){var e="data:image/svg+xml;base64,".concat(window.btoa(unescape(encodeURIComponent(t)))),n=document.querySelector(".__wm".concat(y)),i=n||document.createElement("div"),c="\n                position: absolute;\n                bottom: -10px;\n                right: 52px;\n                width: ".concat(s,";\n                height: ").concat(u,";\n                pointer-events: none;\n                background-repeat: no-repeat;\n                background-image: url('").concat(e,"')");i.setAttribute("style",c),i.classList.add("__wm".concat(y)),n||(o.style.position="relative",o.appendChild(i));var a=window.MutationObserver||window.WebKitMutationObserver;if(a){var l=new a((function(){var t=document.querySelector(".__wm".concat(y));(t&&t.getAttribute("style")!==c||!t)&&(l.disconnect(),l=null,r(g))}));l.observe(o,{attributes:!0,subtree:!0,childList:!0})}}if(m){c&&c.length;var w='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'.concat(s,'" height="').concat(u,'">\n                    <text text-anchor="end" x="300" y="45" fill="rgba(0, 0, 0, ').concat(f,')" font-family="PingFangSC-Semibold, PingFang SC" font-size="').concat(h,'" font-weight="500"\n                    style="font-size:').concat(h,'">@').concat(c,'</text>\n                    <image x="230" y="48"  fill="rgba(0, 0, 0, ').concat(f,')"  \n                        width="65px" height="22px" xlink:href="').concat(i,'">\n                    </image>\n                    </svg>');_(w)}else{c&&c.length;var C='<svg width="'.concat(s,'" height="').concat(u,'" viewBox="0 0 ').concat(s," ").concat(u,'" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                <title>页面 1</title>\n                <defs>\n                    <polygon id="path-1" points="0.079664716 0.00885714286 4.62621893 0.00885714286 4.62621893 6.8922 0.079664716 6.8922"></polygon>\n                    <polygon id="path-3" points="0.0094915657 0.0694579524 16.4259254 0.0694579524 16.4259254 12.4444444 0.0094915657 12.4444444"></polygon>\n                    <polygon id="path-5" points="0 21 65 21 65 0 0 0"></polygon>\n                </defs>\n                <g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                    <g id="z备份-2" transform="translate(-765.000000, -624.000000)">\n                        <text opacity="0.25" font-family="PingFangSC-Semibold, PingFang SC" font-size="16" font-weight="500" line-spacing="16" fill="#000000">\n                            <tspan text-anchor="end" x="1066" y="640">@').concat(c,'</tspan>\n                        </text>\n                        <g id="编组" opacity="0.200000003" transform="translate(1000.000000, 643.000000)">\n                            <g>\n                                <path d="M42.280565,8.88931971 C42.280565,8.22316291 41.7547844,6.22222222 39.8047042,6.22222222 C37.8520102,6.22222222 37.5903614,8.11035268 37.5903614,9.44568553 C37.5903614,10.7211823 37.6940015,12.4999335 40.1207215,12.4431166 C42.5463959,12.3879467 42.280565,9.55520203 42.280565,8.88931971" id="Fill-1" fill="#010202"></path>\n                                <g transform="translate(27.409639, 0.000000)">\n                                    <mask id="mask-2" fill="white">\n                                        <use xlink:href="#path-1"></use>\n                                    </mask>\n                                    <g id="Clip-4"></g>\n                                    <path d="M2.35280757,6.8922 C3.60792289,6.8922 4.62621893,5.35205714 4.62621893,3.45105714 C4.62621893,1.5482 3.60792289,0.00877142857 2.35280757,0.00877142857 C1.09661824,0.00877142857 0.079664716,1.5482 0.079664716,3.45105714 C0.079664716,5.35205714 1.09661824,6.8922 2.35280757,6.8922" id="Fill-3" fill="#010202" mask="url(#mask-2)"></path>\n                                </g>\n                                <path d="M25.5227438,11.6073411 C27.7243026,11.1206326 27.4257773,8.41819318 27.3578953,7.82758059 C27.2521135,6.91605247 26.2085731,5.32307907 24.7929145,5.45179207 C23.0117571,5.61398378 22.7520402,8.259336 22.7520402,8.259336 C22.5093262,9.4805756 23.3271556,12.0923157 25.5227438,11.6073411" id="Fill-5" fill="#010202"></path>\n                                <path d="M28.3298699,16.4186546 C28.2650853,16.622824 28.1142375,17.1450677 28.2435356,17.5989684 C28.5018607,18.6208181 29.3393167,18.6666667 29.3393167,18.6666667 L30.5421687,18.6666667 L30.5421687,15.5555556 L29.2535246,15.5555556 C28.6733095,15.7373737 28.3939768,16.2141987 28.3298699,16.4186546" id="Fill-7" fill="#010202"></path>\n                                <path d="M35.8189958,7.75951398 C37.6843877,7.97899419 38.8851237,6.17452927 39.1254201,4.80767412 C39.3675063,3.44189948 38.162743,1.85434854 36.840591,1.58205803 C35.515754,1.30747141 33.8614232,3.22849719 33.7131584,4.479872 C33.531631,6.01177626 33.9537531,7.54043898 35.8189958,7.75951398" id="Fill-9" fill="#010202"></path>\n                                <g transform="translate(24.277108, 8.555556)">\n                                    <mask id="mask-4" fill="white">\n                                        <use xlink:href="#path-3"></use>\n                                    </mask>\n                                    <g id="Clip-12"></g>\n                                    <path d="M13.0439929,10.5341419 L9.65375492,10.5341419 C8.33942933,10.1951981 8.27672142,9.26213238 8.27672142,9.26213238 L8.27672142,5.50779068 L9.65375492,5.48678232 L9.65375492,8.85909295 C9.73852424,9.21931278 10.1834963,9.28300693 10.1834963,9.28300693 L11.5823238,9.28300693 L11.5823238,5.50779068 L13.0439929,5.50779068 L13.0439929,10.5341419 Z M7.55591478,10.5558194 L4.6097129,10.5558194 C3.33803938,10.3007751 2.82928974,9.43207264 2.7656459,9.28300693 C2.70280429,9.13514552 2.341933,8.43424229 2.53286453,7.24733668 C3.08439994,5.46537252 4.65196386,5.33785042 4.65196386,5.33785042 L6.22099853,5.33785042 L6.22099853,3.40842628 L7.55591478,3.42943465 L7.55591478,10.5558194 Z M15.3108369,6.20253859 C15.3108369,6.20253859 12.7224311,4.19764492 11.2123606,2.03217778 C9.16198589,-1.16283297 6.25041375,0.136875508 5.27877549,1.76134385 C4.30967764,3.38581219 2.79893858,4.41482055 2.58300411,4.6859221 C2.36733706,4.9551503 -0.543299148,6.52569271 0.102899794,9.39781697 C0.748029092,12.2676664 3.01580899,12.2136067 3.01580899,12.2136067 C3.01580899,12.2136067 4.68726212,12.377124 6.62920159,11.9421037 C8.56793212,11.5101611 10.2401875,12.0507584 10.2401875,12.0507584 C10.2401875,12.0507584 14.7732069,13.5684454 16.0125237,10.6441348 C17.2514393,7.72022557 15.3108369,6.20253859 15.3108369,6.20253859 L15.3108369,6.20253859 Z" id="Fill-11" fill="#010202" mask="url(#mask-4)"></path>\n                                </g>\n                                <mask id="mask-6" fill="white">\n                                    <use xlink:href="#path-5"></use>\n                                </mask>\n                                <g id="Clip-14"></g>\n                                <path d="M19.5783133,20.2222222 L21.9277108,20.2222222 L21.9277108,12.8205085 L19.5783133,12.8205085 L19.5783133,20.2222222 Z M19.5783133,11.9958983 L21.9277108,11.9958983 L21.9277108,10.1111111 L19.5783133,10.1111111 L19.5783133,11.9958983 Z" id="Fill-13" fill="#000000" mask="url(#mask-6)"></path>\n                                <path d="M16.4642427,18.68873 L13.1531961,18.68873 C12.7075882,18.5243755 12.5592428,18.2502316 12.5293736,18.1818274 C12.4997903,18.1139505 12.3957484,17.8673528 12.5142247,17.6204915 C12.781618,17.1416623 13.2275117,17.0320048 13.2275117,17.0320048 L16.4642427,17.0320048 L16.4642427,18.68873 Z M16.0187778,12.457888 L10.8364067,12.4444444 L10.8364067,14.0737552 L15.3798064,14.0737552 C15.3798064,14.0737552 16.4642427,14.3200893 16.4642427,14.950093 L16.4642427,15.5253997 L12.3510161,15.5253997 C12.3510161,15.5253997 10.7327935,15.6627353 10.2125842,17.442298 C10.1238342,18.2784368 10.2424534,18.68873 10.3019059,18.8397727 C10.3613583,18.9902882 10.8364067,19.9756245 12.2468314,20.2222222 L18.7951807,20.2222222 L18.7951807,14.6760809 C18.7951807,14.6760809 18.4837697,12.7723627 16.0187778,12.457888 L16.0187778,12.457888 Z" id="Fill-15" fill="#000000" mask="url(#mask-6)"></path>\n                                <path d="M7.2908392,13.6550123 C7.2908392,13.6550123 7.02298541,14.0843583 6.32261824,14.1757243 L2.50809831,14.1757243 L2.50809831,12.0828486 L6.30302262,12.0828486 C6.30302262,12.0828486 7.13069083,12.0521456 7.40249194,12.6265877 C7.40249194,12.6265877 7.5656008,13.2355706 7.2908392,13.6550123 M6.45358464,18.3434005 L6.45358464,18.3463717 L2.50809831,18.3463717 L2.50809831,16.1675774 L6.43243829,16.1675774 L6.56509641,16.1892427 C6.56509641,16.1892427 7.31381824,16.3106927 7.58519642,16.9013528 C7.58519642,16.9013528 7.74224333,17.4531391 7.40249194,17.8663907 C7.40249194,17.8663907 7.15352889,18.2493108 6.45358464,18.3434005 M10.1763294,17.5573805 C10.2458304,15.7845334 8.4362666,15.1736935 8.4362666,15.1736935 C9.9665576,14.4714876 9.77201116,12.6987644 9.77201116,12.6987644 C9.60467303,9.98502081 5.83230483,10.1120418 5.83230483,10.1120418 L0,10.1120418 L0,20.2222222 L6.58455105,20.2222222 C10.4544744,20.2103372 10.1763294,17.5573805 10.1763294,17.5573805" id="Fill-16" fill="#000000" mask="url(#mask-6)"></path>\n                                <path d="M53.4136781,12.6022188 L49.8707948,16.3607627 L52.1688813,18.6332954 C52.2647711,18.8373235 52.5517595,18.9104305 53.0306637,18.851746 L54.0361446,18.851746 L54.0361446,20.1629469 L51.8817567,20.1629469 C51.274954,20.1916675 50.8920758,20.08984 50.7325772,19.8570912 L48.4822995,17.6717149 L46.710926,19.376301 C46.1364044,20.0168573 45.6095553,20.2939924 45.1309235,20.206463 L43.1679066,20.206463 L43.1679066,18.851746 L44.4607845,18.851746 C44.6521555,18.8812126 44.8437989,18.7938075 45.0350337,18.5895307 L47.2375027,16.4918082 L43.8381818,13.0392443 L46.2798305,13.0392443 L48.5779169,15.1807316 L51.1155916,12.6022188 L53.4136781,12.6022188 Z M47.4768186,10.8978814 L47.4768186,10.1111111 L49.5836702,10.1111111 L49.5836702,10.8978814 L53.8925823,10.8978814 L53.8925823,12.3402521 L43.0722892,12.3402521 L43.0722892,10.8978814 L47.4768186,10.8978814 Z" id="Fill-17" fill="#000000" mask="url(#mask-6)"></path>\n                                <polygon id="Fill-18" fill="#000000" mask="url(#mask-6)" points="54.0361446 10.4202453 58.8141237 10.4202453 58.8141237 10.1111111 61.1275676 10.1111111 61.1275676 10.4202453 64.8995586 10.4202453 64.8995586 11.7448367 60.4233329 11.7448367 60.0712156 12.4514111 64.8995586 12.4514111 64.8995586 13.8643087 59.2666825 13.8643087 58.4116426 15.3653868 60.3227484 15.3653868 60.3227484 14.3940197 62.1834904 14.3940197 62.1834904 15.3653868 65 15.3653868 65 16.7343197 62.1834904 16.7343197 62.1834904 17.6172551 64.9496362 17.6172551 64.9496362 18.8977564 62.1834904 18.8977564 62.1834904 20.2222222 60.3227484 20.2222222 60.3227484 18.8977564 56.3999523 18.8977564 56.3999523 17.6172551 60.3227484 17.6172551 60.3227484 16.7343197 56.3999523 16.7343197 56.3999523 15.4980344 57.305356 13.8643087 56.450173 13.8643087 56.450173 12.4514111 58.0595253 12.4514111 58.4618633 11.7448367 55.7965882 11.7448367 55.7965882 19.2067649 55.7965882 20.1341673 54.0361446 20.1341673 54.0361446 18.5886222"></polygon>\n                            </g>\n                        </g>\n                    </g>\n                </g>\n            </svg>');_(C)}}t.exports?t.exports=r:void 0===(n=function(){return r}.call(e,o,e,t))||(t.exports=n)}()},function(t,e,o){"use strict";var n=function(t){if(function(t){return new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$').test(t)}(t)){var e=new RegExp("(^| )"+t+"=([^;]*)(;|$)").exec(document.cookie);if(e)return e[2]||null}return null};e.a={getTestBaiDuID:function(t){var e,o=-1;try{var i=("string"==typeof(e=n("BAIDUID"))?e=decodeURIComponent(e):null)||"";""===i&&console.log("[Warning] BAIDUID is empty string"),i.length>6&&(o=i.substring(0,6),o=parseInt(o,16),o%=t||10)}catch(t){console.log("ABtestTool ERROR",t)}return o}}},,,function(t,e,o){"use strict";o.d(e,"a",(function(){return c}));var n=o(18),i=o(3),r=function(t){return["__wk_",t,"_strategy"].join("")},c={topOpVisible:function(){var t=(new Date).toLocaleDateString(),e=n.default.get("BAIDUID"),o=localStorage.getItem(r("view_topbar"));return!(function(){try{return Object(i.$)(".vip-member-pop-content")[0].children.length>0}catch(t){return console.log("ERROR: cannot find element. [operationControl.js]",t),!1}}()||o&&o==="".concat(t,"_").concat(e))&&(localStorage.setItem(r("view_topbar"),"".concat(t,"_").concat(e)),!0)}}},function(t,e,o){"use strict";var n=o(1),i=o(0),r=o(2),c=o(3);function a(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e,o){return e&&a(t.prototype,e),o&&a(t,o),t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=[],p=[],f=null,d=null,h="https://edu-wenku.bdimg.com/v1/shuang12/baoxiangLL-1606480756100-1606737070777.png",v="https://edu-wenku.bdimg.com/v1/shuang12/popgif-1606881256084.png",m=["https://edu-wenku.bdimg.com/v1/tmp_file/14-1606449554000.png","https://edu-wenku.bdimg.com/v1/tmp_file/15-1606449554434.png","http://edu-wenku.bdimg.com/v1/tmp_file/11-1606449552786.png","https://edu-wenku.bdimg.com/v1/tmp_file/5-1606449550402.png","https://edu-wenku.bdimg.com/v1/tmp_file/5-1606449550402.png","https://edu-wenku.bdimg.com/v1/tmp_file/6-1606449550776.png","https://edu-wenku.bdimg.com/v1/tmp_file/4-1606449550101.png","https://edu-wenku.bdimg.com/v1/tmp_file/7-1606449551057.png","https://edu-wenku.bdimg.com/v1/tmp_file/8-1606449551393.png","https://edu-wenku.bdimg.com/v1/tmp_file/10-1606449552399.png","https://edu-wenku.bdimg.com/v1/tmp_file/12-1606449553204.png","https://edu-wenku.bdimg.com/v1/tmp_file/13-1606449553581.png"],b=function t(e){l(this,t),this.position=e.position||{x:0,y:0},this.velocity=e.velocity||{x:0,y:0},this.opacity=e.opacity||1,this.image=e.img},y=function(){function t(e){l(this,t),this._minVel=e.minVel,this._maxVel=e.maxVel,this._position=e.position,this.gravity=e.gravity||.1,this.particles=[]}return s(t,[{key:"generateParticle",value:function(){var t,e,o,n,i=parseInt(10*Math.random(),10);null==this||this.particles.push(new b({position:Object.assign({},this._position),velocity:{x:_(null==this||null===(t=this._minVel)||void 0===t?void 0:t.x,null==this||null===(e=this._maxVel)||void 0===e?void 0:e.x)/100,y:_(null==this||null===(o=this._minVel)||void 0===o?void 0:o.y,null==this||null===(n=this._maxVel)||void 0===n?void 0:n.y)/100},img:u[i].img}))}}]),t}(),g=function(){function t(e,o){l(this,t),this._$canvas=e,this._dimens=o||{},this._sources=[],this.resizeHandler=this.resizeHandler.bind(this),this.calcLoop=this.calcLoop.bind(this),this.renderLoop=this.renderLoop.bind(this),this.isAllReady=this.renderLoop.bind(this),this.init()}return s(t,[{key:"init",value:function(){this.resizeHandler(),window.addEventListener("resize",this.resizeHandler),this._ctx=this._$canvas.getContext("2d")}},{key:"resizeHandler",value:function(){this._$canvas.width=this._dimens.width=window.innerWidth,this._$canvas.height=this._dimens.height=window.innerHeight}},{key:"addSource",value:function(t){null==this||this._sources.push(new y(Object.assign({dimens:this._dimens},t)))}},{key:"start",value:function(){var t=this;f=setInterval((function(){t.renderLoop(),t.calcLoop()}),12)}},{key:"calcLoop",value:function(){null==this||this._sources.forEach((function(t){if((null==t?void 0:t.particles.length)<=100)for(var e=0;e<1;e++)t.generateParticle();null==t||t.particles.forEach((function(e,o){e.opacity<=-1&&(e._hasShow=1),e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.velocity.y+=t.gravity,e.opacity-=.01}))}))}},{key:"renderLoop",value:function(){var t=this;this._ctx.clearRect(0,0,this._dimens.width,this._dimens.height),null==this||this._sources.forEach((function(e){null==e||e.particles.forEach((function(e){!e._hasShow&&t._ctx.drawImage(e.image,e.position.x,e.position.y,e.image.width/3.5,e.image.height/3.5)}))})),this.isFallDownReady()&&!this._hasCallBack&&(this._hasCallBack=!0,"function"==typeof this._callback&&this._callback())}},{key:"isFallDownReady",value:function(){var t=!1;return this._sources.forEach((function(e){(null==e?void 0:e.particles.length)<=0?t=!1:(null==e||e.particles.forEach((function(t,e){t._hasShow&&p.push(t)})),p.length>=70&&(t=!0))})),t}},{key:"isFinishAnimation",value:function(t){this._callback=t}}]),t}();function _(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function w(t,e,o){u=e;var n=new g(t);n.addSource({gravity:.1,minVel:{x:-700,y:-700},maxVel:{x:700,y:700},position:{x:window.innerWidth/2-40,y:295}});var i=document.getElementById("baixiang-image"),r=0,a=0;d=setInterval((function(){r+=-425,i.style.backgroundPosition="0px "+r+"px",6===++a&&(i.style.backgroundImage="url("+h+")"),a>6&&(clearInterval(d),n.start(),i.style.backgroundPosition="0px 0px",n.isFinishAnimation((function(){!function(t,e){Object(c.$)("#baixiang-image").animate({width:"0",height:"0",marginTop:425},600,(function(){t.style.backgroundImage="url("+v+")";var o=((window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)-548)/2;Object(c.$)("#baixiang-image").animate({width:"788px",height:"548px",marginTop:o+"px"},100,(function(){f&&clearInterval(f),e()}))}))}(i,o)})))}),50)}function C(t){return new Promise((function(e,o){var n=[],i=0,r=t.length;t.forEach((function(t){var o=new Image;o.onload=function(){i++;var c={picUrl:t,img:o};n.push(c),i===r&&e(n)},o.src=t}))}))}function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=I(t);if(e){var i=I(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return S(this,o)}}function S(t,e){return!e||"object"!==O(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(c,t);var e,o,n,i=x(c);function c(){var t;return j(this,c),(t=i.apply(this,arguments)).animationFis=!1,t.isHidenPopView=!1,t}return e=c,(o=[{key:"mounted",value:function(){var t=document.getElementById("annimationn-canvas"),e=(document.getElementById("baixiang-image"),this);this.sharkT=setTimeout((function(){new Promise((function(t,e){var o=C(m),n=C([h,v]);Promise.all([o,n]).then((function(e){var o=e[0]||[];t(o)})).catch((function(t){e()}))})).then((function(o){w(t,o,(function(){e.animationFis=!0,e.$emit("updateCoinStatus",{status:!1})}))}))}),2800),r.log.xsend(102956,{type:"show",source:this.source})}},{key:"buyVip",value:function(){location.href="/ndbusiness/browse/wenkuvipcashier?cashier_code="+this.source,this.isHidenPopView=!0,r.log.xsend(102957,{type:"buyVip",source:this.source})}},{key:"closeBtn",value:function(){this.isHidenPopView=!0,r.log.xsend(102958,{source:this.source})}},{key:"destory",value:function(){this.sharkT&&clearTimeout(this.sharkT)}}])&&P(e.prototype,o),n&&P(e,n),c}(i.Vue);Object(n.a)([Object(i.Prop)(String)],T.prototype,"source",void 0);var D=T=Object(n.a)([i.Component],T),V=(o(283),o(4)),E=Object(V.default)(D,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.isHidenPopView?t._e():o("div",{staticClass:"pager-container"},[t.animationFis?t._e():o("canvas",{staticClass:"canvas-main",attrs:{id:"annimationn-canvas"}}),t._v(" "),o("div",{staticClass:"treasure-main"},[o("div",{staticClass:"treasur-image",attrs:{id:"baixiang-image"},on:{click:t.buyVip}},[t.animationFis?o("div",{staticClass:"close"},[o("img",{attrs:{src:"https://edu-wenku.bdimg.com/v1/shuang12/popClose-1606881255727.png"},on:{click:function(e){return e.stopPropagation(),t.closeBtn(e)}}})]):t._e()])])])}),[],!1,null,"5f9ab7ef",null);e.a=E.exports},,,,function(t,e,o){"use strict";var n=o(130);o.n(n).a},,,,,,,,,,,,,,,,,,,,function(t,e,o){"use strict";var n=o(150);o.n(n).a},function(t,e,o){"use strict";var n=o(151);o.n(n).a},function(t,e,o){"use strict";var n=o(152);o.n(n).a},function(t,e,o){"use strict";var n=o(153);o.n(n).a},function(t,e,o){"use strict";var n=o(154);o.n(n).a},function(t,e,o){"use strict";var n=o(155);o.n(n).a},,,function(t,e,o){"use strict";var n=o(158);o.n(n).a},,,function(t,e,o){"use strict";var n=o(161);o.n(n).a},function(t,e,o){"use strict";var n=o(162);o.n(n).a},function(t,e,o){"use strict";var n=o(163);o.n(n).a},,,,function(t,e,o){"use strict";var n=o(167);o.n(n).a},,,,,,,,,,,,,function(t,e,o){"use strict";var n=o(180);o.n(n).a},,,function(t,e,o){"use strict";var n=o(183);o.n(n).a},function(t,e,o){"use strict";var n=o(184);o.n(n).a},function(t,e,o){"use strict";var n=o(185);o.n(n).a},function(t,e,o){"use strict";var n=o(186);o.n(n).a},function(t,e,o){"use strict";var n=o(187);o.n(n).a},function(t,e,o){"use strict";var n=o(188);o.n(n).a},function(t,e,o){"use strict";var n=o(189);o.n(n).a},function(t,e,o){"use strict";var n=o(190);o.n(n).a},function(t,e,o){"use strict";var n=o(191);o.n(n).a},function(t,e,o){"use strict";var n=o(192);o.n(n).a},function(t,e,o){"use strict";var n=o(193);o.n(n).a},function(t,e,o){"use strict";var n=o(194);o.n(n).a},function(t,e,o){"use strict";var n=o(195);o.n(n).a},function(t,e,o){"use strict";var n=o(196);o.n(n).a},function(t,e,o){"use strict";var n=o(197);o.n(n).a},function(t,e,o){"use strict";var n=o(198);o.n(n).a},function(t,e,o){"use strict";var n=o(199);o.n(n).a},function(t,e,o){"use strict";var n=o(200);o.n(n).a},function(t,e,o){"use strict";var n=o(201);o.n(n).a},function(t,e,o){"use strict";var n=o(202);o.n(n).a},function(t,e,o){"use strict";var n=o(203);o.n(n).a},function(t,e,o){"use strict";var n=o(204);o.n(n).a},function(t,e,o){"use strict";var n=o(205);o.n(n).a},function(t,e,o){"use strict";var n=o(206);o.n(n).a},function(t,e,o){"use strict";var n=o(207);o.n(n).a},function(t,e,o){"use strict";var n=o(208);o.n(n).a},function(t,e,o){"use strict";var n=o(209);o.n(n).a},function(t,e,o){"use strict";var n=o(210);o.n(n).a},function(t,e,o){"use strict";var n=o(211);o.n(n).a},,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,o){"use strict";var n=o(238);o.n(n).a}]]);