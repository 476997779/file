(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r}));var o={FREE:"dialog:free",VIP_FREE:"dialog:vip_free",PROFESSIONAL:"dialog:professional",USE_TICKET:"dialog:use_ticket",VIP_TICKET:"dialog:vip_ticket",VIP_NO_TICKET:"dialog:vip_no_ticket",EXCHANGE_TICKET:"dialog:exchange_ticket",BUY_VIP:"dialog:buy_vip",PAY_DOC:"dialog:pay_doc",NOTVIP_TICKET:"dialog:notvip_ticket",DUMP_SUCCESS:"dialog:dump_success",DIALOG_NOPASS:"dialog:no_pass",ORG_VIP:"dialog:org_vip",DIALOG_SHEKE:"dialog:she_ke"},i={GET_FILE:"download:get_file",DUMP_WP:"download:dump_wangpan"},r={PAY_DOC:"pay:pay_doc"}},,,,,,,,,,function(t,e,n){"use strict";n.d(e,"d",(function(){return u})),n.d(e,"e",(function(){return p})),n.d(e,"a",(function(){return f})),n.d(e,"c",(function(){return d})),n.d(e,"g",(function(){return v})),n.d(e,"b",(function(){return h})),n.d(e,"f",(function(){return b}));var o=n(16),i=n.n(o),r=n(9),a=n(10);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){for(var e in t=t&&JSON.parse(JSON.stringify(t)))if(Object.prototype.hasOwnProperty.call(t,e)){(i.a.isPlainObject(t[e])||Array.isArray(t[e]))&&(t[e]=u(t[e]));var n=e.replace(/_(\w)/g,(function(t,e){return e.toUpperCase()}));n!==e&&(t[n]=t[e],delete t[e])}return t}function p(t){i()("body").css({height:t?"100%":"auto",overflow:t?"hidden":"visible"})}var f={checkPhone:function(t){return!!t&&/^1[0-9]{10}$/.test(t)},checkEmail:function(t){return!t||/^\w+@[a-z0-9]+\.[a-z]{2,4}$/.test(t)}};function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=a.b.state.docInfo,n=e.docId,o=e.size,i=e.downloadToken,c=a.b.state.priceInfo.docTicket,l=a.b.state.wealthInfo.uticket,u=t.type,p=void 0===u?"":u,f=t.vInput,d=void 0===f?0:f,v=t.vCode,h=void 0===v?0:v,b=t.ds,y=void 0===b?0:b,m=t.tk,g=void 0===m?0:m,_=t.phone,w=void 0===_?"":_,O=t.email,C=void 0===O?"":O,j=p===r.a.EXCHANGE_TICKET?Math.max(c-l,0):0,P=[r.a.PROFESSIONAL,r.a.VIP_TICKET],I=+P.includes(p),x=+(p===r.a.VIP_FREE);return s({useTicket:I,downloadToken:i,ct:20008,retType:"newResponse",sns_type:"",doc_id:n,storage:0,target_uticket_num:j,sz:o,v_code:h,v_input:d,ds:y,tk:g,req_vip_free_doc:x},w&&{phone:w,email:C})}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=["ct","doc_id","retType","sns_type","storage","downloadToken","useTicket","target_uticket_num","sz","v_code","req_vip_free_doc"];return e.every((function(e){return Object.prototype.hasOwnProperty.call(t,e)}))}function h(t){var e=t/=1024;return e>=1024?"".concat((e/1024).toFixed(1),"M"):"".concat(Math.ceil(e),"KB")}function b(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.body;e?(t.$mount(),n.appendChild(t.$el)):(t.$destroy(),n.removeChild(t.$el))}},,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var o=n(17),i=n.n(o),r=n(9),a=n(8),c=n(10),s=new i.a,l=function(t,e){var n=this,o=c.b.state.isLogin,i=c.b.state.docInfo,l=i.docType,u=i.isSecretDownloadable,p=c.b.state.userInfo.isCreater,f=c.b.getters["userInfo/limitedInfo"]||{},d=c.b.getters.creatorInfo||{},v=c.b.state.priceInfo,h=v.docTicket,b=v.ispaied,y=v.isDownloadable,m=c.b.getters.isSecret,g={base:function(){return 1!=+f.isLock||!f.lockReasonDetail||(this.emit(r.a.DIALOG_NOPASS),!1)},download:function(){var t=c.b.getters.wkSmallflow,e=(null==t?void 0:t.testDataStr)&&JSON.parse(null==t?void 0:t.testDataStr)||{};if(p||m&&+u&&o)return this.emit(r.b.GET_FILE),!1;if(1==+(null==d?void 0:d.scienceOrg)&&1!=+(null==d?void 0:d.scienceRepeatSign)&&!(o?(n.emit(r.a.DIALOG_SHEKE),0):(s.log((function(){location.reload()})),0)))return!1;if(l===a.a.CASH){if(b)return this.emit(r.b.GET_FILE),!1;if(!y)return!1}if(!o){var i=1==+e.wk2860;if(l===a.a.TICKET&&(i=!1),l!==a.a.CASH&&!m||i)if(1!==l||0!==h||i){if(i)return!0;this.emit(r.a.BUY_VIP)}else s.log((function(){localStorage&&localStorage.setItem("reloadAction","download"),location.reload()}));else s.log((function(){location.reload()}));return!1}},dump:function(){return p?(this.emit(r.b.DUMP_WP),!1):a.a.CASH!==l&&(o?void 0:(s.log((function(){localStorage&&localStorage.setItem("reloadAction","dump"),location.reload()})),!1))}};if(!g.base.call(this))return!1;if("function"==typeof g[e]&&!1===g[e].call(this))return!1;t()},u=n(6),p=n(16),f=n.n(p),d="/vcode",v="/user/interface/vcodefordownload",h="/user/submit/dumpdocbydownload",b="/user/submit/download",y="/orgvip/submit/download",m="/user/interface/getRepeatDown",g="/customer/interface/getuserdownloadticket",_="/ndcashier/api/fetchJiaoyuVipGoods",w="/ndcashier/api/fetchVouchers",O="/ndcashier/api/fetchvipqrpaycode",C="/ndcashier/api/checkvipqrpay",j="/pay/api/tradecheck",P="/orgvip/interface/caniuse";function I(t){return u.default.post(h,{data:f.a.param(t)})}var x,k=n(47),S=function(t,e){var n=this,o=c.b.state.docInfo.docId,i={download:r.b.GET_FILE,dump:r.b.DUMP_WP};return function(t){return u.default.post(m,f.a.param({atype:"getRepeatDown",doc_id:t})).then((function(t){var e=t.status,n=t.data;if(200===e)return n;throw new Error("downcheck error")}))}(o).then((function(o){if(200008===o?c.b.commit("userInfo/setNeedVcode",!0):c.b.commit("userInfo/setNeedVcode",!1),1===o||2===o){var r=i[e];return r&&n.emit(r),!1}t()})).catch((function(t){return Object(k.a)(t),!1}))},D=function(t){return u.default.post(g).then((function(t){var e,n=t.status,o=t.data;if(200===n&&0===(null==o||null===(e=o.status)||void 0===e?void 0:e.code)){var i=o.data||{},r=i.wealth,a=void 0===r?0:r,c=i.uticket,s=void 0===c?0:c,l=i.ticket,u=void 0===l?0:l,p=i.exchangeRate,f=void 0===p?0:p,d=i.pro_download_ticket;return{wealth:+a,uticket:s,ticket:u,exchangeRate:f,proDownloadTicket:void 0===d?0:d}}throw new Error("get Download Ticket failed")})).then((function(e){c.b.commit("setWealthInfo",e),t()})).catch((function(t){return Object(k.a)(t),!1}))},T=n(2);function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var V=(E(x={},a.a.TICKET,(function(){var t=c.b.state.wealthInfo,e=t.uticket,n=t.exchangeRate,o=t.wealth,i=t.ticket,a=c.b.state.orgVipInfo,s=a.code,l=a.eduai,u=c.b.state.docInfo.isVipFreeDoc,p=c.b.state.priceInfo.docTicket,f=c.b.state.vipInfo.isVip,d=[0,-1,99,99,99,99,3,99,1];if(d[13]=5,d[14]=6,d[15]=7,1===l||-1==+d[s]||99==+d[s]){var v=0!==n?Math.floor(o/n):0;if(0===p)return this.emit(r.a.FREE),void T.log.xsend(102277,{small:"new_read",isVip:!!f});if(f&&u)return this.emit(r.a.VIP_FREE),void T.log.xsend(102279,{small:"new_read",isVip:!0});if(e>=p)return this.emit(r.a.USE_TICKET),void T.log.xsend(u?102279:102278,{isVip:f,small:"new_read"});if(f&&i>0)return this.emit(r.a.VIP_TICKET),void T.log.xsend(u?102279:102278,{small:"new_read",isVip:!1});if(!f&&e+v>=p)return this.emit(r.a.EXCHANGE_TICKET),void T.log.xsend(u?102279:102278,{small:"new_read",isVip:!1});this.emit(r.a.NOTVIP_TICKET),T.log.xsend(102283,{isNewRead:!0,docType:0===p?"freedoc":u?"vipfree":"share"})}else this.emit(r.a.ORG_VIP)})),E(x,a.a.CASH,(function(){var t=c.b.state.vipInfo.isVip,e=c.b.state.docInfo.docId,n=c.b.state.priceInfo,o=n.isDiscountDoc,i=n.isPackage;t||!i&&!o?this.emit(r.c.PAY_DOC,e):(T.log.xsend(102283,{docType:i?"payPackage":"payDiscount",isNewRead:!0}),this.emit(r.a.PAY_DOC))})),E(x,a.a.VIP_RIGHT,(function(){if(c.b.state.wealthInfo.proDownloadTicket>0)return T.log.xsend(102280,{small:"new_read",isVip:!0}),void this.emit(r.a.PROFESSIONAL);this.emit(r.a.BUY_VIP),T.log.xsend(102283,{isNewRead:!0,docType:"profession"})})),x);var R,A,L,N=(R={},A=a.a.TICKET,L=function(){var t=c.b.state.docInfo.isVipFreeDoc,e=c.b.state.priceInfo.docTicket,n=c.b.state.wealthInfo,o=n.uticket,i=n.exchangeRate,a=n.wealth,s=n.ticket,l=c.b.state.vipInfo.isVip,u=0!==i?Math.floor(a/i):0;if(0!==e)if(l&&t)this.emit(r.a.VIP_FREE);else{if(!(o>=e))return l?s>0?(this.emit(r.a.VIP_TICKET),!1):(this.emit(r.a.VIP_NO_TICKET),!1):void(!l&&o+u>=e?this.emit(r.a.EXCHANGE_TICKET):this.emit(r.a.BUY_VIP));this.emit(r.a.USE_TICKET)}else this.emit(r.a.FREE)},A in R?Object.defineProperty(R,A,{value:L,enumerable:!0,configurable:!0,writable:!0}):R[A]=L,R),$=[l,S,D,function(t){var e,n=c.b.state.docInfo.docId;return(e={doc_id:n,dowmloadTime:(new Date).getTime()},u.default.post(P,f.a.param(e)).then((function(t){var e=t.data,n=e.status,o=e.data,i={};return void 0!==o.org_privilege_left&&(i.wealth=o.org_privilege_left||0),void 0!==o.doc_privilege_use_num&&(i.pay=o.doc_privilege_use_num||0),i.code=n.code,i.vipType=+o.vip_type,1==+o.is_repeat_user&&(i.code=4),i.orgName=decodeURIComponent(o.org_name)||"",i.isBDLosgin=o.isBDLosgin||!1,i.eduai=void 0===o.eduai?1:o.eduai,i}))).then((function(e){c.b.commit("setOrgVipInfo",e),t()})).catch((function(t){return!1}))},function(){var t=c.b.state.docInfo.docType;return"function"==typeof V[t]&&V[t].call(this),!1}],G=[l,S,D,function(){var t=c.b.state.docInfo.docType;return"function"==typeof N[t]&&N[t].call(this),!1}];function B(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var M=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.events={}}var e,n,o;return e=t,(n=[{key:"on",value:function(t,e){if("function"!=typeof e)throw new Error("invalid event handler");return this.events[t]?this.events[t].push(e):this.events[t]=[e],this}},{key:"once",value:function(t,e){var n=this;return this.on(t,(function o(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];e.apply(n,r),n.off(t,o)})),this}},{key:"emit",value:function(t){for(var e=this,n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];var r=this.events[t];return r&&Array.isArray(r)&&r.forEach((function(t){return"function"==typeof t&&t.apply(e,o)})),this}},{key:"off",value:function(t,e){var n=this.events[t];if(void 0===t||!n)throw new Error("invalid key");if("function"==typeof e){for(var o=0;o<n.length;o++)if(n[o]===e){n.splice(o,1);break}}else delete this.events[t];return this}}])&&B(e.prototype,n),o&&B(e,o),t}(),U=n(3),F=n(19);function H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?H(Object(n),!0).forEach((function(e){K(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function K(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var W=function(t,e){if(!Object(F.g)(t.formData))throw new Error("参数校验失败");var n,o=t.url,i=void 0===o?t.isOrg?y:b:o,r=t.name,s=void 0===r?"downloadForm":r,l=t.formData,u=void 0===l?{}:l,p=c.b.state.dataFormatConvert,f=p.transDocType,d=p.oriDocType;if(f&&f!==d)return n=z(z({},u),{},{transDocType:f,dumpwp:e}),void U.$.ajax({url:b,type:"POST",data:n,dataType:"json",success:function(t){var e=t||{},o=e.error_no,i=void 0===o?0:o,r=e.transDocParams,a=void 0===r?{}:r;if(0===i){a.title=encodeURIComponent(a.title),a.tpl="download",a.wp=n.dumpwp?1:2;var c="_blank";navigator.userAgent.indexOf("Safari")>-1&&-1===navigator.userAgent.indexOf("Chrome")&&(c="_self");var s=document.createElement("form");for(var l in s.setAttribute("action","/user/browse/huixueconvert"),s.setAttribute("method","post"),s.setAttribute("target",c),a){var u=document.createElement("input");u.setAttribute("type","hidden"),u.setAttribute("name",l),u.setAttribute("value",a[l]),s.appendChild(u)}Object(U.$)(s).appendTo(document.body).submit().remove()}else Y(t)},error:function(t){Y(t)}});!function(t){var e=document.body;Object(U.$)(e).append('<iframe name="runDown" frameborder="0"></iframe>'),e.appendChild(t),t.submit(),e.removeChild(t)}(function(t,e,n){var o=document.createElement("form");return o.setAttribute("name",n),o.setAttribute("action",e),o.setAttribute("method","post"),o.setAttribute("target","runDown"),Object.keys(t).forEach((function(e){var n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name",e),n.setAttribute("value",t[e]),o.appendChild(n)})),o}(u,i,s));var v=u.doc_id||"",h=e?1:2;c.b.state.docInfo.docType,a.a.SECRET;c.b.getters.isSecret||window.open("/browse/downloadrec?doc_id=".concat(v,"&wp=").concat(h))};function Y(t){var e=t||{},n=e.transDocParams;if(n){2==+e.error_no&&{formatConvertExp:1},window.location.href=n.transDocBos}}var q=U._.debounce((function(t,e){Array.isArray(t)?t.forEach((function(t){return W(t,e)})):W(t,e)}),1500,{leading:!0}),X=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.dumpwp,n=void 0!==e&&e,o=t.isOrg;T.log.xsend(102742),q({formData:Object(F.c)(t),dumpwp:n,isOrg:o})},J=n(13),Q=n.n(J),Z=n(1),tt=n(0);function et(t){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ot(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function it(t,e){return(it=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=ct(t);if(e){var i=ct(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return at(this,n)}}function at(t,e){return!e||"object"!==et(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ct(t){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var st=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&it(t,e)}(r,t);var e,n,o,i=rt(r);function r(){return nt(this,r),i.apply(this,arguments)}return e=r,(n=[{key:"hanldeClick",value:function(t){this.maskClosable&&this.$emit("mask-click",t)}}])&&ot(e.prototype,n),o&&ot(e,o),r}(tt.Vue);Object(Z.a)([Object(tt.Prop)({type:Boolean,default:!1})],st.prototype,"maskClosable",void 0),Object(Z.a)([Object(tt.Prop)({type:Number,default:5e3})],st.prototype,"zIndex",void 0);var lt=st=Object(Z.a)([tt.Component],st),ut=(n(253),n(4)),pt=Object(ut.default)(lt,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"ui-mask",style:{"z-index":this.zIndex},on:{click:this.hanldeClick}})}),[],!1,null,"40c3d909",null).exports;function ft(t){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vt(t,e){return(vt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ht(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=yt(t);if(e){var i=yt(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return bt(this,n)}}function bt(t,e){return!e||"object"!==ft(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yt(t){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var mt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vt(t,e)}(n,t);var e=ht(n);function n(){return dt(this,n),e.apply(this,arguments)}return n}(tt.Vue);Object(Z.a)([Object(tt.Prop)(String)],mt.prototype,"type",void 0),Object(Z.a)([Object(tt.Prop)(String)],mt.prototype,"content",void 0),Object(Z.a)([Object(tt.Prop)({type:Number,default:1e3})],mt.prototype,"zIndex",void 0),Object(Z.a)([Object(tt.Prop)({type:Boolean,default:!0})],mt.prototype,"mask",void 0);var gt,_t,wt=mt=Object(Z.a)([Object(tt.Component)({components:{Mask:pt}})],mt),Ot=(n(254),Object(ut.default)(wt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ui-toast-wrap"},[t.mask?n("Mask"):t._e(),t._v(" "),n("div",{staticClass:"ui-toast"},[t._t("icon",["loading"===t.type?n("i",{staticClass:"icon loading"}):t._e()]),t._v(" "),t._t("content",[n("div",{staticClass:"content",domProps:{textContent:t._s(t.content)}})])],2)])}),[],!1,null,"cdc5f8fe",null).exports);var Ct=function(t){var e=t.type,n=void 0===e?"":e,o=t.content,i=void 0===o?"":o,r=t.mask,a=void 0!==r&&r,c=t.delay,s=void 0===c?2e3:c,l=t.onHide,u=function(){gt&&("function"==typeof l&&l(),window.clearTimeout(_t),Object(F.f)(gt,!1),gt=null)};return gt||(gt=new Q.a({render:function(t){return t(Ot,{props:{type:n,mask:a,content:i}})}}),Object(F.f)(gt,!0),0!==s&&(_t=window.setTimeout((function(){u()}),Math.max(s,100)))),{close:u}},jt=n(110);function Pt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pt(Object(n),!0).forEach((function(e){xt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var kt=n.n(jt).a.debounce((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.formData;if(!Object(F.g)(e))throw new Error("参数校验失败");return I(It(It({},e),{},{dump_doc:"bd_pan",dump_doc_src_type:110}))}),1500,{leading:!0}),St=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Ct({type:"loading",content:"正在转存，请稍后...",delay:0}),o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500;n.close(),n=Ct({content:t,delay:e})};kt({formData:Object(F.c)(e)}).then((function(e){if(n.close(),200!==(null==e?void 0:e.status))throw new Error("net work error");var i,a;switch(null==e||null===(i=e.data)||void 0===i||null===(a=i.status)||void 0===a?void 0:a.code){case 0:n.close(),t.emit(r.a.DUMP_SUCCESS);break;case 5:o("今日转存次数达到上限，您可尝试下载");break;case 11:o("您的网盘存储空间已满，可尝试下载");break;case 10:case 100001:case 100002:o("转存出了点问题，再试一下");break;case 200008:o("账号异常，转存失败。您可尝试下载");break;default:o("转存失败，您可尝试下载")}})).catch((function(t){o("网络异常请稍后重试~")}))},Dt=[9,106,101,110],Tt=[112,106,101,110],Et={9:{goodsId:9,title:"年",description:"低至8.3元/月",ticketInfo:{num:"108次",name:"共享文档下载"},vipTicketInfo:{num:"65次",name:"VIP专享文档下载"},giveTwoTicket:"赠两种下载特权各8个",giveShareTicket:"赠共享文档下载特权12个",giveVipTicket:"赠VIP专享文档下载特权4个"},112:{goodsId:112,title:"年",description:"推荐",ticketInfo:{num:"108次",name:"共享文档下载"},vipTicketInfo:{num:"65次",name:"VIP专享文档下载"},giveTwoTicket:"赠两种下载特权各8个",giveShareTicket:"赠共享文档下载特权12个",giveVipTicket:"赠VIP专享文档下载特权4个"},1:{goodsId:1,title:"月",description:"豪华版",ticketInfo:{num:"20次",name:"共享文档下载"},vipTicketInfo:{num:"12次",name:"VIP专享文档下载"},giveTwoTicket:"赠两种下载特权各2个",giveShareTicket:"赠共享文档下载特权2个",giveVipTicket:"赠VIP专享文档下载特权2个"},200:{goodsId:200,title:"连续包月",description:"省心实惠",ticketInfo:{num:"15次/月",name:"共享文档下载"},vipTicketInfo:{num:"9次/月",name:"VIP专享文档下载"}},110:{goodsId:110,title:"连续包月",description:"省心实惠",ticketInfo:{num:"15次/月",name:"共享文档下载"},vipTicketInfo:{num:"9次/月",name:"VIP专享文档下载"}},3:{goodsId:3,title:"半年",description:"",ticketInfo:{num:"48次",name:"共享文档下载"},vipTicketInfo:{num:"30次",name:"VIP专享文档下载"},giveTwoTicket:"赠两种下载特权各6个",giveShareTicket:"赠共享文档下载特权9个",giveVipTicket:"赠VIP专享文档下载特权3个"},101:{goodsId:101,title:"月",description:"豪华版",ticketInfo:{num:"21次",name:"共享文档下载"},vipTicketInfo:{num:"12次",name:"VIP专享文档下载"},giveTwoTicket:"赠两种下载特权各2个",giveShareTicket:"赠共享文档下载特权2个",giveVipTicket:"赠VIP专享文档下载特权2个"},106:{goodsId:106,title:"半年",ticketInfo:{num:"54次",name:"共享文档下载"},vipTicketInfo:{num:"30次",name:"VIP专享文档下载"},giveTwoTicket:"赠两种下载特权各6个",giveShareTicket:"赠共享文档下载特权9个",giveVipTicket:"赠VIP专享文档下载特权3个"}};function Vt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vt(Object(n),!0).forEach((function(e){At(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function At(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lt(){return u.wkAxios.get(_,{params:{ext_platform:"pc"}}).then((function(t){return t[1009]&&t[1010]?Tt.reduce((function(e,n){return e.push(Rt(Rt({},Et[n]),{},{data:Object(F.d)(t[n])})),e}),[]):Dt.reduce((function(e,n){var o=t[n]||{},i=o.renew_info,r=void 0===i?"":i,a=o.virtual_voucher,c=void 0===a?[]:a,s=o.sale_price,l=void 0===s?0:s,u=o.price,p=void 0===u?0:u;return e.push(Rt(Rt({},Et[n]),{},{data:Object(F.d)(t[n]),renewInfo:r,virtualVoucher:Object(F.d)(c),salePrice:l,price:p})),e}),[])})).catch((function(t){}))}function Nt(t){return u.wkAxios.get(w,{params:t}).then((function(t){var e=t.voucher_info;for(var n in e=Object(F.d)(e||{}))Array.isArray(e[n])&&e[n].push({isSelected:0,validTime:"",voucherName:"不使用代金券",voucherPrice:0});return e}))}function $t(t){return u.wkAxios.get(O,{params:t}).then((function(t){return t&&t.qr_code||""}))}var Gt=n(12),Bt=function(t){(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return u.default.get(j,{params:{goods_type:e,goods_id:t}})})(t,1).then((function(e){var n=e.status,o=e.data;if(200===n){var i=null==o?void 0:o.status;if(0===i){var r=U.Util.Common.getParam("qid"),a=U.Util.Common.getParam("fr"),s=U.Util.Common.getParam("third_from"),l={id:t,sst:1},u="";r&&(l.qid=r,l.third_from=s||"zhidao"),a&&(u=a),c.b.state.ccSuffix&&(u+=c.b.state.ccSuffix,c.b.commit("setCcSuffix","")),T.log.xsend(102741,{pos:"pay",idx:1});var p=c.b.getters.wkSmallflow,f=(null==p?void 0:p.testDataStr)&&JSON.parse(null==p?void 0:p.testDataStr)||{};null!=f.wk2860&&(l.wk2860=f.wk2860);var d=Object(Gt.b)("/cashier/browse/doccashier",l,u);return void(location.href=d)}if(1===i)return void Ct({content:"你已购买过此商品，请勿重复购买，刷新页面阅读本文",mask:!0,delay:3e3,onHide:function(){location.reload()}})}throw new Error})).catch((function(t){Ct({content:"下单遇到异常请稍后重试~",mask:!0,delay:1500,onHide:function(){}})}))},Mt=n(5),Ut=n(11),Ft=n(53);function Ht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function zt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ht(Object(n),!0).forEach((function(e){Kt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Kt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wt={pdf:{targetFormats:["pdf","word","ppt","excel"],key:"1"},ppt:{targetFormats:["ppt","pdf"],key:"2"},word:{targetFormats:["word","pdf"],key:"3"},excel:{targetFormats:["excel","pdf"],key:"4"}},Yt={data:function(){return{map:Wt,displayList:"none",oriTypeName:"",selectedTypeName:"",targetTypeName:"其他格式",changed:!1}},components:{DocTypeIcon:Ft.a},mounted:function(){var t=this.docInfo2019.doc_info.type,e=Ut.a.getDocType(t);if(Wt[e]){this.selectedTypeName=e,this.oriTypeName=e;var n=Wt[e].key;this.setDataFormatConvert({transDocType:0,oriDocType:n})}},destroyed:function(){this.setDataFormatConvert({transDocType:0})},computed:zt(zt(zt({},Object(Mt.mapState)(["dataFormatConvert"])),Object(Mt.mapGetters)(["wkSmallflow","docInfo2019","vipInfo"])),{},{typeData:function(){var t=this.oriTypeName;return Wt[t]||{}},typeSelected:function(){var t=this.selectedTypeName;return Wt[t]?Wt[t].key:""},visible:function(){var t=this.oriTypeName;return!(Object.keys(Wt).indexOf(t)<0)&&+this.docInfo2019.doc_info.doc_type!==a.a.CASH}}),methods:zt(zt({},Object(Mt.mapMutations)(["setDataFormatConvert"])),{},{calTargetTypeName:function(){var t=this.oriTypeName,e=this.selectedTypeName;return"".concat(e,t===e?"格式（原）":"格式")},clickItem:function(t){this.displayList="none";var e=this.vipInfo.isVip,n=this.oriTypeName;if(!e&&n!==t){var o=Object(Gt.b)("/cashier/browse/jiaoyuvipcashier",{},"pcview_download_convert");return window.open(o),!1}if(Wt[t]&&Wt[t].key){var i=Wt[t].key;this.setDataFormatConvert({transDocType:i,oriDocType:this.dataFormatConvert.oriDocType}),this.selectedTypeName=t,this.targetTypeName=this.calTargetTypeName(),this.changed=!0}},onmouseenter:function(){this.displayList="block"},onmouseleave:function(){this.displayList="none"}})},qt=(n(256),Object(ut.default)(Yt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("div",{staticClass:"format-convert-wrap"},[n("div",{class:["format-convert-content","list-"+t.displayList+"}"],on:{mouseenter:t.onmouseenter,mouseleave:t.onmouseleave}},[n("i",{staticClass:"vip-tag-icon"}),t._v(" "),n("div",{staticClass:"format-convert-text"},[n("i",{directives:[{name:"show",rawName:"v-show",value:!t.changed,expression:"!changed"}],staticClass:"icon-convert"}),t._v(" "),n("DocTypeIcon",{directives:[{name:"show",rawName:"v-show",value:t.changed,expression:"changed"}],staticStyle:{"margin-top":"5px"},attrs:{"type-name":t.selectedTypeName}}),t._v(" "),n("p",{staticClass:"target-type-name"},[t._v(t._s(t.targetTypeName))]),t._v(" "),n("i",{staticClass:"arrow"})],1),t._v(" "),n("div",{staticClass:"format-convert-list",style:"display: "+t.displayList+";"},t._l(t.typeData.targetFormats,(function(e){return n("div",{key:e,staticClass:"format-convert-item",on:{click:function(n){return t.clickItem(e)}}},[n("DocTypeIcon",{staticStyle:{"margin-top":"5px"},attrs:{"type-name":e}}),t._v(" "),n("p",[t._v("\n                    "+t._s(e===t.oriTypeName?e+"格式（原）":e+"格式")+"\n                ")])],1)})),0)])]):t._e()}),[],!1,null,"1a6ffc3f",null).exports);function Xt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Jt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qt=new i.a,Zt={filters:{formatSize:F.b},components:{Convert:qt},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xt(Object(n),!0).forEach((function(e){Jt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(Mt.mapState)(["isLogin","userInfo","vipInfo","docInfo"])),props:{theme:{type:String,default:"doc"}},methods:{handleLogin:function(){this.handleClose(),Qt.log((function(){localStorage&&localStorage.setItem("reloadAction","download"),location.reload()}))},handleClose:function(){this.$emit("close-dialog")}}},te=(n(257),Object(ut.default)(Zt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header",class:t.theme},[n("div",{staticClass:"header-content"},[1===t.docInfo.docType?[n("div",{staticClass:"doc-title-wrap"},[n("span",{staticClass:"doc-title"},[t._v(t._s(t.docInfo.title))]),t._v(" "),n("span",{staticClass:"doc-size"},[t._v("("+t._s(t._f("formatSize")(t.docInfo.size))+")")])])]:t.isLogin?[n("img",{staticClass:"avatar",attrs:{src:t.userInfo.headicon}}),t._v(" "),n("div",{staticClass:"uname"},[t._v(t._s(t.userInfo.displayname||"文库新人"))]),t._v(" "),n("div",{staticClass:"vip-info"},[t.vipInfo.isVip?[t.vipInfo.isJiaoyuVip?n("i",{staticClass:"icon"}):t._e(),t._v(" "),t.vipInfo.isClassicVip?n("i",{staticClass:"icon classic"}):t._e()]:[n("i",{staticClass:"icon not-vip"})]],2)]:[n("div",{staticClass:"avatar login"}),t._v(" "),n("div",{staticClass:"uname pointer",on:{click:t.handleLogin}},[t._v("点击登录")])],t._v(" "),n("Convert")],2),t._v(" "),"vip"===t.theme?n("div",{staticClass:"vip-privilege"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2)]):t._e(),t._v(" "),n("div",{staticClass:"btn-close",on:{click:t.handleClose}})])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"item"},[e("i",{staticClass:"icon ic-doc"}),this._v(" "),e("span",{staticClass:"text"},[this._v("文档下载特权")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"item"},[e("i",{staticClass:"icon ic-free"}),this._v(" "),e("span",{staticClass:"text"},[this._v("百万免费文档")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"item"},[e("i",{staticClass:"icon ic-yd"}),this._v(" "),e("span",{staticClass:"text"},[this._v("阅读精品图书")])])}],!1,null,"2897f9a5",null).exports);function ee(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function ne(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ee(Object(n),!0).forEach((function(e){oe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function oe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ie=new i.a,re={components:{DocTypeIcon:Ft.a},filters:{formatMoney:Ut.b},computed:ne(ne({},Object(Mt.mapState)(["userInfo","docInfo","vipInfo","wealthInfo","priceInfo","isLogin"])),{},{price:function(){var t=this.vipInfo.isVip,e=this.priceInfo,n=e.vipPrice,o=e.confirmPrice;return t?n:o},vipTip:function(){var t=this.priceInfo,e=t.isDiscountDoc,n=t.isPackage;if(!this.vipInfo.isVip){if(n)return"¥".concat(Object(Ut.b)(this.price)," 开通VIP免费赠送本文");if(e)return"¥".concat(Object(Ut.b)(this.price)," 开通VIP本文享8折优惠")}return""}}),methods:{handleLogin:function(){this.handleClose(),ie.log((function(){localStorage&&localStorage.setItem("reloadAction","download"),location.reload()}))},handleClose:function(){this.$emit("close-dialog")},clickVipPackageCashier:function(){T.log.xsend(102741,{pos:"vipDocInfo",idx:1})}}},ae=(n(258),Object(ut.default)(re,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"doc-info"},[n("div",{staticClass:"doc-main"},[n("DocTypeIcon",{attrs:{"type-name":t.docInfo.typeName}}),t._v(" "),n("div",{staticClass:"title"},[t._v(t._s(t.docInfo.title))]),t._v(" "),2===t.docInfo.docType?n("div",{staticClass:"detail"},[t.vipTip?[n("div",{staticClass:"text"},[t._v(t._s(t.vipTip))])]:[n("span",{staticClass:"text"},[t._v("¥"+t._s(t._f("formatMoney")(t.price)))]),t._v(" "),n("span",{staticClass:"text"},[t._v("购买文档")])]],2):3===t.docInfo.docType?n("div",{staticClass:"detail"},[t.vipInfo.isVip?[t._v("\n                本文需要"),n("em",{staticClass:"vip"},[t._v("1VIP专享文档特权")]),t._v(" "),t.isLogin?[t._v("\n                    当前拥有"),n("em",{staticClass:"vip"},[t._v(t._s(t.wealthInfo.proDownloadTicket))]),t._v("续费VIP获得文档特权\n                ")]:[n("span",{staticClass:"login",on:{click:t.handleLogin}},[t._v("登录")]),t._v("后查看文档特权\n                ")]]:[t._v("\n                本文需要"),n("em",{staticClass:"vip"},[t._v("1VIP专享文档特权")]),t._v(" "),t.isLogin?[t._v(" 开通VIP获得文档特权")]:[n("span",{staticClass:"login",on:{click:t.handleLogin}},[t._v("登录")]),t._v("后查看文档特权\n                ")]]],2):n("div",{staticClass:"detail"},[t.vipInfo.isVip?[t._v("\n                本文需要"),n("em",{staticClass:"vip"},[t._v("1共享文档特权")]),t._v(" "),t.isLogin?[t._v("\n                    当前拥有"),n("em",{staticClass:"vip"},[t._v(t._s(t.wealthInfo.ticket))]),t._v("续费VIP获得文档特权\n                ")]:[n("span",{staticClass:"login",on:{click:t.handleLogin}},[t._v("登录")]),t._v("后查看下载券\n                ")]]:[t._v("\n                本文需要"),n("em",[t._v(t._s(t.priceInfo.docTicket)+"下载券")]),t._v(" "),t.isLogin?[t._v("\n                    当前拥有"),n("em",[t._v(t._s(t.wealthInfo.uticket))]),t._v("开通VIP获得文档特权\n                ")]:[n("span",{staticClass:"login",on:{click:t.handleLogin}},[t._v("登录")]),t._v("后查看下载券\n                ")]]],2)],1),t._v(" "),t.vipInfo.isVip?n("a",{staticClass:"vip-package",attrs:{target:"_blank",href:"/ndcashier/browse/vippackagecashier"},on:{click:t.clickVipPackageCashier}},[t._v("\n        单独补充特权\n    ")]):t._e()])}),[],!1,null,"47109276",null).exports);function ce(t){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function se(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function le(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ue(t,e){return(ue=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=de(t);if(e){var i=de(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return fe(this,n)}}function fe(t,e){return!e||"object"!==ce(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function de(t){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ve=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ue(t,e)}(r,t);var e,n,o,i=pe(r);function r(){return se(this,r),i.apply(this,arguments)}return e=r,(n=[{key:"toggleActive",value:function(t){this.$emit("change",t)}}])&&le(e.prototype,n),o&&le(e,o),r}(tt.Vue);Object(Z.a)([Object(tt.Prop)({type:Array,default:[]})],ve.prototype,"tabList",void 0),Object(Z.a)([Object(tt.Prop)({type:Boolean,default:0})],ve.prototype,"activeIndex",void 0);var he=ve=Object(Z.a)([tt.Component],ve),be=(n(259),Object(ut.default)(he,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tabs"},[n("div",{staticClass:"tab-bar"},t._l(t.tabList,(function(e,o){return n("div",{key:e+"_"+o,staticClass:"tab-item",class:{active:t.activeIndex===o},on:{click:function(e){return t.toggleActive(o)}}},[t._v("\n            "+t._s(e)+"\n        ")])})),0),t._v(" "),n("div",{staticClass:"tab-content"},[t._t("default")],2)])}),[],!1,null,"3e9254a2",null).exports);function ye(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function me(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ge={computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ye(Object(n),!0).forEach((function(e){me(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(Mt.mapState)(["vipInfo","goodInfo"])),methods:{hasTip:function(){var t=this.vipInfo,e=t.isVip,n=t.isRenewal;return!(!e||n||110===this.goodInfo.goodsId)}}},_e=(n(260),Object(ut.default)(ge,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hasTip?n("div",{staticClass:"renewal-tip"},[t.vipInfo.isJiaoyuVip?[t.goodInfo.renewInfo?[n("i",{staticClass:"icon icon-xf"}),t._v(t._s(t.goodInfo.renewInfo)+"\n        ")]:t._e()]:t._e()],2):t._e()}),[],!1,null,"86d06304",null).exports);function we(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Oe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?we(Object(n),!0).forEach((function(e){Ce(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ce(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var je={data:function(){return{activeId:"1735_ext-3m"}},filters:{formatMoney:Ut.b},computed:Oe(Oe(Oe(Oe({},Object(Mt.mapState)(["isLogin","docInfo","priceInfo","vipInfo"])),Object(Mt.mapState)("goodInfo",["goodList","curGoodId"])),Object(Mt.mapGetters)("goodInfo",["curGood","voucherList"])),{},{labelList:function(){var t=this,e=this.goodList,n=this.priceInfo.isPackage,o=this.vipInfo.userType,i={9:"推荐",101:"尊享版",112:"推荐"};return e.reduce((function(e,r){var a=r.goodsId,c=r.data.vipAct,s="";110!==a||n?s=i[a]||"":1===o?s="新客福利":2===o&&(s="专享福利");var l=t.activeId;return 9==+a&&c&&-1!==c.indexOf(l)&&(s="超值加赠3个月"),e.push(s),e}),[])}}),methods:{handleSelect:function(t){var e=this,n=t.goodsId;n!==this.curGoodId&&Nt({goodsType:"jiaoyu_vip"}).then((function(t){e.$store.commit("goodInfo/setVoucherInfo",t);var o=e.docInfo.docType,i=e.priceInfo.isPackage,r=2===o&&i,a=1===e.vipInfo.userType||2===e.vipInfo.userType;if(e.$store.commit("goodInfo/setCurGoodId",n),r||110!==e.curGoodId||!a)Array.isArray(e.voucherList)&&e.voucherList.length?e.$store.commit("goodInfo/setCurVoucher",e.voucherList[0]):e.$store.commit("goodInfo/setCurVoucher",{});else{var c=e.curGood.virtualVoucher||{};e.$store.commit("goodInfo/setCurVoucher",c)}}))},getPrice:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.docInfo.docType,n=this.vipInfo.userType,o=this.priceInfo.isPackage,i=t.salePrice,r=t.virtualVoucher;if(!(2===e&&o||1!==n&&2!==n)){var a=r&&r.voucherPrice||0;return i-a}return i},showOriginalPrice:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.goodsId,n=this.vipInfo.userType;return n=this.isLogin?n:1,110!==e||!!n},getDescription:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.showOriginalPrice(t)?"¥".concat(Object(Ut.b)(t.price)):"省心实惠"},isVipAct:function(t){var e=this.activeId;return t.data.vipAct&&-1!==t.data.vipAct.indexOf(e)}}},Pe=(n(261),Object(ut.default)(je,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"select-area"},t._l(t.goodList,(function(e,o){return n("div",{key:e.goodsId,staticClass:"goods-item",class:{active:e.goodsId===t.curGood.goodsId,"vipact-year":t.isVipAct(e)},on:{click:function(n){return t.handleSelect(e)}}},[t.labelList[o]?n("div",{staticClass:"label"},[t._v("\n            "+t._s(t.labelList[o])+"\n        ")]):t._e(),t._v(" "),n("div",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),n("div",{staticClass:"price-info"},[n("span",{staticClass:"price"},[n("span",{staticClass:"money"},[t._v("¥")]),t._v(t._s(t._f("formatMoney")(t.getPrice(e)))+"\n            ")]),t._v(" "),n("span",{staticClass:"description",class:{line:t.showOriginalPrice(e)}},[t._v("\n                "+t._s(t.getDescription(e))+"\n            ")])]),t._v(" "),n("div",{staticClass:"divider"}),t._v(" "),n("div",{staticClass:"tip"},[t.isVipAct(e)?n("span",{staticClass:"num"},[t._v("75次")]):n("span",{staticClass:"num"},[t._v(t._s(e.vipTicketInfo.num))]),t._v(" "),n("span",{staticClass:"name"},[t._v(t._s(e.vipTicketInfo.name))])]),t._v(" "),n("div",{staticClass:"tip"},[t.isVipAct(e)?n("span",{staticClass:"num"},[t._v("124次")]):n("span",{staticClass:"num"},[t._v(t._s(e.ticketInfo.num))]),t._v(" "),n("span",{staticClass:"name"},[t._v(t._s(e.ticketInfo.name))])])])})),0)}),[],!1,null,"bea13fb8",null).exports);function Ie(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function xe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ie(Object(n),!0).forEach((function(e){ke(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ke(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Se={computed:xe(xe({},Object(Mt.mapState)("goodInfo",["curGoodId","autoRenewal"])),{},{hasRenewal:function(){return 110!==this.curGoodId}}),methods:{toggleRenewal:function(){this.$store.commit("goodInfo/setRenewal",!this.autoRenewal)}}},De=(n(262),Object(ut.default)(Se,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"renewal-area"},[this.hasRenewal?[e("span",{staticClass:"contract-check",class:{checked:this.autoRenewal},on:{click:this.toggleRenewal}}),this._v("\n        开通自动续费，续费成功后剩余特权延时30天，可随时取消，阅读"),e("a",{attrs:{href:"https://wenku.baidu.com/portal/browse/help#help/25",target:"_blank"}},[this._v("自动续费协议")])]:this._e()],2)}),[],!1,null,"53e5d7b3",null).exports);function Te(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Ee(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Te(Object(n),!0).forEach((function(e){Ve(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ve(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Re={computed:Ee(Ee(Ee({},Object(Mt.mapState)(["priceInfo","vipInfo"])),Object(Mt.mapState)("goodInfo",["curGoodId"])),{},{hasTip:function(){return 110===this.curGoodId},isXk:function(){return 1===this.vipInfo.userType},isSale:function(){return 2===this.vipInfo.userType},newUser:function(){var t=this.vipInfo.userType;return 1===t||2===t},title:function(){return 1===this.vipInfo.userType?"新客":"专享优惠"}})},Ae=(n(263),Object(ut.default)(Re,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hasTip?n("div",{staticClass:"new-user-tip"},[t.newUser?[n("i",{staticClass:"icon",class:{"icon-xk":t.isXk,"icon-sale":t.isSale}}),t._v(" "),n("em",[t._v(t._s(t.title))]),t._v("首月仅"),n("em",[t._v("14.9元")]),t._v("，会员到期前1天自动扣款续费16.9元，可随时取消，阅读"),n("a",{attrs:{href:"https://wenku.baidu.com/portal/browse/help#help/25",target:"_blank"}},[t._v("自动续费协议")])]:[t._v("\n        会员到期前1天自动扣款续费16.9元，期间特权不清零，可随时取消，阅读"),n("a",{attrs:{href:"https://wenku.baidu.com/portal/browse/help#help/25",target:"_blank"}},[t._v("自动续费协议")])]],2):t._e()}),[],!1,null,"78b58fc0",null).exports);function Le(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Ne(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Le(Object(n),!0).forEach((function(e){$e(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ge={filters:{formatMoney:Ut.b},data:function(){return{showVoucher:!1}},computed:Ne(Ne(Ne(Ne({},Object(Mt.mapState)(["priceInfo","docInfo"])),Object(Mt.mapState)("goodInfo",["curVoucher"])),Object(Mt.mapGetters)("goodInfo",["voucherList"])),{},{hasVoucher:function(){var t=this.docInfo.docType,e=this.priceInfo.isPackage,n=this.voucherList;return!(2===t&&e)&&Array.isArray(n)&&n.length>0}}),methods:{toggleVoucher:function(t){this.showVoucher=t},selectVoucher:function(t){this.$store.commit("goodInfo/setCurVoucher",t),this.toggleVoucher(!1)}}},Be=(n(264),Object(ut.default)(Ge,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hasVoucher?n("div",{staticClass:"voucher-area clearfix"},[n("div",{staticClass:"label"},[t._v("优惠卡券：")]),t._v(" "),n("div",{staticClass:"select",class:{selecting:t.showVoucher},on:{mouseover:function(e){return t.toggleVoucher(!0)},mouseout:function(e){return t.toggleVoucher(!1)}}},[n("div",{staticClass:"voucher-selected"},[t._v("\n            "+t._s(t._f("formatMoney")(t.curVoucher.voucherPrice))+"元"+t._s(t.curVoucher.voucherName)+"\n            "),t.curVoucher.validTime?[t._v("\n                (有效期至"+t._s(t.curVoucher.validTime)+")\n            ")]:t._e()],2),t._v(" "),n("ul",{staticClass:"voucher-list"},t._l(t.voucherList,(function(e){return n("li",{key:e.voucherId,staticClass:"voucher-item",on:{click:function(n){return t.selectVoucher(e)}}},[t._v("\n                "+t._s(t._f("formatMoney")(e.voucherPrice))+"元"+t._s(e.voucherName)+"\n                "),e.validTime?[t._v("\n                    (有效期至"+t._s(e.validTime)+")\n                ")]:t._e()],2)})),0)])]):t._e()}),[],!1,null,"eed29bc4",null).exports),Me=n(61),Ue=n.n(Me),Fe={props:{curSelect:Number},data:function(){return{channelList:[{name:"wechat",title:"微信"},{name:"alipay",title:"支付宝"},{name:"duxiaoman",title:"度小满"}]}},methods:{handleChange:function(t){this.$emit("change",t)}}},He=(n(265),Object(ut.default)(Fe,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"channel-list"},[n("p",{staticClass:"channel-list-tips"},[t._v("支付方式：")]),t._v(" "),t._l(t.channelList,(function(e,o){return n("div",{key:e.name,staticClass:"channel-item",class:{selected:t.curSelect===o},on:{click:function(e){return t.handleChange(o)}}},[n("i",{staticClass:"channel-icon",class:"icon-"+e.name}),t._v(" "),n("span",{staticClass:"title"},[t._v(t._s(e.title)+"支付")])])}))],2)}),[],!1,null,"6fdd226a",null).exports);function ze(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Ke(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ze(Object(n),!0).forEach((function(e){We(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function We(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ye=new i.a,qe={components:{PaySelect:He},filters:{formatMoney:Ut.b},props:{payMoney:Number,type:{type:String,default:"doc"}},data:function(){return{curChannel:0,loading:!1,reload:!1,retry:0,timer:null}},computed:Ke(Ke(Ke(Ke(Ke({},Object(Mt.mapState)(["isLogin","vipInfo","priceInfo","docInfo"])),Object(Mt.mapState)("goodInfo",["curGoodId","autoRenewal","curVoucher"])),Object(Mt.mapGetters)(["wkSmallflow"])),Object(Mt.mapGetters)("goodInfo",["curGood"])),{},{channel:function(){return{0:"微信APP",1:"支付宝APP",2:"度小满/百度APP"}[this.curChannel]},showSaveMoney:function(){return this.saveMoney>0},showOriginalPrice:function(){var t=this.vipInfo.isVip,e=this.priceInfo.isDiscountDoc;return t&&e&&"doc"===this.type},payTip:function(){return this.showOriginalPrice?"VIP8折优惠":"支付金额:"},saveMoney:function(){var t=this.curGood;return"doc"===this.type?0:Object(Ut.b)(t.price-this.payMoney)||0},payInfo:function(){return{voucherId:this.curVoucher.voucherId,curGoodId:this.curGoodId,autoRenewal:this.autoRenewal,payMoney:this.payMoney}}}),beforeDestroy:function(){this.reset()},mounted:function(){this.initPay()},watch:{payInfo:{handler:function(){this.initPay()},deep:!0}},methods:Ke(Ke({},Object(Mt.mapMutations)(["setLogin"])),{},{initPay:function(){this.isLogin&&0!==this.payMoney&&this.fetchPayInfo()},fetchPayInfo:function(){"doc"===this.type&&this.fetchPayDoc(),"vip"===this.type&&this.fetchPayVip()},fetchPayVip:function(){var t=this,e=this.docInfo,n=e.docType,o=e.docId,i=this.priceInfo.isPackage,r="ViewVipCashier_".concat(n,"_new"),a={goods_type:3,goods_id:this.curGoodId,price:this.payMoney,cashier_code:Object(Gt.a)(r),voucher_id:this.curVoucher.voucherId||"",auth_pay:110===this.curGoodId?1:+this.autoRenewal,platform:"pc",test_id:this.wkSmallflow.testId};i&&(a.doc_id=o),this.loading=!0,$t(a).then((function(e){if(t.reset(),!e)return t.loading=!1,void t.showReload();t.initQrCode("https://wenku.baidu.com/qv/".concat(e),e)})).catch((function(t){console.log(t)})).finally((function(){t.loading=!1}))},fetchPayDoc:function(){var t=this;console.log("fetchPayDoc");var e=this.docInfo,n=e.docType,o=e.docId,i="ViewVipCashier_".concat(n,"_new"),r={action:"fufeidoc",goods_type:1,goods_id:o,price:this.payMoney,voucher_id:"",cashier_code:Object(Gt.a)(i),platform:"pc",test_id:this.wkSmallflow.testId};this.loading=!0,$t(r).then((function(e){t.reset(),e?t.initQrCode("https://wenku.baidu.com/qr/".concat(e),e):t.showReload()})).catch((function(t){})).finally((function(){t.loading=!1}))},handleChannelChange:function(t){this.curChannel=t},reset:function(){clearInterval(this.timer),this.timer=null,this.retry=0,Object(U.$)("#qr-code").empty()},initQrCode:function(t,e){var n=this;new Ue.a(Object(U.$)("#qr-code")[0],{text:t,width:110,height:110});this.timer=window.setInterval((function(){n.retry++<120?n.queryPayStatus(e):n.showReload()}),5e3)},handleQrClick:function(){this.isLogin?this.reload&&(this.reload=!1,this.fetchPayInfo()):this.handleLogin()},handleLogin:function(){this.handleClose(),Ye.log((function(){localStorage&&localStorage.setItem("reloadAction","download"),location.reload()}))},showReload:function(){this.reset(),this.reload=!0},handleClose:function(){this.$emit("close-dialog")},queryPayStatus:function(t){var e=this;(function(t){return u.default.get(C,{params:{code:t}})})(t).then((function(t){if(200===(null==t?void 0:t.status)){var n=(null==t?void 0:t.data)||{},o=n.status,i=n.data;2003===(null==o?void 0:o.code)&&(e.reset(),e.setLogin(!1)),1===(null==i?void 0:i.status)&&(localStorage.setItem("reloadAction","download"),location.reload())}})).catch((function(t){e.showReload()}))}})},Xe=(n(266),Object(ut.default)(qe,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pay-wrap"},[n("PaySelect",{attrs:{"cur-select":t.curChannel},on:{change:t.handleChannelChange}}),t._v(" "),n("div",{staticClass:"pay-area"},[n("div",{staticClass:"pay-main"},[n("div",{staticClass:"qr-code-wrap"},[t.loading?n("div",{staticClass:"loading"},[n("div",{staticClass:"circle"}),t._v(" "),n("div",{staticClass:"text"},[t._v("加载中")])]):t._e(),t._v(" "),n("div",{staticClass:"qr-code",class:{login:!t.isLogin,reload:t.reload},attrs:{id:"qr-code"},on:{click:t.handleQrClick}}),t._v(" "),n("div",{staticClass:"corner lt"}),t._v(" "),n("div",{staticClass:"corner rt"}),t._v(" "),n("div",{staticClass:"corner lb"}),t._v(" "),n("div",{staticClass:"corner rb"})]),t._v(" "),n("div",{staticClass:"pay-info"},[n("div",{staticClass:"pay-label"},[t._v(t._s(t.payTip))]),t._v(" "),n("div",{staticClass:"price"},[n("span",{staticClass:"label"},[t._v("¥")]),n("span",{staticClass:"money"},[t._v(t._s(t._f("formatMoney")(t.payMoney)))]),t._v(" "),t.showSaveMoney?n("span",{staticClass:"save-money"},[t._v("已优惠"+t._s(t.saveMoney)+"元！")]):t._e()]),t._v(" "),n("div",{staticClass:"tips-wrap"},[n("p",{staticClass:"channel-selected-desc"},[t._v("使用"+t._s(t.channel)+"扫码完成支付")])])])])])],1)}),[],!1,null,"2c91201c",null).exports);function Je(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],o=!0,i=!1,r=void 0;try{for(var a,c=t[Symbol.iterator]();!(o=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){i=!0,r=t}finally{try{o||null==c.return||c.return()}finally{if(i)throw r}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Qe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qe(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function Ze(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ze(Object(n),!0).forEach((function(e){en(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function en(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nn={filters:{formatMoney:Ut.b},components:{Tabs:be,RenewalTip:_e,SelectArea:Pe,RenewalArea:De,NewUserTip:Ae,VoucherArea:Be,PayArea:Xe},data:function(){return{activeIndex:0}},computed:tn(tn(tn({},Object(Mt.mapState)(["vipInfo","priceInfo","docInfo"])),Object(Mt.mapGetters)("goodInfo",["curGoodId","curGood","voucherList","vipPrice","docPrice"])),{},{hasTab:function(){return this.tabList.length>0},tabList:function(){var t=this.vipInfo.isVip,e=this.priceInfo,n=e.isPackage,o=e.isDiscountDoc;if(!t){if(n)return["开通VIP赠送本文","原价购买本文"];if(o)return["开通VIP本文享8折","原价购买本文"]}return[]}}),mounted:function(){this.fetchGoodInfo()},methods:{fetchGoodInfo:function(){var t=this;Promise.all([Lt(),Nt({goodsType:"jiaoyu_vip"})]).then((function(e){var n=Je(e,2),o=n[0],i=n[1];t.$store.commit("goodInfo/setGoodList",o),t.$store.commit("goodInfo/setVoucherInfo",i);var r=t.docInfo.docType,a=t.priceInfo.isPackage,c=2===r&&a,s=1===t.vipInfo.userType||2===t.vipInfo.userType;if(c||110!==t.curGoodId||!s)Array.isArray(t.voucherList)&&t.voucherList.length&&t.$store.commit("goodInfo/setCurVoucher",t.voucherList[0]);else{var l=t.curGood.virtualVoucher||{};t.$store.commit("goodInfo/setCurVoucher",l)}}))},toggleTab:function(t){this.activeIndex=t},closeDialog:function(){this.$emit("close-dialog")}}},on=(n(267),Object(ut.default)(nn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Tabs",{attrs:{"active-index":t.activeIndex,tabList:t.tabList},on:{change:t.toggleTab}},[0===t.activeIndex?[n("RenewalTip"),t._v(" "),n("SelectArea"),t._v(" "),n("RenewalArea"),t._v(" "),n("NewUserTip"),t._v(" "),n("VoucherArea"),t._v(" "),n("PayArea",{attrs:{type:"vip","pay-money":t.vipPrice},on:{"close-dialog":t.closeDialog}})]:1===t.activeIndex?n("div",{staticClass:"pay-doc"},[n("div",{staticClass:"pay-wrap"},[n("PayArea",{attrs:{type:"doc","pay-money":t.docPrice},on:{"close-dialog":t.closeDialog}})],1)]):t._e()],2)}),[],!1,null,"78124e56",null).exports);function rn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],o=!0,i=!1,r=void 0;try{for(var a,c=t[Symbol.iterator]();!(o=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){i=!0,r=t}finally{try{o||null==c.return||c.return()}finally{if(i)throw r}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return an(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return an(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function an(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function cn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cn(Object(n),!0).forEach((function(e){ln(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ln(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var un={computed:sn(sn(sn({},Object(Mt.mapState)(["vipInfo","priceInfo","docInfo"])),Object(Mt.mapState)("goodInfo",["curGoodId"])),Object(Mt.mapGetters)("goodInfo",["curGood","voucherList","vipPrice"])),filters:{formatMoney:Ut.b},components:{RenewalTip:_e,SelectArea:Pe,RenewalArea:De,NewUserTip:Ae,VoucherArea:Be,PayArea:Xe},mounted:function(){this.fetchGoodInfo()},methods:{fetchGoodInfo:function(){var t=this;Promise.all([Lt(),Nt({goodsType:"jiaoyu_vip"})]).then((function(e){var n=rn(e,2),o=n[0],i=n[1];t.$store.commit("goodInfo/setGoodList",o),t.$store.commit("goodInfo/setVoucherInfo",i);var r=t.docInfo.docType,a=t.priceInfo.isPackage,c=2===r&&a,s=1===t.vipInfo.userType||2===t.vipInfo.userType;if(c||110!==t.curGoodId||!s)Array.isArray(t.voucherList)&&t.voucherList.length&&t.$store.commit("goodInfo/setCurVoucher",t.voucherList[0]);else{var l=t.curGood.virtualVoucher||{};t.$store.commit("goodInfo/setCurVoucher",l)}}))},closeDialog:function(){this.$emit("close-dialog")}}},pn={components:{"ui-mask":pt,"ui-header":te,VipDocInfo:ae,PayContent:on,VipContent:Object(ut.default)(un,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vip-dialog"},[e("RenewalTip"),this._v(" "),e("SelectArea"),this._v(" "),e("RenewalArea"),this._v(" "),e("NewUserTip"),this._v(" "),e("VoucherArea"),this._v(" "),e("PayArea",{attrs:{type:"vip","pay-money":this.vipPrice},on:{"close-dialog":this.closeDialog}})],1)}),[],!1,null,null,null).exports},props:{download:Object,type:String},computed:{payDialog:function(){return this.type===r.a.PAY_DOC},vipDialog:function(){return this.type===r.a.BUY_VIP}},methods:{handleClose:function(){document.body.removeChild(this.$el),this.$destroy(),Object(F.e)(!1)}}},fn=(n(268),Object(ut.default)(pn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pay-dialog-wrap"},[n("ui-mask"),t._v(" "),n("div",{staticClass:"pay-dialog"},[n("ui-header",{attrs:{theme:"vip"},on:{"close-dialog":t.handleClose}}),t._v(" "),n("div",{staticClass:"main"},[n("VipDocInfo",{on:{"close-dialog":t.handleClose}}),t._v(" "),t.payDialog?n("PayContent",{on:{"close-dialog":t.handleClose}}):t.vipDialog?n("VipContent",{on:{"close-dialog":t.handleClose}}):t._e()],1)],1)],1)}),[],!1,null,"6a216ed9",null).exports);function dn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dn(Object(n),!0).forEach((function(e){hn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function hn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bn={filters:{formatSize:F.b},props:{type:String,smallFlow:Boolean,mes:Array,orgStatus:Number},data:function(){return{DIALOG:r.a,mesData:this.mes}},computed:vn(vn({},Object(Mt.mapState)(["docInfo","priceInfo","wealthInfo","orgVipInfo"])),{},{orgDetail:function(){var t,e;return 1==+this.orgStatus?"账号持有下载特权：".concat(this.orgVipInfo.wealth||0,"，无法完成本次下载"):(null===(t=this.mesData)||void 0===t||null===(e=t[status])||void 0===e?void 0:e[0])||""}})},yn=(n(269),Object(ut.default)(bn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["main-download",t.type===t.DIALOG.PROFESSIONAL?"prodoc-main-download":""]},[t.type===t.DIALOG.ORG_VIP?n("div",[n("div",{staticClass:"doc-content"},[n("div",{staticClass:"doc-main"},[n("div",{staticClass:"title"},[t._v("您正在使用的合作机构账号："+t._s(t.orgVipInfo.orgName))]),t._v(" "),n("div",{staticClass:"detail align-center"},[n("span",[t._v(t._s(t.orgDetail))])])])])]):t.type===t.DIALOG.PROFESSIONAL?n("div",{staticClass:"doc-content"},[n("img",{staticClass:"poster",attrs:{src:t.docInfo.coverUrl||t.docInfo.cover_url}}),t._v(" "),n("div",{staticClass:"doc-main"},[n("div",{staticClass:"title"},[t._v(t._s(t.docInfo.title))]),t._v(" "),n("div",{staticClass:"detail"},[n("span",{staticClass:"doc-size"},[t._v(t._s(t._f("formatSize")(t.docInfo.size)))]),t._v(" "),n("span",[t._v("\n                    本文需要"),n("em",{staticClass:"vip"},[t._v("1VIP专享文档特权")]),t._v("\n                    当前拥有"),n("em",{staticClass:"vip"},[t._v(t._s(t.wealthInfo.proDownloadTicket))])])])])]):n("div",{staticClass:"ticket-doc-download"},[t.type===t.DIALOG.EXCHANGE_TICKET?[n("p",{staticClass:"ticket-info"},[t._v("所需下载券："+t._s(t.priceInfo.docTicket))])]:t.type===t.DIALOG.FREE?[n("p",{staticClass:"ticket-info"},[t._v("所需下载券：0")])]:t.type===t.DIALOG.VIP_TICKET?[n("p",{staticClass:"ticket-info"},[t._v("您的共享文档下载特权剩余： "+t._s(t.wealthInfo.ticket)+"次")])]:t.type===t.DIALOG.VIP_FREE?[n("p",{staticClass:"ticket-info"},[t._v("本文为VIP免费文档，您可直接下载")])]:t.type===t.DIALOG.USE_TICKET?[n("p",{staticClass:"ticket-info"},[t._v("所需下载券："+t._s(t.priceInfo.docTicket))]),t._v(" "),n("p",{staticClass:"ticket-info"},[t._v("您持有：\n                "),n("span",{staticClass:"col-red"},[t._v(t._s(t.wealthInfo.uticket||0))]),t._v("下载券\n            ")])]:t.type===t.DIALOG.NOTVIP_TICKET?[n("p",{staticClass:"ticket-info"},[t._v("所需下载券："+t._s(t.priceInfo.docTicket))]),t._v(" "),n("p",{staticClass:"ticket-info"},[t._v("您持有：\n                "),n("span",{staticClass:"col-red"},[t._v(t._s(t.wealthInfo.uticket||0))]),t._v("\n                下载券，积分不足，无法兑换下载券\n            ")])]:t._e()],2)])}),[],!1,null,"c35f57e2",null).exports);function mn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function gn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mn(Object(n),!0).forEach((function(e){_n(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wn,On={props:{type:String},computed:gn(gn({},Object(Mt.mapState)(["wealthInfo","docInfo","priceInfo","vipInfo"])),{},{tip:function(){var t=this.type,e=this.docInfo,n=e.docType,o=e.isVipFreeDoc,i=(e.professionalDoc,this.priceInfo.docTicket),c=this.vipInfo,s=c.leftDay,l=void 0===s?0:s,u=c.isVip,p=c.isRenewal,f=this.wealthInfo,d=f.ticket,v=f.proDownloadTicket,h=this.ticketDocSubType;if(u){if(p)return"";if("TICKET_ZERO"===h||"TICKET_VIP_FREE"===h)return"续费VIP，下载特权随心用！";if(l<7&&(i>0||n===a.a.VIP_RIGHYT)){if(d>1&&v>1)return"续费VIP，下载特权延时30天";if(d<=1&&v>1)return"续费VIP，赠12共享文档下载特权";if(d>1&&v<=1)return"续费VIP，赠4VIP专享文档下载特权";if(d<=1&&v<=1)return"续费VIP，赠16文档下载特权"}return""}return t===r.a.NOTVIP_TICKET||n===a.a.TICKET?"加入VIP，下载特权随心用！":t===r.a.USE_TICKET||t===r.a.EXCHANGE_TICKET?o?"开通VIP免费下载":"开通VIP免券下载":"开通VIP享更多优质内容"}}),methods:{handleClick:function(){var t=this.type,e=this.docInfo.docType,n="";if(t!==r.a.NOTVIP_TICKET&&e!==a.a.TICKET){var o=Object(Gt.b)("/cashier/browse/vipcashier",{},"download_xf");window.location.href=o}else{n="download_pop_tips_newpage_"+U.Util.Common.getParam("fr");var i=Object(Gt.b)("/ndcashier/browse/jiaoyuvipcashier",{},n);window.open(i)}}}},Cn=(n(270),Object(ut.default)(On,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"footer-2019",class:{"has-tip":t.tip}},[t.tip?n("a",{staticClass:"vip-link",on:{click:t.handleClick}},[t._v(t._s(t.tip))]):t._e(),t._v(" "),t._m(0)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tips"},[e("i",{staticClass:"ic-help"}),this._v("\n        文档售卖收入归内容提供方所有，文库提供技术服务\n    ")])}],!1,null,"788ed391",null).exports);function jn(){return u.default.get(d,{params:{t:+new Date}})}function Pn(t,e){return u.default.post(v,f.a.param({m:"check",v_code:t,v_input:e}))}function In(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?In(Object(n),!0).forEach((function(e){kn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function kn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t[t.INIT=-1]="INIT",t[t.ERROR=0]="ERROR",t[t.SUCCESS=1]="SUCCESS"}(wn||(wn={}));var Sn=new i.a,Dn=[r.a.VIP_TICKET,r.a.PROFESSIONAL,r.a.VIP_FREE],Tn={components:{"ui-mask":pt,"ui-header":te,DocInfo:yn,"ui-footer":Cn},props:{download:Object,type:String},computed:xn(xn(xn(xn(xn({},Object(Mt.mapState)(["wealthInfo","userInfo","priceInfo","orgVipInfo"])),Object(Mt.mapState)("docInfo",["isVipFreeDoc","docType"])),Object(Mt.mapGetters)("docInfo",["ticketNeed","wealthNeed"])),Object(Mt.mapGetters)(["wkSmallflow","isVip","docInfo2019"])),{},{ticketDocSubType:function(){var t=this.priceInfo;return this.isVipFreeDoc?"TICKET_VIP_FREE":0===t.docTicket?"TICKET_ZERO":"TICKET"},btnClass:function(){var t=this.ticketDocSubType,e=this.type,n=this.isVip,o=["btn"];return e===r.a.EXCHANGE_TICKET&&o.push("lg"),Dn.indexOf(e)>-1&&n&&o.push("vip"),e===r.a.NOTVIP_TICKET&&"TICKET_VIP_FREE"===t&&o.push("vip"),o.join(" ")},btnText:function(){var t=this.type,e=this.ticketDocSubType,n=this.isVip;if(t===r.a.ORG_VIP)return this.mes[this.orgStatus][1];if(t===r.a.EXCHANGE_TICKET)return"兑换并下载";if(t===r.a.VIP_FREE)return n?"立即下载":"VIP免费下载";if(t===r.a.NOTVIP_TICKET){if("TICKET_VIP_FREE"===e)return"VIP免费下载";if("TICKET"===e)return n?"补充VIP特权":"VIP免下载券下载"}return t===r.a.VIP_TICKET?n?"使用下载特权下载":"VIP免下载券下载":"立即下载"},hasVerifyCode:function(){return this.userInfo.needVcode},isShowWp:function(){return+this.docType!==a.a.CASH},orgStatus:function(){var t=[0,-1,99,99,99,99,3,99,1];return t[13]=5,t[14]=6,t[15]=7,+t[this.orgVipInfo.code]},isOrg:function(){return-1===[1,3,5,7,99].indexOf(this.orgStatus)},isVipDown:function(){return Dn.indexOf(this.type)>-1&&this.isVip}}),data:function(){return{DIALOG:r.a,dumpWangPan:!1,vInput:"",vCode:"",vImgUrl:"",verified:wn.INIT,actionUrl:{userUrl:"/user/submit/download",vipUrl:"/orgvip/submit/download"},mes:[["","立即下载"],["","切换至个人账号下载"],[],["本账号今日下载总量已超出最大次数限制，请明天再试","切换至个人账号下载"],["系统错误，请在页面刷新后重新下载","确定"],["当前下载用户太多，请10分钟之后再来","切换至个人账号下载"],["当前下载用户过多，请休息一下，明天再来","切换至个人账号下载"],["当前网络IP今日下载总量已超出最大次数限制，请明日再试","切换至个人账号下载"]],isIpLogin:!0}},watch:{vInput:function(t){var e=this,n=t.trim();4===n.length?Pn(this.vCode,this.vInput).then((function(t){var n=t.status,o=t.data;200===n&&(0===o.errno?e.verified=wn.SUCCESS:e.verified=wn.ERROR)})):0===n.length&&(this.verified=wn.INIT)}},mounted:function(){this.dumpWangPan=!!this.isVip,this.hasVerifyCode&&this.fetchVcodeImg(),this.isVipDown&&T.log.xsend(102943,{type:"show",index:"tkSuccess"})},methods:{clickWp:function(){if(this.isVip);else{var t=Object(Gt.b)("https://wenku.baidu.com/ndbusiness/browse/wenkuvipcashier",{},"ReaderDownloadTransWangpan");window.open(t)}},downloadLog:function(){this.type===r.a.EXCHANGE_TICKET&&T.log.xsend(100194,{isVip:this.isVip}),T.log.xsend(100036)},handleDownLoad:function(){var t=this.isVip,e=this.type,n=this.ticketDocSubType,o=this.isIpLogin,i=this.orgStatus,a=this.orgVipInfo.isBDLosgin,c=void 0!==a&&a,s="/ndcashier/browse/jiaoyuvipcashier",l="";if(e===r.a.ORG_VIP)return 6===i?void this.handleClose():this.isOrg||t||"TICKET_ZERO"===n?void(o?c?this.executeDownload():Sn.log():this.executeDownload()):void window.open(s);if(e!==r.a.NOTVIP_TICKET){if(this.hasVerifyCode){if(this.verified!==wn.SUCCESS)return this.verified=wn.ERROR,void T.log.xsend(102373,{result:2,type:"img"});T.log.xsend(102373,{result:1,type:"img"})}this.isVipDown&&T.log.xsend(102943,{type:"click",index:"tkSuccess"}),this.executeDownload()}else{"TICKET"===n&&(l=t?"xfvip_ticket_newpage":"31_8_13_15_newpage",s=t?"/ndbusiness/browse/wenkuvippackagecashier":s),"TICKET_VIP_FREE"!==n||t||(l="new_vip_freedoc_style_newpage"),l=l+"_"+U.Util.Common.getParam("fr");var u=Object(Gt.b)(s,{},l);window.open(u)}},executeDownload:function(){this.downloadLog(),this.download.emit(r.b.GET_FILE,{type:this.type,dumpwp:this.dumpWangPan,vInput:this.vInput,vCode:this.vCode,isOrg:this.isOrg}),this.handleClose()},handleClose:function(){document.body.removeChild(this.$el),this.$destroy(),Object(F.e)(!1)},fetchVcodeImg:function(){var t=this;jn().then((function(e){var n=e.status,o=e.data;if(200===n)return t.vImgUrl=o.imgurl,void(t.vCode=o.vcode_str);throw new Error("fetchVcodeImg failed")}))}}},En=(n(271),Object(ut.default)(Tn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"download-dialog-wrap"},[n("ui-mask"),t._v(" "),n("div",{staticClass:"download-dialog"},[n("ui-header",{on:{"close-dialog":t.handleClose}}),t._v(" "),t.isVipDown?n("div",{staticClass:"doc-vip-show"},[n("span",{staticClass:"vip-icon"}),t._v("尊贵的文库VIP，您即将享受VIP下载特权\n        ")]):t._e(),t._v(" "),n("DocInfo",{attrs:{type:t.type,mes:t.mes,"org-status":t.orgStatus}}),t._v(" "),t.type===t.DIALOG.EXCHANGE_TICKET?n("div",{staticClass:"exchange-area"},[n("span",{staticClass:"block"},[t._v("\n                您持有："),n("em",[t._v(t._s(t.wealthInfo.uticket||0))]),t._v("下载券\n            ")]),t._v(" "),n("span",{staticClass:"block"},[t._v("\n                (可用"+t._s(t.wealthNeed)+"积分兑换"+t._s(t.ticketNeed)+"下载券)\n            ")])]):t._e(),t._v(" "),n("div",{staticClass:"operate-area"},[n("div",{class:t.btnClass,on:{click:t.handleDownLoad}},[t._v(t._s(t.btnText))]),t._v(" "),t.isShowWp?n("div",{staticClass:"wp-select"},[n("label",{attrs:{for:"wpUpload"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.dumpWangPan,expression:"dumpWangPan"}],attrs:{type:"checkbox",id:"wpUpload",name:"wpUpload"},domProps:{checked:Array.isArray(t.dumpWangPan)?t._i(t.dumpWangPan,null)>-1:t.dumpWangPan},on:{click:t.clickWp,change:function(e){var n=t.dumpWangPan,o=e.target,i=!!o.checked;if(Array.isArray(n)){var r=t._i(n,null);o.checked?r<0&&(t.dumpWangPan=n.concat([null])):r>-1&&(t.dumpWangPan=n.slice(0,r).concat(n.slice(r+1)))}else t.dumpWangPan=i}}}),t._v(" "),n("span",[t._v("同时转存至百度网盘")]),t._v(" "),n("span",{staticClass:"vip-tag-icon"})])]):t._e(),t._v(" "),t.hasVerifyCode?n("div",{staticClass:"vcode-box"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.vInput,expression:"vInput"}],staticClass:"vcode-ipt",attrs:{type:"text"},domProps:{value:t.vInput},on:{input:function(e){e.target.composing||(t.vInput=e.target.value)}}}),t._v(" "),n("img",{class:{show:t.vImgUrl},attrs:{src:t.vImgUrl}}),t._v(" "),1===t.verified?n("i",{staticClass:"vcode-success"}):n("span",{staticClass:"vcode-change",on:{click:t.fetchVcodeImg}},[t._v("换一换")]),t._v(" "),0===t.verified?n("p",{staticClass:"error-tip"},[n("i",{staticClass:"vcode-error"}),t._v(" "),n("span",[t._v("请输入正确的验证码！")])]):t._e()]):t._e()]),t._v(" "),n("ui-footer")],1)],1)}),[],!1,null,"a523b648",null).exports);function Vn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Rn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vn(Object(n),!0).forEach((function(e){An(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function An(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ln={props:{type:String,download:Object},data:function(){return{DIALOG:r.a,vCode:"",vInput:"",vImgUrl:"",verified:wn.INIT}},components:{"ui-mask":pt,"ui-footer":Cn},computed:Rn(Rn(Rn({},Object(Mt.mapState)(["wealthInfo","priceInfo","userInfo"])),Object(Mt.mapGetters)("docInfo",["ticketNeed","wealthNeed"])),{},{dumpSuccess:function(){return this.type===r.a.DUMP_SUCCESS},canDump:function(){return[r.a.FREE,r.a.VIP_FREE,r.a.USE_TICKET,r.a.VIP_TICKET,r.a.EXCHANGE_TICKET].includes(this.type)},hasVerifyCode:function(){return this.userInfo.needVcode}}),watch:{vInput:function(t){var e=this,n=t.trim();4===n.length?Pn(this.vCode,this.vInput).then((function(t){var n=t.status,o=t.data;200===n&&(0===o.errno?e.verified=wn.SUCCESS:e.verified=wn.ERROR)})):0===n.length&&(this.verified=wn.INIT)}},mounted:function(){this.canDump&&this.hasVerifyCode&&this.fetchVcodeImg()},methods:{fetchVcodeImg:function(){var t=this;jn().then((function(e){var n=e.status,o=e.data;if(200===n)return t.vImgUrl=o.imgurl,void(t.vCode=o.vcode_str);throw new Error("fetchVcodeImg failed")}))},handlePayTicket:function(){this.closeDialog(),T.log.xsend(102741,{pos:"dump",idx:1}),window.open("/ndcashier/browse/vippackagecashier")},handleCashier:function(){var t=Object(Gt.b)("/cashier/browse/vipcashier",{},"dump_xf");window.location.href=t},handleDump:function(){this.hasVerifyCode&&this.verified!==wn.SUCCESS?this.verified=wn.ERROR:(this.download.emit(r.b.DUMP_WP,{type:this.type,vCode:this.vCode,vInput:this.vInput}),this.closeDialog())},closeDialog:function(){document.body.removeChild(this.$el),this.$destroy(),Object(F.e)(!1)},jumpWangpan:function(){this.closeDialog(),window.open("https://pan.baidu.com/disk/home")}}},Nn=(n(272),Object(ut.default)(Ln,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dump-dialog-wrap"},[n("ui-mask"),t._v(" "),n("div",{staticClass:"dump-dialog"},[n("div",{staticClass:"header"},[n("div",{staticClass:"title"},[t._v("转存到百度网盘")]),t._v(" "),n("div",{staticClass:"btn-close",on:{click:t.closeDialog}})]),t._v(" "),t.dumpSuccess?n("div",[t._m(0),t._v(" "),n("div",{staticClass:"operate-area"},[n("div",{staticClass:"btn",on:{click:t.jumpWangpan}},[t._v("去百度网盘查看")])])]):n("div",[n("div",{staticClass:"main"},[t.type===t.DIALOG.VIP_FREE?[n("div",{staticClass:"vipfree"},[t._v("本文为文库VIP免费文档")])]:t.type===t.DIALOG.VIP_TICKET?[t._m(1),t._v(" "),n("div",{staticClass:"ticket"},[t._v("\n                        持有："),n("em",[t._v(t._s(t.wealthInfo.ticket))]),t._v("共享文档下载特权\n                    ")])]:[n("div",{staticClass:"ticket"},[t._v("\n                        所需："),n("em",[t._v(t._s(t.priceInfo.docTicket))]),t._v("下载券\n                    ")]),t._v(" "),n("div",{staticClass:"ticket"},[t._v("\n                        持有："),n("em",[t._v(t._s(t.wealthInfo.uticket))]),t._v("下载券\n                    ")]),t._v(" "),t.type===t.DIALOG.EXCHANGE_TICKET?n("div",{staticClass:"exchange"},[t._v("\n                        使用"+t._s(t.wealthNeed)+"积分兑换"+t._s(t.ticketNeed)+"下载券\n                    ")]):t._e()]],2),t._v(" "),n("div",{staticClass:"operate-area"},[t.canDump?[n("div",{staticClass:"btn",on:{click:t.handleDump}},[t._v("立即转存")]),t._v(" "),t.hasVerifyCode?n("div",{staticClass:"vcode-box"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.vInput,expression:"vInput"}],staticClass:"vcode-ipt",attrs:{type:"text"},domProps:{value:t.vInput},on:{input:function(e){e.target.composing||(t.vInput=e.target.value)}}}),t._v(" "),n("img",{class:{show:t.vImgUrl},attrs:{src:t.vImgUrl}}),t._v(" "),1===t.verified?n("i",{staticClass:"vcode-success"}):n("span",{staticClass:"vcode-change",on:{click:t.fetchVcodeImg}},[t._v("换一换")]),t._v(" "),0===t.verified?n("p",{staticClass:"error-tip"},[n("i",{staticClass:"vcode-error"}),t._v(" "),n("span",[t._v("请输入正确的验证码！")])]):t._e()]):t._e()]:t.type===t.DIALOG.VIP_NO_TICKET?n("div",{staticClass:"btn",on:{click:t.handlePayTicket}},[t._v("补充下载特权")]):n("div",{staticClass:"btn",on:{click:t.handleCashier}},[t._v("VIP免券转存")]),t._v(" "),n("div",{staticClass:"tip"},[t._v("转存后可永久免费下载")])],2)]),t._v(" "),t.dumpSuccess?t._e():n("ui-footer")],1)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("div",{staticClass:"title"},[this._v("已转存到百度网盘")]),this._v(" "),e("div",{staticClass:"tip"},[this._v("存储在百度网盘>来自：百度文库")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ticket"},[this._v("\n                        所需："),e("em",[this._v("1")]),this._v("共享文档下载特权\n                    ")])}],!1,null,"1793a6d0",null).exports);function $n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$n(Object(n),!0).forEach((function(e){Bn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$n(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Mn={props:{type:String,download:Object},data:function(){return{vCode:"",vInput:"",vImgUrl:""}},components:{"ui-mask":pt},computed:Gn(Gn({},Object(Mt.mapGetters)("userInfo",["limitedInfo"])),{},{limtedDes:function(){var t;return(null===(t=this.limitedInfo)||void 0===t?void 0:t.lockReasonDetail)||"账号被封禁"}}),methods:{closeDialog:function(){document.body.removeChild(this.$el),this.$destroy(),Object(F.e)(!1)}}},Un=(n(273),Object(ut.default)(Mn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"limited-dialog-wrap"},[n("ui-mask"),t._v(" "),n("div",{staticClass:"limited-dialog"},[n("div",{staticClass:"header"},[n("div",{staticClass:"title"},[t._v("账号已封禁")]),t._v(" "),n("div",{staticClass:"btn-close",on:{click:function(e){return e.stopPropagation(),t.closeDialog(e)}}})]),t._v(" "),n("div",{staticClass:"main"},[[n("p",[t._v(t._s(t.limtedDes))])]],2),t._v(" "),n("div",{staticClass:"operate-area"},[n("div",{staticClass:"btn",on:{click:function(e){return e.stopPropagation(),t.closeDialog(e)}}},[t._v("确定")])])])],1)}),[],!1,null,"4fbfcbb8",null).exports);function Fn(t){return(Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Kn(t,e){return(Kn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Wn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=qn(t);if(e){var i=qn(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Yn(this,n)}}function Yn(t,e){return!e||"object"!==Fn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qn(t){return(qn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Xn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kn(t,e)}(a,t);var e,n,o,i=Wn(a);function a(){var t;return Hn(this,a),(t=i.apply(this,arguments)).phone="",t.email="",t.phoneCheck=!0,t.emailCheck=!0,t}return e=a,(n=[{key:"closeDialog",value:function(){document.body.removeChild(this.$el),this.$destroy(),Object(F.e)(!1)}},{key:"formCheck",value:function(){return this.phoneCheck=F.a.checkPhone(this.phone),this.emailCheck=F.a.checkEmail(this.email),this.phoneCheck&&this.emailCheck}},{key:"handleClick",value:function(){this.formCheck()&&(this.download.emit(r.b.GET_FILE,{phone:this.phone,email:this.email}),this.closeDialog())}}])&&zn(e.prototype,n),o&&zn(e,o),a}(tt.Vue);Object(Z.a)([Object(tt.Prop)()],Xn.prototype,"type",void 0),Object(Z.a)([Object(tt.Prop)()],Xn.prototype,"download",void 0);var Jn=Xn=Object(Z.a)([Object(tt.Component)({components:{"ui-mask":pt}})],Xn),Qn=(n(274),Object(ut.default)(Jn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"limited-dialog-wrap"},[n("ui-mask"),t._v(" "),n("div",{staticClass:"limited-dialog"},[n("div",{staticClass:"header"},[n("div",{staticClass:"title"},[t._v("百度账号授权")]),t._v(" "),n("div",{staticClass:"btn-close",on:{click:function(e){return e.stopPropagation(),t.closeDialog(e)}}})]),t._v(" "),n("div",{staticClass:"main"},[n("div",{staticClass:"main-title"},[t._v("\n                授权登录\n            ")]),t._v(" "),n("div",{staticClass:"main-des"},[t._v("\n                【国家哲学社会科学院文献中心】免费下载该文档资源\n            ")]),t._v(" "),n("div",{class:{"input-line":!0,error:!t.phoneCheck}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{placeholder:"请输入手机号码（必填）",type:"text"},domProps:{value:t.phone},on:{change:t.formCheck,input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),t._v(" "),t.phoneCheck?t._e():n("span",{staticClass:"error-info"},[t._v("输入错误")])]),t._v(" "),n("div",{class:{"input-line":!0,error:!t.emailCheck}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{placeholder:"请输入邮箱地址",type:"text"},domProps:{value:t.email},on:{change:t.formCheck,input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),t.emailCheck?t._e():n("span",{staticClass:"error-info"},[t._v("输入错误")])]),t._v(" "),n("div",{staticClass:"btn",on:{click:function(e){return e.stopPropagation(),t.handleClick(e)}}},[t._v("确认授权并下载")]),t._v(" "),n("div",{staticClass:"main-tip"},[t._v("允许【国家哲学社会科学院文献中心】获取以上信息及文库账号为您开通文献访问权限")])])])],1)}),[],!1,null,"5c4b0d82",null).exports);function Zn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var to,eo=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.download=e,this.bindEvent()}var e,n,o;return e=t,(n=[{key:"bindEvent",value:function(){var t=this;U._.values(r.a).forEach((function(e){t.download.on(e,t.createDialog.bind(t,e))}))}},{key:"createDialog",value:function(t){var e,n=this,o=this.download.task,i=[r.a.BUY_VIP,r.a.PAY_DOC],a=[r.a.FREE,r.a.VIP_FREE,r.a.PROFESSIONAL,r.a.USE_TICKET,r.a.VIP_TICKET,r.a.EXCHANGE_TICKET,r.a.VIP_NO_TICKET,r.a.NOTVIP_TICKET,r.a.ORG_VIP],s=[].concat(a,[r.a.DUMP_SUCCESS]),l=[r.a.DIALOG_NOPASS],u=[r.a.DIALOG_SHEKE];if(i.includes(t)?e=new Q.a({store:c.b,render:function(e){return e(fn,{props:{type:t,download:n.download}})}}):"download"===o&&a.includes(t)?e=new Q.a({store:c.b,render:function(e){return e(En,{props:{type:t,download:n.download}})}}):"dump"===o&&s.includes(t)?e=new Q.a({store:c.b,render:function(e){return e(Nn,{props:{type:t,download:n.download}})}}):l.includes(t)?e=new Q.a({store:c.b,render:function(e){return e(Un,{props:{type:t}})}}):u.includes(t)&&(e=new Q.a({store:c.b,render:function(e){return e(Qn,{props:{type:t,download:n.download}})}})),!e)throw new Error("弹窗初始化失败");Object(F.f)(e,!0),Object(F.e)(!0)}}])&&Zn(e.prototype,n),o&&Zn(e,o),t}();function no(t){return(no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function io(t,e){return(io=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ro(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=so(t);if(e){var i=so(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return ao(this,n)}}function ao(t,e){return!e||"object"!==no(e)&&"function"!=typeof e?co(t):e}function co(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function so(t){return(so=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t){t.WAITING="waiting",t.RUNNING="running"}(to||(to={}));var lo,uo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&io(t,e)}(a,t);var e,n,o,i=ro(a);function a(){var t,e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).status=to.WAITING,t.taskMap={},t.bindEvent(),t.reloadAction(),t.registerTask("download",$),t.registerTask("dump",G),e=co(t),new eo(e),t}return e=a,(n=[{key:"bindEvent",value:function(){this.on(r.b.GET_FILE,X).on(r.b.DUMP_WP,St.bind(this)).on(r.c.PAY_DOC,Bt)}},{key:"run",value:function(t){var e=this;if(this.status===to.WAITING){this.task=t;try{this.status=to.RUNNING;var n=0;!function o(){var i=e.taskMap[t][n++];if(i){var r=i.call(e,o,t);r instanceof Promise?r.then((function(t){!1===t&&(e.status=to.WAITING)})).catch((function(t){e.status=to.WAITING,Object(k.a)(t)})):!1===r&&(e.status=to.WAITING)}else e.status=to.WAITING}()}catch(t){this.status=to.WAITING,Object(k.a)(t)}}}},{key:"use",value:function(t,e){if("function"!=typeof e)throw new Error("invalid task");this.taskMap[t]?this.taskMap[t].push(e):this.taskMap[t]=[e]}},{key:"download",value:function(){this.run("download")}},{key:"dump",value:function(){this.run("dump")}},{key:"limitDialog",value:function(){this.emit(r.a.DIALOG_NOPASS)}},{key:"sheKeDialog",value:function(){this.emit(r.a.DIALOG_SHEKE)}},{key:"registerTask",value:function(t,e){var n=this;e.forEach((function(e){n.use(t,e)}))}},{key:"reloadAction",value:function(){var t=localStorage&&localStorage.getItem("reloadAction")||"";localStorage.removeItem("reloadAction"),"function"==typeof this[t]&&this[t].call(this)}}])&&oo(e.prototype,n),o&&oo(e,o),a}(M);e.a={createDownload:function(){return lo||(lo=new uo)},destory:function(){lo=null}}},,,,,,,,function(t,e,n){"use strict";var o=n(10);e.a={RELATIVECOURSE:{id:"53",dom:".relative-course-item-ad",mustshow:1},RELATIVEDOC:{id:"46",dom:".relative-doc-dspad-wrapper",mustshow:1},viewPageAllDsp:function(){var t=o.b.state.docInfo.title;return[{slotid:53,mustshow:1,num:1,keyword:t},{slotid:46,mustshow:1,num:1,keyword:t}]}}},,function(t,e,n){"use strict";var o=n(5),i=n(2),r=n(3),a=n(1),c=n(0);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=v(t);if(e){var i=v(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return d(this,n)}}function d(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(a,t);var e,n,o,r=f(a);function a(){var t;return l(this,a),(t=r.apply(this,arguments)).bgImgLoadStatus=0,t}return e=a,(n=[{key:"mounted",value:function(){var t=this,e=this.course.thumbnail;if(e){var n=new Image;n.onerror=function(){t.bgImgLoadStatus=2},n.onload=function(){t.bgImgLoadStatus=1},n.src=e}}},{key:"clickItem",value:function(t,e,n){var o;try{o=t.expParam||{}}catch(t){o={}}var r=o,a=r.expName,c=r.expId,s=r.expSourceStrId,l=r.expSourceType;i.log.xsend(102116,{index:+this.index+1,fix:this.fix,expName:a,expId:c,expSourceStrId:s,recFrom:"pc_newview_lesson",expSourceType:l,outExpId:n});var u=this.esUrl(t,e+1,n);window.open(u)}},{key:"esUrl",value:function(t,e,n){var o=t.url,i=t.expParam,r="?fr=pc_newview_lesson-"+n+"-"+e;return i&&(r+=["",i&&i.expName,i&&i.expId,i&&i.expSourceType,i&&i.expSourceStrId].join("-")),o+=r}}])&&u(e.prototype,n),o&&u(e,o),a}(c.Vue);Object(a.a)([Object(c.Prop)(Object)],h.prototype,"course",void 0),Object(a.a)([Object(c.Prop)(Number)],h.prototype,"index",void 0),Object(a.a)([Object(c.Prop)(Boolean)],h.prototype,"fix",void 0);var b=h=Object(a.a)([c.Component],h),y=(n(293),n(4)),m=Object(y.default)(b,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"relative-course-item",attrs:{"data-course-id":t.course.courseID,"data-video-id":t.course.videoId,"data-flag":t.course.flag},on:{click:function(e){return t.clickItem(t.course,t.index,t.expData)}}},[n("div",{staticClass:"thumb-wrapper"},[n("div",{staticClass:"thumb",class:{default:2===t.bgImgLoadStatus},style:{backgroundImage:1===t.bgImgLoadStatus?"url("+t.course.thumbnail+")":"none"}}),t._v(" "),n("div",{staticClass:"playbar"})]),t._v(" "),n("div",{staticClass:"title",domProps:{textContent:t._s(t.course.title)}}),t._v(" "),n("div",{staticClass:"state"},[n("div",{staticClass:"org",domProps:{textContent:t._s(t.course.orgName)}}),t._v(" "),n("div",{staticClass:"price",class:{free:t.course.isFree,fee:!t.course.isFree},domProps:{textContent:t._s(t.course.priceTag)}})])])}),[],!1,null,null,null).exports,g=n(113),_=n(54);function w(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],o=!0,i=!1,r=void 0;try{for(var a,c=t[Symbol.iterator]();!(o=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){i=!0,r=t}finally{try{o||null==c.return||c.return()}finally{if(i)throw r}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var C=function(){Promise.all([g.a.getData()]).then((function(t){var e=w(t,1)[0],n=(e=void 0===e?{}:e)[_.a.RELATIVECOURSE.id];try{n&&n.length>0&&g.a.render({data:n[0],slotid:_.a.RELATIVECOURSE.id,dom:_.a.RELATIVECOURSE.dom})}catch(t){console.log("DSP req err",_.a.RELATIVECOURSE.id,t)}}))};function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){I(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function I(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}r.Util.Common.onElsVisible(".relative-course-item",(function(t){var e=Object(r.$)(t);if("hidden"!==e.css("visibility")){var n=e.data("logged")?1:0,o=e.data("courseId"),a=e.data("videoId"),c=e.data("flag");i.log.xsend(102377,{page:"view",position:"rec",videoProducer:"wenku",videoType:"short",repeat:n,courseId:o,videoId:a,isFree:1==+c?0:1}),!n&&e.data("logged",1)}}));var x,k=(x=!1,function(){x||(x=!0,i.log.xsend(102376,{page:"view"}))}),S={props:{fix:Boolean},components:{RelativeCourseItem:m},data:function(){return{relativeCourseAdNum:0}},computed:P(P(P({},Object(o.mapGetters)(["relativeCourseInfo","docId"])),Object(o.mapState)(["pageData"])),{},{validVideos:function(){return(this.relativeCourseInfo.videos||[]).filter((function(t){return null!==t}))},visible:function(){var t=this.validVideos||[],e=t&&r.$.isArray(t)&&t.length>0;return e&&k(),e},courses:function(){var t=this.validVideos||[];if(t&&r.$.isArray(t)&&t.length>0){for(var e=0,n=t.length;e<n;e++){var o=t[e];+o.price<=0?(o.priceTag="免费",o.isFree=!0):o.priceTag="￥"+parseFloat((+o.price/100).toFixed(2))}return t.length>4&&(t=t.slice(0,4)),this.relativeCourseAdNum>0&&4===t.length&&(t=t.slice(0,3)),t}return[]},expData:function(){var t;try{t=this.relativeCourseInfo.expData[0].expId}catch(e){t=""}return t}}),methods:{viewLog:function(){var t=!1;r.Util.Common.onElsVisible(".relative-course-wrapper",(function(){"hidden"!==Object(r.$)(this).css("visibility")&&(t||(i.log.xsend(102624),t=!0))}))},relativeCourseAdLoad:function(t){var e=t&&t.adNum||0;this.relativeCourseAdNum=e}},created:function(){window.eventBus.on("relativeCourseAdLoad",r.$.proxy(this.relativeCourseAdLoad,this))},mounted:function(){C(),i.log.xsend(102238,{readerId:this.docId,fix:this.fix}),this.viewLog()}},D=(n(294),Object(y.default)(S,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("div",{staticClass:"relative-course-wrapper"},[n("p",{staticClass:"topic"},[t._v("精品课程")]),t._v(" "),n("div",{staticClass:"divider"}),t._v(" "),n("div",{staticClass:"relative-course-in-wrapper"},[n("div",{staticClass:"relative-course-item relative-course-item-ad"}),t._v(" "),t._l(t.courses,(function(e,o){return n("RelativeCourseItem",{key:o,staticClass:"relative-course-item",attrs:{course:e,index:o,fix:t.fix,"exp-data":t.expData}})}))],2)]):t._e()}),[],!1,null,"61463933",null));e.a=D.exports},function(t,e,n){"use strict";var o=n(5),i=n(2),r=n(3),a=n(1),c=n(0);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=v(t);if(e){var i=v(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return d(this,n)}}function d(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(r,t);var e,n,o,i=f(r);function r(){var t;return l(this,r),(t=i.apply(this,arguments)).bgImgLoadStatus=0,t}return e=r,(n=[{key:"mounted",value:function(){this.setCover()}},{key:"onInfo",value:function(){this.setCover()}},{key:"setCover",value:function(){var t=this,e=this.info&&this.info.pic;if(e){var n=new Image;n.onerror=function(){t.bgImgLoadStatus=2},n.onload=function(){t.bgImgLoadStatus=1},n.src=e}}}])&&u(e.prototype,n),o&&u(e,o),r}(c.Vue);Object(a.a)([Object(c.Prop)(Object)],h.prototype,"info",void 0),Object(a.a)([Object(c.Prop)(Number)],h.prototype,"index",void 0),Object(a.a)([Object(c.Watch)("info")],h.prototype,"onInfo",null);var b=h=Object(a.a)([Object(c.Component)({})],h),y=(n(289),n(4)),m=Object(y.default)(b,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.info?n("div",{staticClass:"relative-doc-item-horizontal"},[n("div",{staticClass:"content"},[n("div",{staticClass:"title",domProps:{textContent:t._s(t.info.title)}}),t._v(" "),n("div",{staticClass:"state"},[n("div",{staticClass:"star"}),t._v(" "),n("div",{staticClass:"score",domProps:{textContent:t._s(t.info.scoreTag)}}),t._v(" "),n("div",{staticClass:"viewcount",domProps:{textContent:t._s(t.info.viewCountTag)}})])]),t._v(" "),n("div",{staticClass:"cover-wrapper"},[t.info.pic?n("div",{staticClass:"cover custom",class:{default:2===t.bgImgLoadStatus},style:{backgroundImage:1===t.bgImgLoadStatus?"url("+t.info.pic+")":"none"}}):n("div",{staticClass:"cover default"})])]):t._e()}),[],!1,null,null,null).exports,g=n(245),_=n(84),w=n(21),O=n(8),C=n(239);function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){I(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function I(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x=!1,k={},S={props:{fix:Boolean},data:function(){return{pn:1,rn:4,adLoadNum:0}},components:{RelativeDocItemHorizontal:m,RelativeDocItemVertical:g.a},computed:P(P(P({},Object(o.mapState)(["pageData","isAdLoadFailed"])),Object(o.mapGetters)(["docId","docInfo2019","isVip","relativeRecommendInfo","wkSmallflow"])),{},{wkWeb2375:function(){var t=this.wkSmallflow.testData,e=void 0===t?{}:t,n=((null==e?void 0:e[11])||{}).wkWeb2375,o=void 0===n?0:n;return+o},titleText:function(){return this.wkWeb2375||0?"其他用户还看了":"相关文档"},validRelativeDocs:function(){var t=this.relativeRecommendInfo.relateDoc;return _.a.validateRelativeDocs(t)},visible:function(){var t=this.relativeRecommendInfo.relateDoc;return t&&r.$.isArray(t)&&t.length>0},isHorizontal:function(){var t=this.docInfo2019.doc_info.type;return _.a.validateRelativeDocViewStyleIsHorizontal(t)},firstRn:function(){var t,e=this.isHorizontal,n=this.isVip,o=this.adLoadNum;return n||!e?t=4:!n&&e&&(t=o?4-o:4),t},docs:function(){var t=this.validRelativeDocs,e=this.firstRn;return t.length>e&&(t=t.slice(0,e)),t},showDocs:function(){var t=this.pn,e=this.rn,n=this.firstRn,o=this.totalPages,i=this.validRelativeDocs;if(1===t)return i.slice(0,n);if(o<=t){var r=n+(o-2)*e,a=i.length;return i.slice(r,a)}var c=n+(t-2)*e,s=c+e;return i.slice(c,s)},totalPages:function(){var t=this.validRelativeDocs,e=this.rn,n=this.firstRn,o=t.length,i=1+Math.ceil((o-n)/e);return i},disabledPrev:function(){return 1===this.pn},disabledNext:function(){return this.pn===this.totalPages},visibleAd:function(){return this.isHorizontal&&1===this.pn?"block":"none"}}),watch:{showDocs:function(){this.$nextTick((function(){Object(r.$)(document).trigger("scroll")}))}},created:function(){var t=this;if(window.eventBus.on("adLoadSuccess",r.$.proxy(this.adLoadSuccess,this)),i.log.xsend(102234,{bigPic:!this.isHorizontal,readerId:this.docId,fix:this.fix}),_.a.validateDocIsPGC(this.pageData)&&i.log.xsend(100724,{fix:this.fix}),this.visible&&!x){var e=this.pn;i.log.xsend(102724,{pn:e}),x=!0}r.Util.Common.onElsVisible(".relative-doc-wrapper .item",(function(){var e=Object(r.$)(this);e.data("visiblePre",!1);var n=e.attr("data-doc-id");k[n]||(i.log.xsend(102869,{pn:t.pn,pos:+e.attr("data-index")+1}),k[n]=1)}))},mounted:function(){this.$nextTick((function(){window.AdDataRecomRight&&C.a.render(window.AdDataRecomRight)}))},methods:{toPrev:function(){if(!this.disabledPrev){var t=this.pn-1;this.pn=t,w.userAction.sessionXMgr.pushUserActs({act:"toPrev",pn:t}),i.log.xsend(102724,{pn:t})}},toNext:function(t){if(!this.disabledNext){var e=this.pn+1;this.pn=e,w.userAction.sessionXMgr.pushUserActs({act:"toNext",pn:e}),i.log.xsend(102724,{pn:e})}},clickDoc:function(t,e){var n,o=this.wkWeb2375,a=this.isHorizontal,c=this.fix,s=this.relativeRecommendInfo,l="";try{n=t.expParam,l=s.expData[0].expId,i.log.xsend(102235,{bigPic:!a,docId:t.doc_id,fix:c,expName:n&&n.expName,expId:n&&n.expId,expSourceType:n&&n.expSourceType,expSourceStrId:n&&n.expSourceStrId,index:e+1,recFrom:"pc_newview_relate",seat:"right",outExpId:l,pn:this.pn,pos:e+1})}catch(t){n=""}_.a.validateDocIsPGC(this.pageData)&&i.log.xsend(100726,{fix:this.fix});var u=Object(r.$)("#kw").data("keyword"),p=location,f=p.protocol,d=p.host,v=(p.port,"".concat(f,"//").concat(d)+(u?"/view/".concat(t.doc_id,".html?rec_flag=default&word=").concat(encodeURIComponent(u)):"/view/".concat(t.doc_id,".html?rec_flag=default")));if(v+=this.addFrTag(t,e+1,l),v=w.userAction.sessionXMgr.createUrlParam({p:e+1,m:"relative_doc"},v),o){var h,b,y=null===(h=this.docInfo2019)||void 0===h||null===(b=h.doc_info)||void 0===b?void 0:b.doc_type,m=O.b[y];v="/search?word=".concat(t.title,"&lm=0&od=0&fr=view_rs_1&cc=_wkWeb2375_").concat(m,"_")}window.open(v)},adLoadSuccess:function(t){if(this.visible){var e=t&&t.adNum||0;this.adLoadNum=e}},addFrTag:function(t,e,n){var o=t.expParam,i="&fr=pc_newview_relate-"+n+"-"+e;o&&(i+=["",o&&o.expName,o&&o.expId,o&&o.expSourceType,o&&o.expSourceStrId].join("-"));return i}}},D=(n(291),Object(y.default)(S,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("div",{staticClass:"relative-doc-wrapper"},[n("p",{staticClass:"topic"},[t._v(t._s(t.titleText))]),t._v(" "),n("div",{staticClass:"pager"},[n("span",{staticClass:"link link-prev",class:{disabled:t.disabledPrev},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.toPrev(e)}}}),t._v(" "),n("span",{staticClass:"link link-next",class:{disabled:t.disabledNext},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.toNext(e)}}})]),t._v(" "),n("div",{staticClass:"divider"}),t._v(" "),n("div",{staticClass:"relative-doc-in-wrapper",class:{v:!t.isHorizontal}},[n("div",{staticClass:"hx-wrapper",style:{display:t.visibleAd}},[n("div",{staticClass:"relative-doc-ad-wrapper"}),t._v(" "),n("div",{staticClass:"relative-doc-dspad-wrapper"})]),t._v(" "),t._l(t.showDocs,(function(e,o){return n("div",{key:o,staticClass:"item",attrs:{"data-index":o,"data-doc-id":e.doc_id},on:{click:function(n){return t.clickDoc(e,o)}}},[e?[t.isHorizontal?n("RelativeDocItemHorizontal",{attrs:{info:e,index:o}}):n("RelativeDocItemVertical",{attrs:{info:e,index:o}})]:t._e()],2)}))],2)]):t._e()}),[],!1,null,"6868f4f1",null));e.a=D.exports},function(t,e,n){"use strict";var o=n(5);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c={computed:r(r({},Object(o.mapState)(["eventBus"])),Object(o.mapGetters)(["isVip"])),methods:{show:function(){this.isVip?this.eventBus.emit("removeAds"):this.eventBus.emit("initNoAdDialog")}}},s=(n(306),n(4)),l=Object(s.default)(c,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hx-right-wrapper"},[e("div",{staticClass:"hx-right-up"},[e("span",{staticClass:"vip",on:{click:this.show}},[this._v("\n            VIP去广告 "),e("span",{staticClass:"icon"})])]),this._v(" "),e("div",{staticClass:"hx-right-bottom"},[e("span",{staticClass:"vip",on:{click:this.show}},[this._v("\n            VIP去广告 "),e("span",{staticClass:"icon"})])])])}),[],!1,null,null,null);e.a=l.exports},,function(t,e,n){"use strict";var o,i,r=n(14),a=n(2),c=n(6),s=n(3),l=[2147,2148,2149,2150],u=function(t,e,n){if(n=n||70,t.desc=t.desc.length>n?t.desc.substring(0,n)+"...":t.desc,e){var o=new RegExp(e,"g");t.title=t.title.replace(o,"<em>"+e+"</em>"),t.desc=t.desc.replace(o,"<em>"+e+"</em>")}return t},p=function(t){for(var e=0;e<l.length;e++)t&&!o&&(o="<script>"+t+"<\/script>");o&&Object(s.$)("body").append(o)},f=function(t,e){var n,o=Object(s.$)(".relative-doc-ad-wrapper"),i=t&&t.adPlaceJs;if(t[0]=t.adPlaceData[0],t[0]=u(t[0],"",20),t[0].url&&t[0].time_sign){for(var r=0;r<o.length;r++)n='<div class="knowledge-relative clearfix" data-pz-sign="'.concat(t[0].time_sign,'">\n                    <a href="').concat(t[0].url,'">\n                        <div class="desc">\n                            <p class="title">').concat(t[0].title,'</p>\n                            <div class="info">\n                                <span class="tag">广告</span>\n                                <span class="author">\n                                    ').concat(t[0].replier,'\n                                </span>\n                            </div>\n                        </div>\n                        <div class="img">\n                            <img src="').concat(t[0].pic_url,'">\n                        </div>\n                    </a>\n                </div>').trim(),o.eq(r).html(n).show();t&&a.log.xsend(102595,{index:2147,des:"show"})}p(i)},d=function(t,e){var n,o=t&&t.adPlaceJs;Object(s.$)(".hx-recom-wrapper").addClass("knowledge-recom"),t[0]=t.adPlaceData[0],t[0]=u(t[0],e),n='<div data-pz-sign="'.concat(t[0].time_sign,'">\n            <a href="').concat(t[0].url,'" class="knowledge-wrap">\n                <div class="clearfix">\n                    <div class="knowledge-info">\n                        <span>浏览过本文的用户也在看</span>\n                        <span class="knowledge-tag">广告</span>\n                    </div>\n                    <div class="knowledge-title"> ').concat(t[0].title,' </div>\n                    <div class="knowledge-des"> ').concat(t[0].desc,' </div>\n                    <span class="knowledge-btn fr">查看全文</span>\n                </div>\n            </a>\n            </div>').trim(),Object(s.$)(".hx-recom-wrapper").html(n);var i=Object(s.$)(".hx-recom-wrapper").outerHeight(!0),r=Object(s.$)(".try-end-fold-page").height()+i;Object(s.$)(".try-end-fold-page").height(r),Object(s.$)(".hx-recom-wrapper").show(),t&&a.log.xsend(102595,{index:2148,des:"show"}),p(o)},v=function(t,e){var n=0,o=4;e&&e.newImgLink&&(n=1,o=3),t&&a.log.xsend(102595,{index:2149,des:"show"});for(var i=t.adPlaceJs,r=n;o>0;r++){o--;var c=t.adPlaceData.shift();if(c){var l=void 0;c=u(c,"",80),Object(s.$)("#pageNo-"+(r+2)).length&&c&&(l='<div class="hx-warp">\n                        <div id="wkad2'.concat(r+1,'" data-pz-sign="').concat(c.time_sign,'">\n                            <a href="').concat(c.url,'">\n                                <div class="knowledge clearfix">\n                                    <div class="img fl">\n                                        <span class="knowledge-backPic"></span>\n                                    </div>\n                                    <div class="cont fl">\n                                        <div class="title">\n                                            <span class="txt">\n                                                ').concat(c.title,'\n                                            </span>\n                                            <span class="tag">\n                                                广告\n                                            </span>\n                                        </div>\n                                        <div class="con">\n                                            ').concat(c.desc,'\n                                        </div>\n                                    </div>\n                                    <span class="btn fr">查看全文</span>\n                                </div>\n                            </a>\n                        </div>\n                        <a class="ad-logo"></a>\n                    </div>').trim(),Object(s.$)("#pageNo-"+(r+1)).after(l))}}p(i)},h=function(t){var e=t&&t.adPlaceJs;if(t=t.adPlaceData){for(var n,o=0;o<t.length;o++)t[o]=u(t[o],"",50),n='<div class="item clearfix" data-pz-sign="'.concat(t[o].time_sign,'">'),t[o].pic_url&&(n+='<div class="img">\n                        <img src="'.concat(t[o].pic_url,'">\n                    </div>')),n+='<div class="con">\n                    <a href="'.concat(t[o].url,'">\n                        <p class="title">').concat(t[o].title,' </p>\n                        <p class="des">').concat(t[o].desc,' </p>\n                    </a>\n                    <span class="tag">广告</span>\n                </div>\n                <a class="btn" href="').concat(t[o].url,'">查看全文</a>\n            </div>');n='<div class="knowledge-bottom">\n                <h4 class="name">你可能关注的内容</h4>\n                '.concat(n,"\n            </div>").trim(),Object(s.$)(".hx-bottom-wrapper").append(n).show(),t&&a.log.xsend(102595,{index:2150,des:"show"})}p(e)},b=n(10),y={},m=0,g=[2147,2148,2149,2150];e.a={getData:function(t,e,n){return 0===m?(a.log.xsend(102595,{index:0,des:"req"}),m=1,i=new r.default((function(o,i){if(n){var r=b.b.state.docInfo.title;c.wkAxios.get("/ndview/interface/hx/zsyx",{params:{url:location.href,essQuery:r,query:t,eidstr:e+",50001"}}).then((function(t){m=2,y=t,function(t){for(var e=0;e<g.length;e++)t[g[e]]&&a.log.xsend(102595,{index:g[e],des:"res"})}(t),o(t)})).catch((function(t){m=2,y=t,o({})}))}else o({})}))):1===m?i:2===m&&y?y:void 0},render:function(t){var e=t.zsyxContent,n=t.zsyxPlaceId,o=t.brandContent,i=t.docTitle;if("{}"!==JSON.stringify(e)){var r={};if(r.adPlaceData=e[n]&&e[n].adPlaceData,r.adPlaceJs=e[n]&&e[n].adPlaceJs,r.adPlaceData=r.adPlaceData?JSON.parse(JSON.stringify(r.adPlaceData)):r.adPlaceData,r.adPlaceData)switch(n){case 2149:v(r,o);break;case 2148:d(r,i);break;case 2150:h(r);break;case 2147:f(r,i)}}}}},,,function(t,e,n){"use strict";var o=n(5),i=n(3),r=n(2),a=n(1),c=n(0);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=v(t);if(e){var i=v(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return d(this,n)}}function d(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(a,t);var e,n,o,i=f(a);function a(){return l(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"clickTag",value:function(t){var e=t.type,n=t.url;r.log.xsend(102299,{index:2===e?1:0}),window.open(n)}}])&&u(e.prototype,n),o&&u(e,o),a}(c.Vue);Object(a.a)([Object(c.Prop)(Array)],h.prototype,"tags",void 0);var b=h=Object(a.a)([Object(c.Component)({filters:{cutTag:function(t){var e=t.tag;return 2===t.type&&e.length>4?e.substring(0,4):e}}})],h),y=(n(338),n(4)),m=Object(y.default)(b,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"doc-tag-wrap"},t._l(t.tags,(function(e){return n("div",{key:e.url,staticClass:"tag",class:2===e.type?"special":"",on:{click:function(n){return t.clickTag(e)}}},[t._v("\n        "+t._s(t._f("cutTag")(e))+"\n    ")])})),0)}),[],!1,null,null,null).exports,g=n(53);function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=I(t);if(e){var i=I(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return P(this,n)}}function P(t,e){return!e||"object"!==_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(a,t);var e,n,o,i=j(a);function a(){var t;return w(this,a),(t=i.apply(this,arguments)).packState=1,t}return e=a,(n=[{key:"packUp",value:function(){r.log.xsend(102300),this.packState=2}}])&&O(e.prototype,n),o&&O(e,o),a}(c.Vue);Object(a.a)([Object(c.Prop)(String)],x.prototype,"summary",void 0);var k=x=Object(a.a)([c.Component],x),S=(n(339),Object(y.default)(k,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"doc-desc-wrap"},[e("div",{staticClass:"doc-desc"},[e("div",{staticClass:"pack-down"},[this._v(this._s(this.summary))])])])}),[],!1,null,null,null).exports),D=n(11);function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function R(t,e){return(R=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=N(t);if(e){var i=N(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return L(this,n)}}function L(t,e){return!e||"object"!==T(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&R(t,e)}(r,t);var e,n,o,i=A(r);function r(){var t;return E(this,r),(t=i.apply(this,arguments)).descVisible=!1,t}return e=r,(n=[{key:"clickOpen",value:function(){var t=!this.descVisible;this.descVisible=t}},{key:"isibleToggleDesc",get:function(){return this.docInfo.summary}}])&&V(e.prototype,n),o&&V(e,o),r}(c.Vue);Object(a.a)([Object(c.Prop)(Object)],$.prototype,"docInfo",void 0),Object(a.a)([Object(c.Prop)({type:Boolean,default:!1})],$.prototype,"isHiddenSize",void 0),Object(a.a)([Object(c.Prop)({type:Boolean,defalut:!1})],$.prototype,"isSecret",void 0);var G=$=Object(a.a)([Object(c.Component)({filters:{parseSize:function(t){return D.a.parseSize(t)},parseSizeUnit:function(t){return D.a.parseSizeUnit(t)},parseDate:function(t){return D.a.parseDate(1e3*t)}},components:{DocDesc:S}})],$),B=(n(340),Object(y.default)(G,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"doc-summary-wrap"},[t.isSecret?t._e():[t.docInfo.score?n("span",{staticClass:"doc-score"},[n("em",[t._v(t._s(t.docInfo.score)+"分（")]),t._v("超过"+t._s(t.docInfo.score_percentage)+"%的文档"),n("em",[t._v("）")])]):n("span",[t._v("暂无评分")]),t._v(" "),n("span",{staticClass:"divider"})],t._v(" "),n("span",[n("em",[t._v(t._s(t._f("parseNum")(t.docInfo.view_count)))]),t._v("阅读")]),t._v(" "),n("span",{staticClass:"divider"}),t._v(" "),n("span",[n("em",[t._v(t._s(t._f("parseNum")(t.docInfo.download_count)))]),t._v("下载")]),t._v(" "),n("span",{staticClass:"divider"}),t._v(" "),n("span",[n("em",[t._v(t._s(t._f("parseDate")(t.docInfo.create_time)))]),t._v("上传")]),t._v(" "),n("span",{staticClass:"divider"}),t._v(" "),n("span",[n("em",[t._v(t._s(t.docInfo.page))]),t._v("页")]),t._v(" "),n("span",{staticClass:"divider"}),t._v(" "),t.isHiddenSize?t._e():n("span",{staticClass:"size-box"},[n("em",[t._v(t._s(t._f("parseSize")(t.docInfo.size)))]),t._v(t._s(t._f("parseSizeUnit")(t.docInfo.size))+"\n    ")]),t._v(" "),t.isHiddenSize?t._e():n("span",{staticClass:"divider"}),t._v(" "),t.visibleToggleDesc?n("span",{staticClass:"link-open",class:{"icon-up":t.descVisible,"icon-down":!t.descVisible},on:{click:t.clickOpen}},[n("span",[t._v(t._s(t.descVisible?"收起":"展开"))])]):t._e(),t._v(" "),t.descVisible?n("DocDesc",{attrs:{summary:t.docInfo.summary}}):t._e()],2)}),[],!1,null,null,null).exports),M=n(8);function U(t){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function K(t,e){return(K=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function W(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=q(t);if(e){var i=q(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Y(this,n)}}function Y(t,e){return!e||"object"!==U(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function q(t){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var X=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&K(t,e)}(c,t);var e,n,o,a=W(c);function c(){return H(this,c),a.apply(this,arguments)}return e=c,(n=[{key:"fullScreen",value:function(){r.log.xsend(102307),Object(i.$)(window).trigger("on-full-screen")}},{key:"docInfo",get:function(){return this.docInfo2019.doc_info}},{key:"copyRightFlag",get:function(){return this.docInfo2019.copyright_flag||0}},{key:"docCategory",get:function(){var t,e;if(1==+this.copyRightFlag)return"独家";r.log.xsend(102761,{index:0});var n=null===(t=this.docInfo)||void 0===t?void 0:t.is_vip_free_doc;if(n)return r.log.xsend(102906,{index:0,vipFree:n}),"VIP免费";var o=(F(e={},M.a.TICKET,"共享"),F(e,M.a.CASH,"付费"),F(e,M.a.VIP_RIGHT,"VIP专享"),F(e,M.a.PRIVATE,"私有"),F(e,M.a.SECRET,"私密"),e),i=this.docInfo.doc_type;return r.log.xsend(102761,{index:1,vipFree:n,flag:i}),o[i]||""}},{key:"isProfessionalDoc",get:function(){var t;if(1==+this.copyRightFlag)return r.log.xsend(102761,{index:3}),"excl-doc";var e=this.docInfo.doc_type===M.a.VIP_RIGHT,n=null===(t=this.docInfo)||void 0===t?void 0:t.is_vip_free_doc;return 1==+e||n?(r.log.xsend(102761,{index:4,vipFree:n,professional:+e}),"professional-doc"):void 0}},{key:"isHorizontal",get:function(){return["2","5","3","6","14","15","11","10"].indexOf(this.docInfo.type)>-1}},{key:"coverListLength",get:function(){if(this.isHorizontal){var t=this.coverList||[];return r.log.xsend(102762,{index:t}),i._.isArray(t)&&t.length>=3&&+this.docInfo.page>=3?3:i._.isArray(t)&&t.length>0?1:0}return this.docInfo.cover_url?1:0}},{key:"covers",get:function(){var t=this.coverList||[],e=this.coverListLength;return 3===e?t.slice(0,3):1===e&&this.isHorizontal?t[0]:1!==e||this.isHorizontal?[]:this.docInfo.cover_url}},{key:"coverTitle",get:function(){var t=this.coverListLength,e=this.docInfo.title;if(this.isHorizontal&&0===t){if(e.length>12)return e.substring(0,12)+"..."}else if(!this.isHorizontal&&0===t&&e.length>16)return e.substring(0,15)+"...";return e}}])&&z(e.prototype,n),o&&z(e,o),c}(c.Vue);Object(a.a)([Object(c.Prop)()],X.prototype,"coverList",void 0),Object(a.a)([Object(c.Prop)()],X.prototype,"docInfo2019",void 0);var J=X=Object(a.a)([c.Component],X),Q=(n(341),Object(y.default)(J,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"doc-cover-wrap",on:{click:t.fullScreen}},[t.isHorizontal?[3===t.coverListLength?[n("div",{staticClass:"horizontal pin-shape"},[n("div",{staticClass:"doc-cover top",style:{backgroundImage:"url("+t.covers[0]+")"}}),t._v(" "),n("div",{staticClass:"doc-cover left-bottom",style:{backgroundImage:"url("+t.covers[1]+")"}}),t._v(" "),n("div",{staticClass:"doc-cover right-bottom",style:{backgroundImage:"url("+t.covers[2]+")"}}),t._v(" "),n("div",{staticClass:"doc-category",class:[t.isProfessionalDoc]},[t._v(t._s(t.docCategory))])])]:1===t.coverListLength?[n("div",{staticClass:"horizontal"},[n("div",{staticClass:"doc-cover",style:{backgroundImage:"url("+t.covers+")"}}),t._v(" "),n("div",{staticClass:"doc-category",class:[t.isProfessionalDoc]},[t._v(t._s(t.docCategory))])])]:[n("div",{staticClass:"horizontal horizontal-default"},[n("h3",{staticClass:"doc-title"},[t._v(t._s(t.coverTitle))]),t._v(" "),n("div",{staticClass:"doc-category",class:[t.isProfessionalDoc]},[t._v(t._s(t.docCategory))])])]]:[1===t.coverListLength?[n("div",{staticClass:"vertical"},[n("div",{staticClass:"doc-cover doc-cover-scale",style:{backgroundImage:"url("+t.docInfo.cover_url+")"}}),t._v(" "),n("div",{staticClass:"doc-category",class:[t.isProfessionalDoc]},[t._v(t._s(t.docCategory))])])]:[n("div",{staticClass:"vertical vertical-default"},[n("h3",{staticClass:"doc-title"},[t._v(t._s(t.coverTitle))]),t._v(" "),n("div",{staticClass:"doc-category",class:[t.isProfessionalDoc]},[t._v(t._s(t.docCategory))])])]]],2)}),[],!1,null,"b5d8c114",null).exports);function Z(t){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function et(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function nt(t,e){return(nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=rt(t);if(e){var i=rt(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return it(this,n)}}function it(t,e){return!e||"object"!==Z(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rt(t){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var at=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nt(t,e)}(r,t);var e,n,o,i=ot(r);function r(){var t;return tt(this,r),(t=i.apply(this,arguments)).showSuccess=!1,t.reportUrl="",t}return e=r,(n=[{key:"handleClose",value:function(){this.showSuccess=!1,clearTimeout(this.timer)}},{key:"copyEmail",value:function(){var t=this;document.getElementById("email-input").select(),document.execCommand("Copy"),this.showSuccess=!0,this.timer=setTimeout((function(){t.showSuccess=!1}),3e3)}}])&&et(e.prototype,n),o&&et(e,o),r}(c.Vue);Object(a.a)([Object(c.Prop)(Boolean)],at.prototype,"visible",void 0),Object(a.a)([Object(c.Emit)("closeClaimPop")],at.prototype,"handleClose",null);var ct=at=Object(a.a)([c.Component],at),st=(n(342),Object(y.default)(ct,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("div",{staticClass:"claim-dialog"},[n("div",{staticClass:"dialog-mask"}),t._v(" "),n("div",{staticClass:"claim-wrap"},[n("p",{staticClass:"header"},[t._v("认领")]),t._v(" "),n("div",{staticClass:"btn-close",on:{click:t.handleClose}}),t._v(" "),n("div",{staticClass:"cont"},[n("p",{staticClass:"title"},[t._v("如您为此篇文档作者，可提供证明材料申请认领，获取版权文档收益并下架侵权文档：")]),t._v(" "),t._m(0),t._v(" "),n("p",{staticClass:"title t-color email-wrap"},[t._v("申请邮箱：\n                "),n("input",{staticClass:"email-input",attrs:{type:"text",id:"email-input",value:"wenku-renling@baidu.com",readonly:"readonly"}}),t._v(" "),n("span",{staticClass:"email-text"},[t._v("wenku-renling@baidu.com")]),t._v(" "),n("a",{staticClass:"btn btn-copy",on:{click:t.copyEmail}},[t._v("复制")]),t._v(" "),t.showSuccess?n("span",{staticClass:"success-tip"},[t._v("复制成功")]):t._e()]),t._v(" "),n("p",{staticClass:"title t-color mb18"},[t._v("证明材料：")]),t._v(" "),n("p",{staticClass:"list"},[t._v("1、侵权文档文库链接地址")]),t._v(" "),t._m(1),t._v(" "),n("p",{staticClass:"list"},[t._v("3、身份证明材料：身份证正面照 / 护照身份页照片")]),t._v(" "),n("p",{staticClass:"list"},[t._v("4、版权证明材料：作品认证证书 / 作品登记证书 / 已署名的出版物")])]),t._v(" "),t._m(2)])]):t._e()}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"step-wrap"},[n("div",[n("span",{staticClass:"step step1"}),t._v(" "),n("p",{staticClass:"desc"},[t._v("发送申请邮件")])]),t._v(" "),n("div",{staticClass:"next"}),t._v(" "),n("div",[n("span",{staticClass:"step step2"}),t._v(" "),n("p",{staticClass:"desc"},[t._v("审核")]),t._v(" "),n("p",{staticClass:"small-desc"},[t._v("（1-2个工作日）")])]),t._v(" "),n("div",{staticClass:"next"}),t._v(" "),n("div",[n("span",{staticClass:"step step3"}),t._v(" "),n("p",{staticClass:"desc"},[t._v("认领结果答复")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"list"},[this._v("2、您的版权文档文库链接地址：如尚无，请先"),e("a",{staticClass:"btn btn-upload",attrs:{href:"/new?fr=claim",target:"_blank"}},[this._v("上传")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"footer-wrap"},[e("p",[e("span",{staticClass:"at-icon"}),this._v("专属客服：QQ 800049878   "),e("span",{staticClass:"tel"},[this._v("电话 ")]),this._v("400-921-7005")])])}],!1,null,"9d2bb40a",null).exports),lt=[{value:1,text:"广告或垃圾信息"},{value:2,text:"色情、淫秽、低俗信息"},{value:3,text:"反政府、反人类、反社会等反动信息"},{value:4,text:"散布赌博、暴力、凶杀、恐怖或者教唆犯罪等信息"},{value:5,text:"侮辱、诽谤等人身攻击信息"},{value:6,text:"散布谣言、扰乱社会秩序，破坏社会稳定等信息"}];function ut(t){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ft(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function dt(t,e){return(dt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=bt(t);if(e){var i=bt(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return ht(this,n)}}function ht(t,e){return!e||"object"!==ut(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bt(t){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dt(t,e)}(r,t);var e,n,o,i=vt(r);function r(){return pt(this,r),i.apply(this,arguments)}return e=r,(n=[{key:"handleClose",value:function(){this.closeReportPop()}},{key:"elStyle",get:function(){return{width:(this.width||500)+"px",height:this.height?"$(this.height}px":"auto",marginLeft:(-this.width/2||-250)+"px",marginTop:this.height?-this.height/2+"px":"-200px"}}}])&&ft(e.prototype,n),o&&ft(e,o),r}(c.Vue);Object(a.a)([Object(c.Prop)()],yt.prototype,"visible",void 0),Object(a.a)([Object(c.Prop)()],yt.prototype,"title",void 0),Object(a.a)([Object(c.Prop)()],yt.prototype,"width",void 0),Object(a.a)([Object(c.Prop)()],yt.prototype,"height",void 0),Object(a.a)([Object(c.Prop)()],yt.prototype,"closeReportPop",void 0);var mt=yt=Object(a.a)([c.Component],yt),gt=(n(343),Object(y.default)(mt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("div",{staticClass:"dialog-wrap"},[n("div",{staticClass:"dialog-mask"}),t._v(" "),n("div",{staticClass:"dialog-el",style:t.elStyle},[n("div",{staticClass:"dialog-head"},[n("div",{staticClass:"dialog-title"},[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"link-close",on:{click:t.handleClose}})]),t._v(" "),n("div",{staticClass:"dialog-body"},[t._t("dialog-body")],2),t._v(" "),n("div",{staticClass:"dialog-foot"},[t._t("dialog-foot")],2)])]):t._e()}),[],!1,null,"ce9c2d2c",null).exports);function _t(t){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ot(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ct(t,e){return(Ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=It(t);if(e){var i=It(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Pt(this,n)}}function Pt(t,e){return!e||"object"!==_t(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function It(t){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ct(t,e)}(r,t);var e,n,o,i=jt(r);function r(){return wt(this,r),i.apply(this,arguments)}return e=r,(n=[{key:"handleClose",value:function(){}},{key:"errCode",get:function(){return+this.errno}},{key:"width",get:function(){return 400}}])&&Ot(e.prototype,n),o&&Ot(e,o),r}(c.Vue);Object(a.a)([Object(c.Prop)()],xt.prototype,"errno",void 0),Object(a.a)([Object(c.Prop)()],xt.prototype,"visible",void 0),Object(a.a)([Object(c.Emit)("closeReportCbPop")],xt.prototype,"handleClose",null);var kt=xt=Object(a.a)([Object(c.Component)({components:{"ui-dialog":gt}})],xt),St=(n(344),Object(y.default)(kt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"doc-report-dialog-cb-wrap"},[n("ui-dialog",{attrs:{visible:t.visible,title:"提示",width:t.width,closeReportPop:t.handleClose}},[n("template",{slot:"dialog-body"},[n("div",{staticClass:"dialog-body-wrap"},[0===t.errCode?[n("h2",{staticClass:"report-success-icon"}),t._v(" "),n("div",{staticClass:"align-left"},[n("p",[t._v("\n                            您的举报已收到，我们会尽快进行核实处理。\n                        ")]),t._v(" "),n("p",[t._v("\n                            感谢您为绿化文库做的努力，欢迎您加入\n                            "),n("a",{attrs:{href:"/event/bqbh",target:"_blank"}},[t._v("绿色文库行动团")]),t._v("，\n                            共同维护健康良好的分享、阅读环境。\n                        ")])])]:2===t.errCode?[n("h2",[t._v("未登录")]),t._v(" "),n("p",[t._v("可能登录时间超时，请您重新登录后再举报。")])]:3===t.errCode?[n("h2",[t._v("举报失败")]),t._v(" "),n("p",[t._v("用户已被封禁")])]:5===t.errCode?[n("h2",[t._v("温馨提示")]),t._v(" "),n("p",[t._v("可能是您的举报过于频繁，建议您稍微休息一下再试吧")])]:6===t.errCode?[n("div",{staticClass:"align-left"},[n("p",[t._v("\n                            已经有用户对此文档进行举报操作，文库正在核实处理，\n                            请您稍后重试。感谢您的关注与反馈！\n                        ")]),t._v(" "),n("p",[t._v("\n                            感谢您为绿色文库做出的努力，欢迎您加入\n                            "),n("a",{attrs:{href:"/event/bqbh",target:"_blank"}},[t._v("绿色文库行动团")]),t._v("，\n                            共同维护健康良好的分享、阅读环境。\n                        ")])])]:7===t.errCode?[n("h2",[t._v("举报失败")]),n("p",[t._v("文件过大")])]:8===t.errCode?[n("h2",[t._v("举报失败")]),n("p",[t._v("非法文件名")])]:9===t.errCode?[n("h2",[t._v("举报失败")]),n("p",[t._v("非法文件格式")])]:11===t.errCode?[n("h2",[t._v("举报失败")]),n("p",[t._v("参数错误")])]:49===t.errCode?[n("div",{staticClass:"align-left"},[n("p",[t._v("\n                            这是您上传的公开文档，请勿进行举报操作。若因侵权等问题不适宜公开，请在\n                            "),n("a",{attrs:{href:"/user/doc",target:"_blank"}},[t._v("我的文档")]),t._v("\n                            进行删除或转为私有文档操作。\n                        ")])])]:t._e()],2)]),t._v(" "),n("template",{slot:"dialog-foot"},[n("div",{staticClass:"dialog-btns-wrap"},[n("div",{staticClass:"btn-close",on:{click:t.handleClose}},[t._v("关闭")])])])],2)],1)}),[],!1,null,null,null).exports);function Dt(t){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Et(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Vt(t,e){return(Vt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Rt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Lt(t);if(e){var i=Lt(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return At(this,n)}}function At(t,e){return!e||"object"!==Dt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Lt(t){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vt(t,e)}(a,t);var e,n,o,r=Rt(a);function a(){var t;return Tt(this,a),(t=r.apply(this,arguments)).value="",t.tipText="",t.btnTextSendCode="发送验证码",t.btnDisabledSend=!1,t}return e=a,(n=[{key:"handleTipText",value:function(t,e){68===t&&(this.tipText="验证码错误！");var n="",o=this.errCode;this.visible&&68===o&&(n="验证码错误！"),this.tipText=n}},{key:"handleConfirm",value:function(){var t=this.value;return/^\d{6}$/.test(t)?t:(this.tipText="请正确输入6位数字验证码！",-1)}},{key:"handleSend",value:function(){var t=this,e=60,n=this.docInfo2019.doc_info.show_doc_id;i.$.ajax({url:"/report/interface/sendReportPin",data:{doc_id:n},type:"POST"}),this.btnDisabledSend="disabled";var o=setInterval((function(){--e?t.btnTextSendCode="重新发送验证码（".concat(e,"）"):(clearInterval(o),t.btnTextSendCode="重新发送验证码",t.btnDisabledSend=!1)}),1e3)}},{key:"handleClose",value:function(){}},{key:"errCode",get:function(){return+this.errno}}])&&Et(e.prototype,n),o&&Et(e,o),a}(c.Vue);Object(a.a)([Object(c.Prop)()],Nt.prototype,"visible",void 0),Object(a.a)([Object(c.Prop)()],Nt.prototype,"errno",void 0),Object(a.a)([Object(c.Prop)()],Nt.prototype,"docInfo2019",void 0),Object(a.a)([Object(c.Watch)("errCode")],Nt.prototype,"handleTipText",null),Object(a.a)([Object(c.Emit)("confirmReport")],Nt.prototype,"handleConfirm",null),Object(a.a)([Object(c.Emit)("closeValidatePop")],Nt.prototype,"handleClose",null);var $t=Nt=Object(a.a)([Object(c.Component)({components:{"ui-dialog":gt}})],Nt),Gt=(n(345),Object(y.default)($t,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"validate-dialog-cb-wrap"},[n("ui-dialog",{attrs:{visible:t.visible,title:"请输入手机验证码",width:"380",closeReportPop:t.handleClose}},[n("div",{staticClass:"dialog-body-wrap",attrs:{slot:"dialog-body"},slot:"dialog-body"},[n("div",[n("label",{staticClass:"send-input-label"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{type:"text"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}})]),t._v(" "),n("button",{staticClass:"btn-send-code",attrs:{disabled:t.btnDisabledSend},on:{click:t.handleSend}},[t._v("\n                    "+t._s(t.btnTextSendCode)+"\n                ")])]),t._v(" "),n("div",{staticClass:"dialog-tip"},[t._v(t._s(t.tipText))])]),t._v(" "),n("div",{staticClass:"dialog-btns-wrap",attrs:{slot:"dialog-foot"},slot:"dialog-foot"},[n("div",{staticClass:"btn-confirm",on:{click:t.handleConfirm}},[t._v("\n                确定\n            ")]),t._v(" "),n("div",{staticClass:"btn-close",on:{click:t.handleClose}},[t._v("\n                关闭\n            ")])])])],1)}),[],!1,null,null,null).exports);function Bt(t){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ut(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ft(t,e){return(Ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ht(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Kt(t);if(e){var i=Kt(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return zt(this,n)}}function zt(t,e){return!e||"object"!==Bt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Kt(t){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ft(t,e)}(r,t);var e,n,o,i=Ht(r);function r(){return Mt(this,r),i.apply(this,arguments)}return e=r,(n=[{key:"handleConfirm",value:function(){this.handleClose();var t=this.onConfirm;t&&t()}},{key:"handleClose",value:function(){return"alert"}},{key:"elStyle",get:function(){return{width:this.width?"".concat(this.width,"px"):"500px",height:this.height?"".concat(this.height,"px"):"auto","margin-left":this.width?"-".concat(this.width/2,"px"):"-250px","margin-top":this.height?"-".concat(this.height/2,"px"):"-200px"}}}])&&Ut(e.prototype,n),o&&Ut(e,o),r}(c.Vue);Object(a.a)([Object(c.Prop)()],Wt.prototype,"visible",void 0),Object(a.a)([Object(c.Prop)()],Wt.prototype,"onConfirm",void 0),Object(a.a)([Object(c.Prop)({default:"提示"})],Wt.prototype,"title",void 0),Object(a.a)([Object(c.Prop)()],Wt.prototype,"content",void 0),Object(a.a)([Object(c.Prop)()],Wt.prototype,"confimBtnText",void 0),Object(a.a)([Object(c.Prop)()],Wt.prototype,"width",void 0),Object(a.a)([Object(c.Prop)()],Wt.prototype,"height",void 0),Object(a.a)([Object(c.Emit)("closeModal")],Wt.prototype,"handleClose",null);var Yt=Wt=Object(a.a)([c.Component],Wt),qt=(n(346),Object(y.default)(Yt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("div",{staticClass:"alert-wrap"},[n("div",{staticClass:"alert-mask"}),t._v(" "),n("div",{staticClass:"alert-el",style:t.elStyle},[n("div",{staticClass:"alert-head"},[n("div",{staticClass:"alert-title"},[t._v(t._s(t.title||"提示"))]),t._v(" "),n("div",{staticClass:"link-close",on:{click:t.handleClose}})]),t._v(" "),n("div",{staticClass:"alert-body"},[n("div",{staticClass:"alert-body-wrap"},[t._v(t._s(t.content))])]),t._v(" "),n("div",{staticClass:"alert-foot"},[n("div",{staticClass:"alert-btns-wrap"},[n("div",{staticClass:"btn-confirm",on:{click:t.handleConfirm}},[t._v("\n                        "+t._s(t.confimBtnText||"确定")+"\n                    ")])])])])]):t._e()}),[],!1,null,"618ef4bc",null).exports);function Xt(t){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Zt(t,e){return(Zt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function te(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=ne(t);if(e){var i=ne(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return ee(this,n)}}function ee(t,e){return!e||"object"!==Xt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ne(t){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var oe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zt(t,e)}(r,t);var e,n,o,i=te(r);function r(){return Jt(this,r),i.apply(this,arguments)}return e=r,(n=[{key:"handleConfirm",value:function(){this.handleClose();var t=this.onConfirm;t&&t()}},{key:"handleClose",value:function(){return"confirm"}},{key:"elStyle",get:function(){return{width:this.width?"".concat(this.width,"px"):"500px",height:this.height?"".concat(this.height,"px"):"auto","margin-left":this.width?"-".concat(this.width/2,"px"):"-250px","margin-top":this.height?"-".concat(this.height/2,"px"):"-200px"}}}])&&Qt(e.prototype,n),o&&Qt(e,o),r}(c.Vue);Object(a.a)([Object(c.Prop)()],oe.prototype,"visible",void 0),Object(a.a)([Object(c.Prop)({default:"提示"})],oe.prototype,"title",void 0),Object(a.a)([Object(c.Prop)({default:""})],oe.prototype,"content",void 0),Object(a.a)([Object(c.Prop)()],oe.prototype,"confimBtnText",void 0),Object(a.a)([Object(c.Prop)()],oe.prototype,"width",void 0),Object(a.a)([Object(c.Prop)()],oe.prototype,"height",void 0),Object(a.a)([Object(c.Prop)()],oe.prototype,"onConfirm",void 0),Object(a.a)([Object(c.Emit)("closeModal")],oe.prototype,"handleClose",null);var ie=oe=Object(a.a)([c.Component],oe),re=(n(347),Object(y.default)(ie,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("div",{staticClass:"confirm-wrap"},[n("div",{staticClass:"confirm-mask"}),t._v(" "),n("div",{staticClass:"confirm-el",style:t.elStyle},[n("div",{staticClass:"confirm-head"},[n("div",{staticClass:"confirm-title"},[t._v(t._s(t.title||"提示"))]),t._v(" "),n("div",{staticClass:"link-close",on:{click:t.handleClose}})]),t._v(" "),n("div",{staticClass:"confirm-body"},[n("div",{staticClass:"confirm-body-wrap"},[t._v(t._s(t.content))])]),t._v(" "),n("div",{staticClass:"confirm-foot"},[n("div",{staticClass:"confirm-btns-wrap"},[n("div",{staticClass:"btn-confirm",on:{click:t.handleConfirm}},[t._v("\n                    "+t._s(t.confimBtnText||"确定")+"\n                ")]),t._v(" "),n("div",{staticClass:"btn-cancel",on:{click:t.handleConfirm}},[t._v("\n                    "+t._s(t.confimBtnText||"取消")+"\n                ")])])])])]):t._e()}),[],!1,null,"1907b8a4",null).exports),ae=n(17),ce=n.n(ae);function se(t){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function le(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ue(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function pe(t,e){return(pe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=ve(t);if(e){var i=ve(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return de(this,n)}}function de(t,e){return!e||"object"!==se(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ve(t){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var he=new ce.a,be=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pe(t,e)}(a,t);var e,n,o,r=fe(a);function a(){var t;return le(this,a),(t=r.apply(this,arguments)).hasReport=0,t.reasons=lt,t.reasonVal=-1,t.isReportStatusChecking=!1,t.visibleDialogCb=!1,t.visibleDialogValidate=!1,t.errno="0",t.visible=!1,t.showAlertModal=!1,t.showConfirmModal=!1,t}return e=a,(n=[{key:"handleVisible",value:function(t,e){t&&(this.handleWithLogin(),this.reasonVal=-1)}},{key:"confirmReport",value:function(t){-1!==t&&(this.postVipReport(t),this.visibleDialogValidate=!1)}},{key:"handleChecked",value:function(t){this.reasonVal=t}},{key:"handelSubmit",value:function(){var t=this,e=this.reasonVal;if(-1!==e){if(9===e){var n="https://wenku.baidu.com/report?doc_id=".concat(this.docId);window.open(n)}else{this.isReportStatusChecking=!0;var o={doc_id:this.docId,ct:20116,report_reason:e};8==+e&&(o.extra_info="noURL"),i.$.ajax({url:"/report/submit/reportSubmit",data:o,type:"POST",dataType:"json",success:function(e){t.submitCallBack(e),t.isReportStatusChecking=!1}})}this.visible=!1,this.$emit("update:showReportPop",!1)}}},{key:"postVipReport",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this,n=this.docId,o=this.reasonVal;this.isReportStatusChecking=!0;var r={doc_id:n,ct:20116,report_reason:o,extra_info:"noURL",pin:t};i.$.ajax({url:"/report/submit/reportSubmit",data:r,type:"POST",dataType:"json",success:function(t){e.submitCallBack(t),e.isReportStatusChecking=!1}})}},{key:"handleCancel",value:function(){this.visible=!1,this.$emit("update:showReportPop",!1)}},{key:"handleWithLogin",value:function(){var t=this,e=this.isLogin,n=this.hasReport;e?0!=+n?this.submitCallBack({errno:n}):this.checkReportStatus((function(e){return t.checkCallBack(e)})):he.log()}},{key:"checkReportStatus",value:function(t){if(!this.isReportStatusChecking){var e=this;this.isReportStatusChecking=!0;var n=this.docId;i.$.ajax({url:"/report/interface/reportPreCheck",data:{doc_id:n},type:"POST",dataType:"json",success:function(n){t(n),e.isReportStatusChecking=!1}})}}},{key:"checkCallBack",value:function(t){var e=t.errno,n=t.isGreenPassport;this.errno=e,0==+e?1==+n?this.showVipPop():this.showPop():this.showDialogCb(+e)}},{key:"showVipPop",value:function(){this.hasReport||(this.showConfirmModal=!0)}},{key:"showPop",value:function(){this.visible=!0}},{key:"submitCallBack",value:function(t){var e=t.errno,n=t.isGreenPassport;this.errno=e,0==+e?1==+n?this.showAlertModal=!0:this.showDialogCb(+e):67==+e||68==+e?this.visibleDialogValidate=!0:this.checkCallBack(t)}},{key:"showDialogCb",value:function(t){this.visibleDialogCb=!0}},{key:"closeReportCbPop",value:function(){this.visibleDialogCb=!1,this.$emit("update:showReportPop",!1)}},{key:"closeValidatePop",value:function(){this.visibleDialogValidate=!1,this.$emit("update:showReportPop",!1)}},{key:"closeModal",value:function(t){"alert"===t?this.showAlertModal=!1:this.showConfirmModal=!1,this.$emit("update:showReportPop",!1)}},{key:"handleToDetailedReport",value:function(){var t=this.docId,e="https://wenku.baidu.com/report?doc_id=".concat(t);window.open(e)}}])&&ue(e.prototype,n),o&&ue(e,o),a}(c.Vue);Object(a.a)([Object(c.Prop)()],be.prototype,"docInfo2019",void 0),Object(a.a)([Object(c.Prop)()],be.prototype,"docId",void 0),Object(a.a)([Object(c.Prop)()],be.prototype,"isLogin",void 0),Object(a.a)([Object(c.Prop)()],be.prototype,"showReportPop",void 0),Object(a.a)([Object(c.Watch)("showReportPop")],be.prototype,"handleVisible",null);var ye=be=Object(a.a)([Object(c.Component)({components:{"ui-dialog":gt,DialogCb:St,DialogValidate:Gt,AlertModal:qt,ConfirmModal:re}})],be),me=(n(348),Object(y.default)(ye,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"doc-report-wrap"},[n("DialogCb",{attrs:{visible:t.visibleDialogCb,errno:t.errno},on:{closeReportCbPop:t.closeReportCbPop}}),t._v(" "),n("DialogValidate",{attrs:{visible:t.visibleDialogValidate,errno:t.errno,docInfo2019:t.docInfo2019},on:{closeValidatePop:t.closeValidatePop,confirmReport:t.confirmReport}}),t._v(" "),n("ui-dialog",{attrs:{visible:t.visible,title:"此文档是否涉及侵权？",width:"560",closeReportPop:t.handleCancel}},[n("template",{slot:"dialog-body"},[n("div",{staticClass:"dialog-body-wrap"},[n("form",{staticClass:"report-form",attrs:{target:"_blank"}},[n("div",{staticClass:"conclusion"},[t._v("是的，这个文档侵犯了我或者他人的权利：")]),t._v(" "),n("div",[n("input",{attrs:{type:"radio",value:"9",name:"report-reason",id:"report-reason-9",hidefocus:"true"},domProps:{checked:9===t.reasonVal},on:{click:function(e){return t.handleChecked(9)}}}),t._v(" "),n("label",{attrs:{for:"report-reason-9"}},[n("span",{staticClass:"stress"},[t._v("\n                                盗版或侵权\n                            ")]),t._v("\n                            未获得权利人的合法授权、侵犯个人隐私或泄露单位商业机密\n                        ")])]),t._v(" "),n("div",{staticClass:"report-item-child",style:{display:9===t.reasonVal?"block":"none"}},[n("div",[t._v("\n                            处理此类举报需要您提供更多信息，请按引导\n                            "),n("span",{staticClass:"link-to-detailed-report",on:{click:t.handleToDetailedReport}},[t._v("\n                                上传相关材料\n                            ")]),t._v("，这样会有助您成功举报。\n                        ")])]),t._v(" "),n("div",{staticClass:"report-reason-all"},[n("div",{staticClass:"conclusion"},[t._v("\n                            否，这个文档是违规文档：\n                        ")]),t._v(" "),t._l(t.reasons,(function(e){return n("div",[n("input",{attrs:{type:"radio",name:"report-reason",id:"report-reason-"+e.value,hidefocus:"true"},domProps:{value:e.value,checked:t.reasonVal===e.value},on:{click:function(n){return t.handleChecked(e.value)}}}),t._v(" "),n("label",{attrs:{for:"report-reason-"+e.value}},[t._v("\n                                "+t._s(e.text)+"\n                            ")])])}))],2)])])]),t._v(" "),n("template",{slot:"dialog-foot"},[n("div",{staticClass:"dialog-btns-wrap"},[n("div",{staticClass:"btn-submit",class:-1===t.reasonVal?"disabled":"",on:{click:t.handelSubmit}},[t._v("\n                    "+t._s(9===t.reasonVal?"上传材料":"提交")+"\n                ")]),t._v(" "),n("div",{staticClass:"btn-cancel",on:{click:t.handleCancel}},[t._v("取消")])])])],2),t._v(" "),n("AlertModal",{attrs:{content:"快速举报成功！",visible:t.showAlertModal},on:{closeModal:t.closeModal}}),t._v(" "),n("ConfirmModal",{attrs:{title:"举报确认",content:"您是否确认举报该文档为盗版？",onConfirm:t.postVipReport,visible:t.showConfirmModal},on:{closeModal:t.closeModal}})],1)}),[],!1,null,"f82e6d12",null).exports),ge=n(120),_e=n(71),we=n(12),Oe=(n(18),n(46)),Ce=n(244),je=n(243);function Pe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Ie(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pe(Object(n),!0).forEach((function(e){xe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ke=new ce.a,Se={components:{CoreBtn:_e.a,DocClaim:st,DocReport:me,Share:ge.a,CollectionDialog:Ce.a,ClientBtn:je.a},data:function(){return{showClaimPop:!1,showShareTipDocInfo:!1,showReportPop:!1,shareType:"",from:"docInfo",downloader:void 0,shareInfo:{source:"",from:"docInfo",cPosition:"absolute",direction:"bottom",zIndex:151,docId:""}}},computed:Ie(Ie(Ie({},Object(o.mapState)(["scrollObject","pageData","isLogin"])),Object(o.mapGetters)(["docInfo2019","docId","wkSmallflow","isVip","isSecret"])),{},{curDocInfo:function(){return this.docInfo2019.doc_info},collect:function(){return this.curDocInfo.is_inroom||0},showReportBtn:function(){this.pageData.docInfo2019.is_copyright;return(2==+this.curDocInfo.main_status||this.isSecret)&&0===this.curDocInfo.is_creater},showCloudStorageBtn:function(){return+this.docInfo2019.doc_info.doc_type===M.a.TICKET&&!this.isSecret},showConvertBtn:function(){return+this.docInfo2019.doc_info.doc_type!==M.a.CASH&&!this.isSecret},showDocClaimBtn:function(){return!(1==+this.curDocInfo.is_creater||1==+this.docInfo2019.is_copyright)&&!this.isSecret},showEditBtn:function(){var t=this.curDocInfo||{},e=this.pageData.reader_type;return!(t.modifyLock||1==+t.main_status||1==+t.is_legion_doc||!t.is_creater||"reader_html_editor"===e&&!t.editorDocId||this.isSecret)},isCreater:function(){return 1==+this.pageData.docInfo2019.doc_info.is_creater},distributionType:function(){M.a.TICKET;var t=M.a.CASH,e=M.a.VIP_RIGHT,n=(M.a.PRIVATE,this.docInfo2019.doc_info);return n.doc_type===t||n.doc_type===e}}),mounted:function(){this.downloader=Oe.a.createDownload()},methods:{closeClaimPop:function(t){this.showClaimPop=!1},gotoCopyright:function(){this.isLogin?this.showClaimPop=!0:ke.log()},collectDoc:function(){this.$refs.collectDialog.handleCollection()},shareDoc:function(){var t=Object(i.$)("#doc-info-share-btn"),e=t.offset(),n=t.height(),o=t.width(),r=e&&"number"==typeof n?e.top+n:-9999,a=e&&"number"==typeof o?e.left-(156-o)/2:-9999;if(this.shareInfo={source:t,from:this.from,cPosition:"absolute",direction:"bottom",cTop:r,cLeft:a,zIndex:202,docId:this.docId},this.distributionType){if(!this.isLogin)return void ke.log();this.shareType="distribution",this.showShareTipDocInfo=!0}else this.shareType="normal",this.showShareTipDocInfo=!this.showShareTipDocInfo},closeShareTip:function(){this.showShareTipDocInfo=!1},reportEvent:function(){r.log.xsend(102305),this.showReportPop=!0},gotoCloudStorage:function(){if(r.log.xsend(101838,{from:this.from}),this.isVip)this.downloader.dump();else{var t=Object(we.b)("https://wenku.baidu.com/ndbusiness/browse/wenkuvipcashier",{},"ReaderTopToolbarTransWangpan");location.href=t}},gotoEdit:function(){var t=this.curDocInfo||{},e=this.docId;if("reader_html_editor"===this.pageData.reader_type){var n="https://wenku.baidu.com/user/browse/editordoc?"+i.$.param({id:t.editorDocId,fr:"view"});window.open(n)}else window.open("https://wenku.baidu.com/new?act=update&id=".concat(e,"&fr=view"))},gotoConvert:function(){this.isLogin?window.open("https://wenku.baidu.com/user/browse/huixueconvert?cc=view_TopToolbar_convert"):ke.log()}},watch:{scrollObject:function(t){var e=t.top;if("distribution"!==this.shareType){var n=Object(i.$)(".header-wrapper");e>(Object(i.$)(".doc-info-wrapper").offset()||{top:0}).top+Number(n.height())-50&&(this.showShareTipDocInfo=!1)}}}},De=(n(349),Object(y.default)(Se,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"doc-btns-wrap"},[n("CoreBtn",{attrs:{from:"summary"}}),t._v(" "),t.isSecret?t._e():n("div",{staticClass:"small-btn collect-btn",on:{click:t.collectDoc}},[n("i",{staticClass:"collect-icon",class:t.collect?"has-collect":"not-collect"}),t._v(" "),n("span",[t._v("收藏")])]),t._v(" "),t.isSecret?t._e():n("div",{staticClass:"small-btn share-btn",attrs:{id:"doc-info-share-btn"},on:{click:t.shareDoc}},[n("i",{staticClass:"share-icon"}),t._v(" "),n("span",[t._v("分享")])]),t._v(" "),t.showCloudStorageBtn?n("div",{staticClass:"small-btn cloud-storage-btn",on:{click:t.gotoCloudStorage}},[n("i",{staticClass:"cloud-storage-icon"}),t._v(" "),n("span",[t._v("转存")])]):t._e(),t._v(" "),t.showConvertBtn?n("div",{staticClass:"small-btn convert-btn",on:{click:t.gotoConvert}},[n("i",{staticClass:"convert-icon"}),t._v(" "),n("span",[t._v("转换")])]):t._e(),t._v(" "),t.showReportBtn?n("div",{staticClass:"small-btn report-btn",class:{mgl30:t.isSecret&&!t.isCreater},attrs:{"data-has-report":"0"},on:{click:t.reportEvent}},[n("i",{staticClass:"report-icon"}),t._v(" "),n("span",[t._v("举报")])]):t._e(),t._v(" "),t.showDocClaimBtn?n("div",{staticClass:"small-btn copyright-btn",on:{click:t.gotoCopyright}},[n("i",{staticClass:"copyright-icon"}),t._v(" "),n("span",[t._v("认领")])]):t._e(),t._v(" "),t.showEditBtn?n("div",{staticClass:"small-btn edit-btn",class:{mgl30:t.isSecret},on:{click:t.gotoEdit}},[n("i",{staticClass:"edit-icon"}),t._v(" "),n("span",[t._v("修改")])]):t._e(),t._v(" "),n("ClientBtn",{attrs:{location:"docHeadInfo"}}),t._v(" "),n("Share",{attrs:{shareInfo:t.shareInfo,visible:t.showShareTipDocInfo,shareType:t.shareType},on:{closeShareTip:t.closeShareTip}}),t._v(" "),n("DocReport",{attrs:{isLogin:t.isLogin,docId:t.docId,docInfo2019:t.docInfo2019,showReportPop:t.showReportPop},on:{"update:showReportPop":function(e){t.showReportPop=e},"update:show-report-pop":function(e){t.showReportPop=e}}}),t._v(" "),n("DocClaim",{attrs:{visible:t.showClaimPop},on:{closeClaimPop:t.closeClaimPop}}),t._v(" "),n("CollectionDialog",{ref:"collectDialog",attrs:{from:"docInfo"}})],1)}),[],!1,null,null,null).exports);function Te(t){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ve(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Re(t,e){return(Re=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ae(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Ne(t);if(e){var i=Ne(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Le(this,n)}}function Le(t,e){return!e||"object"!==Te(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ne(t){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $e=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Re(t,e)}(a,t);var e,n,o,i=Ae(a);function a(){return Ee(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"cancel",value:function(){r.log.xsend(102535)}},{key:"comfirm",value:function(){r.log.xsend(102536),r.log.xsend(102741,{pos:"docVoucherDialog",idx:1});var t=Object(we.b)("/ndcashier/browse/jiaoyuvipcashier",{},"ViewDrawVoucherDialog");window.location.href=t}}])&&Ve(e.prototype,n),o&&Ve(e,o),a}(c.Vue);Object(a.a)([Object(c.Prop)(Boolean)],$e.prototype,"visible",void 0),Object(a.a)([Object(c.Prop)(Object)],$e.prototype,"voucher",void 0),Object(a.a)([Object(c.Emit)("closeUiDialog")],$e.prototype,"cancel",null),Object(a.a)([Object(c.Emit)("closeUiDialog")],$e.prototype,"comfirm",null);var Ge=$e=Object(a.a)([Object(c.Component)({filters:{formatMoney:function(t){if(!t)return"";var e=t/100,n=t%100==0?0:t%10==0?1:2;return isNaN(e)?"":e.toFixed(n)}}})],$e),Be=(n(350),Object(y.default)(Ge,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("div",{staticClass:"vip-dialog-wrap"},[n("div",{staticClass:"dialog-mask"}),t._v(" "),n("div",{staticClass:"vip-dialog-content"},[n("div",{staticClass:"btn-close",on:{click:t.cancel}}),t._v(" "),n("div",{staticClass:"voucher-type"},[n("p",{staticClass:"voucher-price"},[n("em",[t._v("￥")]),t._v(" "),n("span",[t._v(t._s(t._f("formatMoney")(t.voucher.price)))])])]),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"vip-dialog-btns"},[n("div",{staticClass:"btn cancel",on:{click:t.cancel}},[t._v("放弃优惠")]),t._v(" "),n("div",{staticClass:"btn comfirm",on:{click:t.comfirm}},[t._v("开通VIP")])])])]):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vip-dialog-text"},[e("p",[this._v("您还不是VIP，开通VIP使用VIP专属代金券")]),this._v(" "),e("p",[this._v("还可享受"),e("em",[this._v("100元代金券大礼包")])])])}],!1,null,"1bb642ca",null).exports),Me=n(121),Ue=n(55),Fe=n(112);function He(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function ze(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?He(Object(n),!0).forEach((function(e){Ke(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ke(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var We=new ce.a,Ye={filters:{formatMoney:D.b},computed:ze(ze(ze(ze(ze({},Object(o.mapState)(["isLogin"])),Object(o.mapState)("priceInfo",["originalPrice","shopVoucherInfo"])),Object(o.mapGetters)(["docId"])),Object(o.mapGetters)("priceInfo",["visibleCoupon"])),{},{couponTitle:function(){var t=this.shopVoucherInfo,e=t.priceType,n=t.voucherMoneyOff,o=t.voucherMoney,i=Object(D.b)(n),r=Object(D.b)(o);return 1==+e?"￥".concat(r,"代金券"):"满".concat(i,"减").concat(r)}}),mounted:function(){this.handleActsBeforeLogin()},methods:ze(ze({},Object(o.mapActions)("priceInfo",["drawCoupon"])),{},{handleActsBeforeLogin:function(){var t=this.isLogin,e=this.visibleCoupon;Fe.a.hasAct("drawCoupon")&&t&&e&&this.excuteDrawCoupon()},clickCoupon:function(){r.log.xsend(102937),this.shopVoucherInfo.isDraw||(this.isLogin?this.excuteDrawCoupon():(Fe.a.addAct("drawCoupon",{}),We.log()))},excuteDrawCoupon:function(){var t=this;this.drawCoupon().then((function(){Object(Ue.a)({type:"success",content:"领取成功"}),Fe.a.delAct("drawCoupon");var e=Object(we.b)("/ndcashier/browse/doccashier",{id:t.docId},"_coupon_");window.location.href=e})).catch((function(t){var e=t.status||{},n=e.msg,o=e.code;Object(Ue.a)({type:"warning",content:n}),13!=+o&&14!=+o||setTimeout((function(){window.location.reload()}))}))}})},qe=(n(351),Object(y.default)(Ye,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visibleCoupon?n("div",{staticClass:"coupon-wrap"},[n("div",{staticClass:"doc-price"},[n("div",{staticClass:"symbol"},[t._v("￥")]),t._v(" "),n("div",{staticClass:"amount"},[t._v("\n            "+t._s(t._f("formatMoney")(t.shopVoucherInfo.shopConfirmPrice))+"\n        ")]),t._v(" "),n("div",{staticClass:"coupon-price-text"},[t._v("券后价")]),t._v(" "),n("div",{staticClass:"coupon-price-amount"},[t._v("￥"+t._s(t.originalPrice))])]),t._v(" "),n("div",{staticClass:"doc-coupon",class:{drawed:t.shopVoucherInfo.isDraw},on:{click:t.clickCoupon}},[n("div",{staticClass:"tag"},[t._v("店铺")]),t._v(" "),n("div",{staticClass:"text"},[t._v(t._s(t.couponTitle))]),t._v(" "),n("div",{staticClass:"divider"}),t._v(" "),n("div",{staticClass:"text"},[t._v("\n            "+t._s(t.shopVoucherInfo.isDraw?"已领取":"领取")+"\n        ")])])]):t._e()}),[],!1,null,"15d5875e",null).exports);function Xe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Je(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xe(Object(n),!0).forEach((function(e){Qe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Qe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ze=new ce.a,tn={data:function(){return{visibleDialog:!1,voucherList:[],voucher:{get_status:0,min_amount:"",price:""}}},components:{UiDialog:Be,Promotion:Me.a,CompCoupon:qe},filters:{formatMoney:function(t){if(!t)return"";var e=t/100,n=t%100==0?0:t%10==0?1:2;return isNaN(e)?"":e.toFixed(n)}},computed:Je(Je(Je(Je(Je({},Object(o.mapState)("priceInfo",["confirmPrice"])),Object(o.mapState)(["isLogin"])),Object(o.mapGetters)("priceInfo",["price","promotionPrice","visiblePromotion","visibleCoupon"])),Object(o.mapGetters)(["docValueType","isVip","token","docInfo2019"])),{},{hasVoucher:function(){var t,e;return!(null===(t=this.docInfo2019)||void 0===t||null===(e=t.price_info)||void 0===e?void 0:e.high_price_doc)&&this.voucherList.length>0},visible:function(){var t=this.visiblePromotion,e=this.visibleVoucher,n=this.visibleCoupon;return e||t||n},visibleVoucher:function(){var t=this.hasVoucher,e=this.voucher,n=this.promotionPrice,o=this.visibleCoupon;return t&&e&&!n&&!o}}),mounted:function(){var t=this.promotionPrice,e=this.visibleCoupon;"CASH"!==this.docValueType||t||e||this.initVoucher()},methods:{getVoucher:function(t){var e=this,n=this.isLogin,o=this.isVip;if(r.log.xsend(102533,{isLogin:n,isVip:o,getStatus:+t.get_status}),n)if(!+t.get_status||o){if(!+t.get_status){var a=this.token,c={page:3,module_id:3,voucher_type:t.voucher_type,platform:"pc",__token__:a};i.$.ajax({url:"/ndwelfare/api/getVoucher",type:"GET",data:c}).then((function(t){t&&t.status&&0==+t.status.code&&(e.voucher.get_status=2,o||(r.log.xsend(102534),e.visibleDialog=!0))})).catch((function(t){e.voucher.get_status=2,o||(r.log.xsend(102534),e.visibleDialog=!0)}))}}else{r.log.xsend(102741,{pos:"docVoucher",idx:1});var s=Object(we.b)("/ndcashier/browse/jiaoyuvipcashier",{},"ViewDrawVoucherCashier");window.location.href=s}else Ze.log()},initVoucher:function(){var t=this,e={page:3,price:this.confirmPrice};i.$.ajax({url:"/coupon/interface/getvoucherdrawinfo",type:"GET",data:e}).then((function(e){if(e&&e.data&&e.data&&e.data.voucher_list){var n=e.data.voucher_list;n[0]&&(r.log.xsend(102532),t.setDocInfoHeight(),t.voucherList=n,t.voucher=n[0]||{})}}))},setDocInfoHeight:function(){((this.docInfo2019.doc_info||{}).title||"").length<=24?Object(i.$)(".doc-info-wrapper").css({"min-height":210}):Object(i.$)(".doc-info-wrapper").css({"min-height":240})},goVoucherCenter:function(){window.open("/ndwelfare/browse/vouchercenter")},closeUiDialog:function(){this.visibleDialog=!1}}},en=(n(352),Object(y.default)(tn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("div",{staticClass:"doc-price-voucher-wrap"},[n("Promotion",{attrs:{from:"summary"}}),t._v(" "),t.visibleVoucher?[n("div",{staticClass:"doc-draw-voucher",class:{"draw-right-long":0!==t.voucher.get_status},on:{click:function(e){return t.getVoucher(t.voucher)}}},[n("div",{staticClass:"draw-left"},[t._v("\n                满"+t._s(t._f("formatMoney")(t.voucher.min_amount))+"减"+t._s(t._f("formatMoney")(t.voucher.price))+"\n            ")]),t._v(" "),0===t.voucher.get_status?n("div",{staticClass:"draw-right"},[t._v("领取")]):t.isVip?n("div",{staticClass:"draw-right"},[t._v("已领取")]):n("div",{staticClass:"draw-right"},[t._v("开通VIP")])]),t._v(" "),n("div",{staticClass:"go-voucher-center",on:{click:t.goVoucherCenter}},[t._v("\n            您还有百元代金券待领取\n            "),n("i",{staticClass:"range"})]),t._v(" "),n("UiDialog",{attrs:{visible:t.visibleDialog,voucher:t.voucher},on:{closeUiDialog:t.closeUiDialog}})]:t._e(),t._v(" "),n("CompCoupon")],2):t._e()}),[],!1,null,"2d6604e0",null).exports);function nn(t){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function on(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function an(t,e){return(an=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=ln(t);if(e){var i=ln(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return sn(this,n)}}function sn(t,e){return!e||"object"!==nn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ln(t){return(ln=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var un=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&an(t,e)}(c,t);var e,n,o,a=cn(c);function c(){var t;return on(this,c),(t=a.apply(this,arguments)).visible=!1,t.leftDay=1,t.leftTicket=10,t.userType=1,t.userMsg={},t}return e=c,(n=[{key:"mounted",value:function(){var t=this;this.$nextTick((function(){if(t.visible){Object(i.$)(".vip-card-wrap").show();var e=Object(i.$)(".tool-bar-wrapper"),n=Object(i.$)(".vip-card-inner .desc").width()+102;Object(i.$)(".vip-card-inner").css("width",n+"px"),e.append(Object(i.$)(".vip-pop-wrap"))}else Object(i.$)(".vip-pop-wrap").remove()}))}},{key:"created",value:function(){var t=this.isLogin,e=this.docInfo2019,n=(this.viewControl,e.doc_info.doc_type===M.a.VIP_RIGHT);r.log.xsend(102605,{index:0,opType:n?"pro":""}),n&&t&&this.handleData()}},{key:"handleData",value:function(){var t=this.vipInfo,e=void 0===t?{}:t,n=this.isVip,o=e.renewal_vip_info||{},i=o.jiaoyu_vip_info,r=o.pro_download_ticket_total,a=o.normal_download_ticket_total,c=(i||{}).expire_time,s=r+a;if(n){var l=i.left_day;r<=1&&a>1?this.setData(r,"vipnoshare"):r>1&&a<=1?this.setData(a,"vipnopro"):r<=1&&a<=1?this.setData(s,"vipnopriv"):l<=7&&r>1&&a>1&&this.setData(s,"vip",l)}else if(e.is_new_user)this.setData(2,"newer");else if(c){var u=(new Date).getTime(),p=Math.ceil((u-1e3*c)/864e5);p<=10&&(r>0||a>0)&&this.setData(s,"notvip",p)}}},{key:"setData",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o={newer:{id:1,text:"文库VIP新用户专享：首月仅需<span>15元</span>",btnText:"开通VIP",topCode:"ViewproLifeInf_newer",btmCode:"ViewproLifeBtm_newer"},notvip:{id:2,text:"您的会员已过期".concat(n,"天，限时续费：剩余<span>").concat(t,"个</span>下载特权延时<span>30</span>天"),btnText:"立即续费",topCode:"ViewproLifeInf_notvip",btmCode:"ViewproLifeBtm_notvip"},vip:{id:3,text:"您的会员".concat(n,"天后到期，限时续费：剩余<span>").concat(t,"个</span>下载特权延时<span>30</span>天"),btnText:"立即续费",topCode:"ViewproLifeInf_vip",btmCode:"ViewproLifeBtm_vip"},vipnoshare:{id:4,text:"您的VIP专享下载特权剩余<span>".concat(t,"个</span>，限时续费立赠<span>4个</span>"),btnText:"立即续费",topCode:"ViewproLifeInf_vipnoshare",btmCode:"ViewproLifeBtm_vipnoshare"},vipnopro:{id:5,text:"您的共享文档下载特权剩余<span>".concat(t,"个</span>，限时续费立赠<span>12个</span>"),btnText:"立即续费",topCode:"ViewproLifeInf_vipnopro",btmCode:"ViewproLifeBtm_vipnopro"},vipnopriv:{id:6,text:"您的下载特权剩余<span>".concat(t,"个</span>，限时续费立赠<span>16个</span>"),btnText:"立即续费",topCode:"ViewproLifeInf_vipnopriv",btmCode:"ViewproLifeBtm_vipnopriv"}};this.leftDay=n||"",this.leftTicket=t,this.userMsg=o[e],this.visible=!0,"notvip"===e&&(this.userType=0);var i=o[e].id;r.log.xsend(102605,{userType:i,opType:"top"})}},{key:"gotoCashier",value:function(t,e,n){r.log.xsend(102606,{userType:e,opType:n}),r.log.xsend(102741,{pos:"docVipCard",idx:1});var o=Object(we.b)("/ndcashier/browse/jiaoyuvipcashier",{},t);window.location.href=o}},{key:"closeTip",value:function(t){r.log.xsend(102606,{userType:t,opType:"close"}),Object(i.$)(".vip-pop-wrap").css("display","none")}}])&&rn(e.prototype,n),o&&rn(e,o),c}(c.Vue);Object(a.a)([Object(c.Prop)()],un.prototype,"isLogin",void 0),Object(a.a)([Object(c.Prop)()],un.prototype,"docInfo2019",void 0),Object(a.a)([Object(c.Prop)()],un.prototype,"viewControl",void 0),Object(a.a)([Object(c.Prop)()],un.prototype,"vipInfo",void 0),Object(a.a)([Object(c.Prop)()],un.prototype,"isVip",void 0);var pn=un=Object(a.a)([c.Component],un),fn=(n(353),Object(y.default)(pn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vip-card-wrap"},[n("div",{staticClass:"vip-card-inner",class:0===t.userType?"inner-novip":"inner-vip"},[n("p",{staticClass:"desc",domProps:{innerHTML:t._s(t.userMsg.text)}}),t._v(" "),n("div",{staticClass:"vip-btn-wrap",on:{click:function(e){return t.gotoCashier(t.userMsg.topCode,t.userMsg.id,"top")}}},[t._v(t._s(t.userMsg.btnText)+" ")])]),t._v(" "),n("div",{staticClass:"vip-pop-wrap",class:0===t.userType?"inner-novip":"inner-vip",attrs:{"data-index":t.userMsg.id}},[n("span",{staticClass:"close-btn",on:{click:function(e){return t.closeTip(t.userMsg.id)}}}),t._v(" "),n("div",{staticClass:"vip-pop-inner"},[n("p",{staticClass:"text-wrap",domProps:{innerHTML:t._s(t.userMsg.text)}}),t._v(" "),n("div",{staticClass:"vip-btn-wrap",on:{click:function(e){return t.gotoCashier(t.userMsg.btmCode,t.userMsg.id,"bottom")}}},[t._v(t._s(t.userMsg.btnText))])])])])}),[],!1,null,null,null).exports),dn=n(6);n(111);function vn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vn(Object(n),!0).forEach((function(e){bn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function bn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yn={filters:{parseNum:function(t){return D.a.parseNum(t)},parseSize:function(t){return D.a.parseSize(t)},parseSizeUnit:function(t){return D.a.parseSizeUnit(t)}},props:{docInfo2019:Object},data:function(){return{visibleSlide:!1,marginLeft:0,leftIdx:0,disabledL:!0,disabledR:!1,list:[],packIds:""}},computed:hn(hn({},Object(o.mapGetters)(["activity","giftInfo"])),{},{pcWenjiView:function(){try{return this.giftInfo.pcWenjiView}catch(t){return{}}}}),mounted:function(){this.getData()},methods:{giftSwitch:function(t){return+this.giftCount(t)>0&&this.activity&&1==+this.activity.isActivity},giftCount:function(t){var e=this.giftInfo.giftCount||{},n=e.rules,o=t[e.target]||0;if(!Array.isArray(n)||!o)return 0;for(var i=0;i<n.length;++i){var r=n[i];if(o>=+r.min&&o<+r.max)return+r.value}return 0},giftTitle:function(t){var e=this,n=this.pcWenjiView.title;return(void 0===n?"":n).replace(/\{\{(.+)\}\}/,(function(n,o){return o&&e.giftCount(t)||0}))},getData:function(){var t=this,e=this.docInfo2019.doc_info.show_doc_id;dn.wkAxios.get("/browse/interface/getdocpacklist",{params:{docId:e}}).then((function(e){var n=e&&e.docPackList||[];n.length>5&&(n=n.slice(0,5)),n=n.map((function(e){return e.giftTitle=t.giftTitle(e),e.giftSwitch=t.giftSwitch(e),e})),t.list=n,r.log.xsend(102618,{type:"show",id:t.getPackIds()}),t.disableSlides()}))},getPackIds:function(){for(var t=this.list,e="",n=0;n<t.length;n++){e=e+","+(t[n].packId||"")}return e},mouseover:function(){this.visibleSlide=!0},mouseout:function(){this.visibleSlide=!1},disableSlides:function(){var t=this.leftIdx,e=this.list;this.disabledL=0===t,t>=e.length-2?this.disabledR=!0:this.disabledR=!1},goPre:function(){var t=this.leftIdx;if(0!==t){r.log.xsend(102619,{index:"pre"});var e=Object(i.$)(".package-content-wrapper"),n=Object(i.$)(".package-content-item:nth-child(".concat(t,")"),e),o=0,a=this.marginLeft;n.length&&(o=Number(n.outerWidth(!0)),this.leftIdx=t-1);var c=a+o;this.marginLeft=c>=0?0:c,this.disableSlides()}else this.disabledL=!0},goNext:function(){var t=this.leftIdx,e=this.list;r.log.xsend(102619,{index:"next"});if(t>=e.length-2)this.disabledR=!0;else{var n=Object(i.$)(".package-content-wrapper"),o=Object(i.$)(".package-content-item:nth-child(".concat(t+1,")"),n),a=0,c=this.marginLeft;o.length&&(a=Number(o.outerWidth(!0)),this.leftIdx=t+1);var s=c-a,l=Number(Object(i.$)(".package-content-slider-wrapper").width())-Number(Object(i.$)(".package-content-list").width());this.marginLeft=s<l?l:s,this.disableSlides()}},clickPackageContent:function(t){var e=t.packId;r.log.xsend(102618,{type:"click",id:e}),window.open("https://wenku.baidu.com/wenji/".concat(e,"?fr=pcreaderwj"))}}},mn=(n(354),Object(y.default)(yn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.list.length>0?n("div",{staticClass:"package-content-wrapper",on:{mouseover:t.mouseover,mouseout:t.mouseout}},[n("div",{staticClass:"package-content-content"},[t._m(0),t._v(" "),n("div",{staticClass:"package-content-slider-wrapper"},[n("div",{staticClass:"package-content-list",style:{marginLeft:t.marginLeft+"px"}},t._l(t.list,(function(e,o){return n("div",{key:o,staticClass:"package-content-item",on:{click:function(n){return t.clickPackageContent(e)}}},[o<5?[n("div",{staticClass:"left"},[n("div",{staticClass:"cover",style:{backgroundImage:"url("+e.cover+")"}})]),t._v(" "),n("div",{staticClass:"right"},[n("div",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),n("div",{staticClass:"price"},[e.buyStatus?n("div",{staticClass:"has-buy"},[t._v("已购买")]):n("div",{staticClass:"price-box"},[n("div",{staticClass:"now-price"},[t._v("￥"+t._s(e.price))]),t._v(" "),e.giftSwitch?n("div",{staticClass:"gift-tip"},[t._v("\n                                        "+t._s(e.giftTitle)+"\n                                    ")]):t._e()])]),t._v(" "),n("div",{staticClass:"num"},[t._v(t._s(e.docNum)+"篇文档")])])]:t._e()],2)})),0)]),t._v(" "),t.visibleSlide&&t.list.length>2?n("div",[t.disabledL?t._e():n("div",{staticClass:"left-btn",on:{click:t.goPre}}),t._v(" "),t.disabledR?t._e():n("div",{staticClass:"right-btn",on:{click:t.goNext}})]):t._e()])]):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"package-content-title-wrapper"},[e("div",{staticClass:"package-content-title"},[this._v("\n                本文配套内容\n            ")])])}],!1,null,null,null).exports);function gn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function _n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gn(Object(n),!0).forEach((function(e){wn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function wn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var On={data:function(){return{isHiddenSize:!1,descVisible:!1}},computed:_n(_n(_n({},Object(o.mapState)(["isLogin","pageData","scrollObject"])),Object(o.mapGetters)(["docInfo2019","viewControl","vipInfo","isVip","isSecret"])),{},{tags:function(){var t=this.docInfo2019;return t&&Array.isArray(t.tags)&&t.tags.length>0?t.tags:[]},onSendVipFlag:function(){var t,e,n,o,i=null===(t=this.docInfo2019)||void 0===t?void 0:t.price_info,a=!!(null==i?void 0:i.high_price_doc);return r.log.xsend(102895,{testid:null==i||null===(e=i.smallflow)||void 0===e?void 0:e.test_id,sale_price:null==i?void 0:i.pay_price,docid:null===(n=this.docInfo2019)||void 0===n||null===(o=n.doc_info)||void 0===o?void 0:o.show_doc_id}),a},docInfo:function(){var t=this.docInfo2019;return t&&t.doc_info?t.doc_info:{title:"",show_doc_id:"",type:0,summary:"",is_creater:0,is_inroom:0,main_status:"",doc_type:0,is_vip_free_doc:!1,show_store_id:"",flag:"",page:"",cover_list:[]}},docTitle:function(){var t=this.docInfo2019,e="";return t&&t.doc_info&&t.doc_info.title&&(e=t.doc_info.title),e.length>49?e.substring(0,49):e},coverList:function(){return this.docInfo2019.cover_list},copyRightFlag:function(){return this.docInfo2019.copyright_flag||0}}),components:{DocTag:m,DocTypeIcon:g.a,DocSummary:B,DocBtns:De,DocCover:Q,DocPriceVoucher:en,DocVipCard:fn,DocPackageContent:mn},created:function(){var t=this.pageData.docInfo2019.tags,e=t.some((function(t){return 2!==t.type})),n=t.some((function(t){return 2===t.type}));e&&r.log.xsend(102298,{index:0}),n&&r.log.xsend(102298,{index:1})},methods:{adjustSummaryLayout:function(){var t=Object(i.$)(".size-box"),e=t.offset().left+t.width(),n=Object(i.$)(".doc-info-right").offset().left;this.isHiddenSize=e>n}}},Cn=(n(355),Object(y.default)(On,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"no-full-screen"},[n("div",{staticClass:"doc-info-wrapper"},[n("div",{staticClass:"doc-info-main"},[n("div",{staticClass:"doc-info-left"},[t.tags.length>0?n("DocTag",{attrs:{tags:t.tags}}):t._e(),t._v(" "),n("div",{staticClass:"doc-title-wrap"},[n("DocTypeIcon",{attrs:{"type-name":t.docInfo.typeName}}),t._v(" "),n("h3",{staticClass:"doc-title"},[t._v(t._s(t.docTitle))])],1),t._v(" "),n("DocSummary",{attrs:{isHiddenSize:t.isHiddenSize,docInfo:t.docInfo,isSecret:t.isSecret}}),t._v(" "),n("DocVipCard",{attrs:{isLogin:t.isLogin,docInfo2019:t.docInfo2019,viewControl:t.viewControl,vipInfo:t.vipInfo,isVip:t.isVip}}),t._v(" "),n("DocPriceVoucher"),t._v(" "),t.onSendVipFlag?n("img",{staticClass:"doc-info-hvip",attrs:{src:"https://edu-wenku.bdimg.com/v1/pc/pc-send-vip-top-1602642033245.png"}}):t._e(),t._v(" "),n("DocBtns")],1),t._v(" "),n("div",{staticClass:"doc-info-right"},[n("DocCover",{attrs:{coverList:t.coverList,docInfo2019:t.docInfo2019}})],1)]),t._v(" "),n("DocPackageContent",{attrs:{docInfo2019:t.docInfo2019}})],1)])}),[],!1,null,null,null));e.a=Cn.exports},,,,,function(t,e,n){"use strict";var o=n(5),i=n(2),r=n(3),a=n(8),c=n(46),s=n(11),l=n(1),u=n(0);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=b(t);if(e){var i=b(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(n,t);var e=v(n);function n(){return f(this,n),e.apply(this,arguments)}return n}(u.Vue),m=y=Object(l.a)([u.Component],y),g=(n(356),n(4)),_=Object(g.default)(m,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"hx-recom-wrapper"})}),[],!1,null,null,null).exports,w=n(71),O=n(121),C=n(12);function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){I(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function I(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x={props:{restPageNum:Number,isCanRead:Boolean},data:function(){return{downloader:void 0,DOC_TYPE:a.a,expiredLimit:10}},mounted:function(){i.log.xsend(102726,{index:2}),this.downloader=c.a.createDownload()},computed:P(P(P({},Object(o.mapState)(["isLogin"])),Object(o.mapGetters)(["vipInfo","isVip","wkSmallflow","docInfo2019","isDownloadable","ticketDocSubType"])),{},{renewalVipInfo:function(){return this.vipInfo.renewal_vip_info},needRenew:function(){var t=this.renewalVipInfo;return+t.pro_download_ticket_total<=1&&+t.normal_download_ticket_total<=1},isVipExpired:function(){var t=this.vipInfo.renewal_vip_info.jiaoyu_vip_info||{},e=0;return t.expire_time&&(e=Math.ceil((+new Date-1e3*t.expire_time)/864e5)),e>0&&e<=10}}),methods:{goVip:function(t){i.log.xsend(102725,{type:t,index:2});i.log.xsend(102741,{pos:"foldPageBtn",idx:1});var e=Object(C.b)("/ndcashier/browse/jiaoyuvipcashier",{},"ViewproDownloadFoldPageBtn2");window.location.href=e},beginDownload:function(){i.log.xsend(102727),this.downloader.download()},vipDownload:function(){var t="TICKET_ZERO"===this.ticketDocSubType;this.isLogin||t?this.downloader.download():this.gotoVip("download")},gotoVip:function(t){var e="",n=this.restPageNum,o=this.isVip;e=(e="download"===t?0===n?"view_bottom_download_add":"view_middle_download_add":o?0===n?"view_bottom_xfjy_fortime_search_newpage":"view_middle_xfjy_fortime_search_newpage":0===n?"view_bottom_joinVIP_search_newpage":"view_middle_joinVIP_search_newpage")+"_"+r.Util.Common.getParam("fr");var i=Object(C.b)("/ndbusiness/browse/wenkuvipcashier",{},e);location.href=i}}},k=(n(357),Object(g.default)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fold-page-btn"},[t.docInfo2019.doc_info.doc_type===t.DOC_TYPE.VIP_RIGHT?[t.isVip?[t.needRenew?[n("div",{staticClass:"btn join-vip",on:{click:function(e){return t.goVip("renew")}}},[t._v("\n                    续费VIP\n                ")])]:[t.isDownloadable?n("div",{staticClass:"btn download-btn-ticket",on:{click:t.beginDownload}},[t._v("\n                    VIP专享下载\n                ")]):n("div",{staticClass:"btn download-btn-ticket btn-disabled"},[t._v("\n                    VIP专享下载")]),t._v(" "),n("div",{staticClass:"btn join-vip",on:{click:function(e){return t.goVip("renew")}}},[t._v("\n                    续费VIP\n                ")])]]:[0==t.restPageNum||t.isCanRead?[t.isDownloadable?n("div",{staticClass:"btn join-vip",on:{click:function(e){return t.goVip("join")}}},[t._v("\n                    加入VIP免费专享\n                ")]):n("div",{staticClass:"btn join-vip btn-disabled"},[t._v("\n                    加入VIP免费专享\n                ")])]:[n("div",{staticClass:"btn join-vip",on:{click:function(e){return t.goVip("join")}}},[t._v("加入VIP看全文")])]]]:t.docInfo2019.doc_info.doc_type===t.DOC_TYPE.TICKET?["TICKET"===t.ticketDocSubType?[n("div",{staticClass:"btn download-btn-ticket",on:{click:t.vipDownload}},[t._v("VIP免券下载")]),t._v(" "),t.isVip?n("div",{staticClass:"btn join-vip",on:{click:function(e){return t.gotoVip()}}},[t._v("续费VIP")]):t._e()]:"TICKET_ZERO"===t.ticketDocSubType?[n("div",{staticClass:"btn download-btn",on:{click:t.vipDownload}},[t._v("下载文档")]),t._v(" "),t.isVip?n("div",{staticClass:"btn join-vip",on:{click:function(e){return t.gotoVip()}}},[t._v("续费VIP")]):n("div",{staticClass:"btn join-vip",on:{click:function(e){return t.gotoVip()}}},[t._v("加入VIP")])]:[n("div",{staticClass:"btn download-btn-vipticket",on:{click:t.vipDownload}},[t._v("VIP免费下载")]),t._v(" "),t.isVip?n("div",{staticClass:"btn join-vip",on:{click:function(e){return t.gotoVip()}}},[t._v("续费VIP")]):t._e()]]:t._e()],2)}),[],!1,null,null,null).exports);function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){T(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function T(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E={data:function(){return{DOC_TYPE:a.a,expiredLimit:10}},computed:D(D(D({},Object(o.mapState)("vipInfo",["norDownTicketTotal","proDownTicketTotal","ticketTotal"])),Object(o.mapGetters)(["vipInfo","isVip","docInfo2019","priceInfo","ticketDocSubType"])),{},{docType:function(){return this.docInfo2019.doc_info.doc_type},isTicketDoc:function(){return+this.docType==+a.a.TICKET},isViprightDoc:function(){return+this.docType==+a.a.VIP_RIGHT},renewalVipInfo:function(){return this.vipInfo.renewal_vip_info||{}},needRenew:function(){var t=this.norDownTicketTotal,e=this.proDownTicketTotal;return t<=1&&e<=1},isBubbleFlag:function(){var t,e;return(null===(t=this.docInfo2019)||void 0===t||null===(e=t.doc_info)||void 0===e?void 0:e.doc_type)===a.a.TICKET&&(!("TICKET"!==this.ticketDocSubType||!this.isVip)||("TICKET_ZERO"===this.ticketDocSubType||!!this.isVip))},expiredDays:function(){var t=this.renewalVipInfo.jiaoyu_vip_info||{};if(t.expire_time){return Math.ceil((+new Date-1e3*t.expire_time)/864e5)}return 0}})},V=(n(358),Object(g.default)(E,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["fold-page-tip",t.expiredDays>0&&t.expiredDays<=t.expiredLimit?"vip-expired-tip":""]},[n("div",{staticClass:"tip-wrap"},[t.isViprightDoc||t.isTicketDoc?[n("span",{class:["arrow",t.isVip&&!t.needRenew||t.isBubbleFlag?"arrow-right":""]}),t._v(" "),t.isVip?[t.isTicketDoc?["TICKET"===t.ticketDocSubType&&0===t.norDownTicketTotal?n("p",{staticClass:"tip-text"},[t._v("\n                        限时续费：VIP专享/共享文档下载特权各赠"),n("b",[t._v("8个")])]):t.norDownTicketTotal>=0?n("p",{staticClass:"tip-text"},[t._v("\n                        限时续费: 剩余"+t._s(t.ticketTotal)+"下载特权延时"),n("b",[t._v("30天")])]):t._e()]:[t.needRenew?n("p",{staticClass:"tip-text"},[t._v("\n                        限时续费：VIP专享/共享文档下载特权各赠"),n("b",[t._v("8个")])]):n("p",{staticClass:"tip-text"},[t._v("\n                        限时续费: 剩余"+t._s(t.ticketTotal)+"下载特权延时"),n("b",[t._v("30天")])])]]:[t.vipInfo.is_new_user?n("p",{staticClass:"tip-text"},[t._v("\n                    文库VIP新用户专享：首月仅需"),n("b",[t._v("15")]),t._v("元\n                ")]):t.expiredDays>0&&t.expiredDays<=t.expiredLimit?n("p",{staticClass:"tip-text"},[t._v("\n                    您的会员已过期"+t._s(t.expiredDays)+"天，限时续费：剩余"),n("b",[t._v(t._s(t.ticketTotal))]),t._v("个下载特权延时"),n("b",[t._v("30天")])]):n("p",{staticClass:"tip-text"},[n("span",{staticClass:"ic vip-ic"}),n("span",[t._v("VIP文档免费下")]),t._v(" "),n("span",{staticClass:"ic discount-ic"}),n("span",[t._v("付费文档8折购")]),t._v(" "),n("span",{staticClass:"ic trans-ic"}),n("span",[t._v("文档格式随意转")])])]]:t._e()],2)])}),[],!1,null,null,null).exports);function R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?R(Object(n),!0).forEach((function(e){L(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function L(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var N={READ_ALL:1,VIP_RIGHT_NOT_VIP:2,NEED_PAY_NO:3,NEED_PAY_VIP:4,DISCOUNT_8_NO:5,DISCOUNT_8_VIP:6,VIP_RIGHT_VIP:7,PAY_COUPON:8},$={components:{AdRecom:_,CoreBtn:w.a,Promotion:O.a,FoldPageBtn:k,FoldPageTip:V},filters:{formatMoney:s.b},data:function(){return{downloader:void 0,showType:0,height:a.d,priceShow:"",orginPriceShow:"",DOC_TYPE:a.a,SHOW_TYPE:N}},computed:A(A(A(A(A(A({},Object(o.mapState)(["curLastPage","foldPage","isLogin"])),Object(o.mapState)("priceInfo",["cashType","isPackage","isDiscountDoc","ishighPriceDoc","confirmPrice","payPrice","vipPrice","shopVoucherInfo","ispaied"])),Object(o.mapState)("vipInfo",["norDownTicketTotal","proDownTicketTotal","ticketTotal"])),Object(o.mapGetters)(["isVip","docInfo2019","readerInfo2019","vipInfo","ticketDocSubType","testData11"])),Object(o.mapGetters)("priceInfo",["visiblePromotion","visibleCoupon"])),{},{docType:function(){return this.docInfo2019.doc_info.doc_type},visible:function(){var t=this.showType,e=this.docType;return t===N.READ_ALL?!(this.restPageNum<=0&&e!==a.a.VIP_RIGHT&&e!==a.a.TICKET):[a.a.CASH,a.a.VIP_RIGHT].indexOf(e)>=-1},restPageNum:function(){return+this.readerInfo2019.page-this.pageShowed},pageShowed:function(){var t=this.readerInfo2019,e=this.curLastPage;return 0===this.foldPage.unfold&&(e=+t.show_page<a.e?+t.show_page:a.e),e},isTryEnd:function(){var t=this.readerInfo2019,e=this.pageShowed;return+e==+t.show_page&&+e<+t.page},isCanRead:function(){return this.showType===N.READ_ALL||!this.isTryEnd},vip8Show:function(){var t="VIP8折",e=this.docInfo2019,n=this.isLogin;if(!this.isVip||!n){var o=+Object(s.b)(e.price_info.confirm_price),i=parseInt(String(.2*o*10),10)/10;t=i>1?"VIP立减".concat(i,"元"):"VIP立享8折"}return t},isTicketDoc:function(){return+this.docType==+a.a.TICKET},isViprightDoc:function(){return+this.docType==+a.a.VIP_RIGHT}}),methods:A(A(A({},Object(o.mapMutations)(["setFoldPageUnfold"])),Object(o.mapActions)(["clickCoreBtn"])),{},{unfold:function(){this.foldClickLog();var t=this.isCanRead,e=this.docType,n=this.visiblePromotion,o=this.isViprightDoc,c=this.testData11,s={};if(null!=(null==c?void 0:c.wk2860)&&(s.wk2860=c.wk2860),t){var l=this.foldPage.unfold;this.setFoldPageUnfold(++l)}else{var u=this.docInfo2019.doc_info;if(!this.isVip&&o){var p=Object(r.$)("html").is(".full-screen")?"ViewproFullscreenDownloadTry":"ViewproDownloadTry";i.log.xsend(102741,{pos:"foldPage",idx:1});var f=Object(C.b)("/ndcashier/browse/jiaoyuvipcashier",s,p);return void(window.location.href=f)}this.showType;var d=u.show_doc_id;if(s.id=d,e===a.a.CASH){if(this.visibleCoupon)return void this.clickCoreBtn({from:"foldPageCoupon"});var v=Object(r.$)("html").is(".full-screen")?"ViewproFullscreenDownloadTry":"ViewproDownloadTry";n&&(v+="_promotionDoc_"),i.log.xsend(102741,{pos:"foldPage",idx:2});var h=Object(C.b)("/ndcashier/browse/doccashier",s,v);return void(window.location.href=h)}this.beginDownload()}this.sendLog(!0)},foldClickLog:function(){var t=this.showType,e=void 0===t?"":t,n=this.cashType,o=void 0===n?"":n,r=this.isCanRead;i.log.xsend(102738,{foldShowType:e,cashType:o,isCanRead:r})},sendLog:function(t){var e=t?102347:102346,n=this.docInfo2019,o=this.isCanRead,r=0;this.isLogin&&(r=this.isVip?1:2),i.log.xsend(e,{readall:this.showType===N.READ_ALL,user:r,doctype:n.doc_info.doc_type,isCanRead:o})},registerDownload:function(){this.downloader=c.a.createDownload()},beginDownload:function(){if(!this.isVip||this.isLogin)this.downloader.download();else{var t=Object(r.$)("html").is(".full-screen")?"ViewproFullscreenDownloadTry":"ViewproDownloadTry";i.log.xsend(102741,{pos:"foldPage",idx:3});var e=Object(C.b)("/ndcashier/browse/jiaoyuvipcashier",{},t);window.location.href=e}},parseDataToLayout:function(){this.docInfo2019;var t=this.readerInfo2019,e=this.docType,n=this.isVip,o=this.isPackage,i=this.isDiscountDoc,r=this.visibleCoupon,c=this.confirmPrice,s=this.payPrice,l=this.vipPrice,u=0,p=0;+t.page==+t.show_page?this.showType=N.READ_ALL:e===a.a.VIP_RIGHT?this.showType=n?N.VIP_RIGHT_VIP:N.VIP_RIGHT_NOT_VIP:e===a.a.CASH&&(o&&!n?(this.showType=N.NEED_PAY_NO,u=c):r?(this.showType=N.PAY_COUPON,u=c,p=s):i?n?(this.showType=N.DISCOUNT_8_VIP,u=l,p=s):(this.showType=N.DISCOUNT_8_NO,u=s):(this.showType=N.NEED_PAY_NO,u=c)),u&&(this.priceShow=u/100),p&&(this.orginPriceShow=p/100)}}),created:function(){this.parseDataToLayout(),this.registerDownload(),this.visible&&this.sendLog(!1)}},G=(n(359),Object(g.default)($,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"try-end-fold-page",style:{minHeight:t.height+"px",marginTop:"-"+(2*t.height+51)+"px"}},[n("div",{staticClass:"fold-page-content"},[t.docType===t.DOC_TYPE.TICKET?[0===t.restPageNum?[n("p",{staticClass:"title bottom-edge top-edge"},[t._v("\n                    获取文档，使用更方便\n                ")]),t._v(" "),"TICKET"===t.ticketDocSubType&&t.isVip?n("p",{staticClass:"info"},[t._v("\n                    (您持有 "),n("b",[t._v(t._s(t.norDownTicketTotal||0))]),t._v(" 共享文档下载特权)\n                ")]):"TICKET_VIP_FREE"===t.ticketDocSubType&&t.isVip?n("p",{staticClass:"info"},[t._v("\n                    (VIP可享无限次下载特权)\n                ")]):t._e()]:t._e(),t._v(" "),n("FoldPageBtn",{attrs:{restPageNum:t.restPageNum,isCanRead:t.isCanRead}}),t._v(" "),n("FoldPageTip"),t._v(" "),0!==t.restPageNum&&t.isCanRead?n("div",{staticClass:"fold-page-text",on:{click:t.unfold}},[t._v("\n                剩余"+t._s(t.restPageNum)+"页未读，"),n("span",{staticClass:"read-all"},[t._v("继续阅读")])]):t._e()]:t.docType===t.DOC_TYPE.CASH?[t.isCanRead?[+t.testData11.wkWeb2781?[t.ispaied?t._e():n("CoreBtn",{attrs:{from:"foldpage"}}),t._v(" "),n("Promotion",{attrs:{from:"foldpage"}})]:t._e(),t._v(" "),t.ishighPriceDoc&&+t.testData11.wkWeb2781?n("div",{staticClass:"high-price-doc-tip"}):t._e(),t._v(" "),n("div",{staticClass:"fold-page-text",on:{click:t.unfold}},[t._v("\n                    剩余"+t._s(t.restPageNum)+"页未读，\n                    "),n("span",{staticClass:"read-all"},[t._v("继续阅读")])])]:n("div",{staticClass:"action-box",on:{click:t.unfold}},[t.showType===t.SHOW_TYPE.PAY_COUPON?[n("p",{staticClass:"title bottom-edge top-edge"},[t._v("\n                        试读已结束，剩余"+t._s(t.restPageNum)+"页未读\n                    ")]),t._v(" "),n("p",{staticClass:"red-detail bottom-edge-small"},[t._v("\n                        ￥"+t._s(t._f("formatMoney")(t.shopVoucherInfo.shopConfirmPrice))+"\n                        "+t._s(t.shopVoucherInfo.isDraw?"立即":"领券")+"购买全文\n                    ")]),t._v(" "),n("p",{staticClass:"sub-title discount"},[t._v("\n                        原价："+t._s(t.orginPriceShow)+"\n                    ")])]:t.showType===t.SHOW_TYPE.NEED_PAY_NO?[n("p",{staticClass:"title bottom-edge top-edge"},[t._v("\n                        试读已结束\n                    ")]),t._v(" "),n("p",{staticClass:"title bottom-edge-small"},[t._v("\n                        剩余"+t._s(t.restPageNum)+"页未读，\n                        "),n("span",{staticClass:"red-detail"},[t._v("￥"+t._s(t.priceShow)+" 查看全文")])]),t._v(" "),t.isPackage?n("p",{staticClass:"sub-title"},[t._v("VIP首单免费")]):t._e()]:t.showType===t.SHOW_TYPE.NEED_PAY_VIP?[n("p",{staticClass:"title bottom-edge top-edge"},[t._v("\n                        试读已结束， 剩余"+t._s(t.restPageNum)+"页未读\n                    ")]),t._v(" "),n("p",{staticClass:"red-detail bottom-edge-small"},[t._v("\n                        ￥"+t._s(t.priceShow)+" 查看全文\n                    ")])]:t.showType===t.SHOW_TYPE.DISCOUNT_8_NO?[n("p",{staticClass:"title bottom-edge top-edge"},[t._v("\n                        试读已结束， 剩余"+t._s(t.restPageNum)+"页未读\n                    ")]),t._v(" "),n("p",{staticClass:"red-detail bottom-edge-small"},[t._v("\n                        ￥"+t._s(t.priceShow)+" 查看全文\n                    ")]),t._v(" "),n("p",{staticClass:"sub-title"},[t._v(t._s(t.vip8Show))])]:t.showType===t.SHOW_TYPE.DISCOUNT_8_VIP?[n("p",{staticClass:"title bottom-edge top-edge"},[t._v("\n                        试读已结束， 剩余"+t._s(t.restPageNum)+"页未读\n                    ")]),t._v(" "),n("p",{staticClass:"red-detail bottom-edge-small"},[t._v("\n                        ￥"+t._s(t.priceShow)+" "+t._s(t.vip8Show)+"查看全文\n                    ")]),t._v(" "),n("p",{staticClass:"sub-title discount"},[t._v("\n                        原价￥"+t._s(t.orginPriceShow)+"\n                    ")])]:t._e()],2)]:t.docType===t.DOC_TYPE.VIP_RIGHT?[0===t.restPageNum?[n("p",{staticClass:"title bottom-edge top-edge"},[t._v("\n                    阅读已结束，获取文档需\n                ")]),t._v(" "),n("p",{staticClass:"info"},[t._v("\n                    (您持有 "),n("b",[t._v(t._s(t.proDownTicketTotal||0))]),t._v(" VIP专享文档下载特权)\n                ")])]:t.showType===t.SHOW_TYPE.VIP_RIGHT_NOT_VIP?n("div",{staticClass:"action-box",on:{click:t.unfold}},[n("p",{staticClass:"title bottom-edge top-edge"},[t._v("\n                    试读已结束， 剩余"+t._s(t.restPageNum)+"页未读\n                ")]),t._v(" "),t.isViprightDoc?t._e():n("p",{staticClass:"red-detail"},[t._v("\n                    加入VIP查看全文\n                ")])]):t.showType===t.SHOW_TYPE.VIP_RIGHT_VIP?n("div",[n("p",{staticClass:"title bottom-edge top-edge"},[t._v("\n                    试读已结束， 剩余"+t._s(t.restPageNum)+"页未读\n                ")])]):t._e(),t._v(" "),n("FoldPageBtn",{attrs:{restPageNum:t.restPageNum,isCanRead:t.isCanRead}}),t._v(" "),n("FoldPageTip"),t._v(" "),0!==t.restPageNum&&t.isCanRead?n("div",{staticClass:"fold-page-text",on:{click:t.unfold}},[t._v("\n                剩余"+t._s(t.restPageNum)+"页未读，"),n("span",{staticClass:"read-all"},[t._v("继续阅读")])]):t._e()]:[t.isCanRead?n("div",{staticClass:"fold-page-text",on:{click:t.unfold}},[t._v("\n                剩余"+t._s(t.restPageNum)+"页未读，"),n("span",{staticClass:"read-all"},[t._v("继续阅读")])]):t._e()]],2),t._v(" "),n("AdRecom")],1)}),[],!1,null,null,null));e.a=G.exports},function(t,e,n){"use strict";var o=n(5),i=n(16),r=n.n(i),a=n(1),c=n(0);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=v(t);if(e){var i=v(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return d(this,n)}}function d(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(r,t);var e,n,o,i=f(r);function r(){return l(this,r),i.apply(this,arguments)}return e=r,(n=[{key:"nums",get:function(){for(var t=[],e=this.text,n=0;n<e.length;n++){var o=e[n];"."===o?t.push("p"):"亿"===o?t.push("y"):t.push(o)}return t}}])&&u(e.prototype,n),o&&u(e,o),r}(c.Vue);Object(a.a)([Object(c.Prop)(String)],h.prototype,"text",void 0),Object(a.a)([Object(c.Prop)(String)],h.prototype,"size",void 0);var b=h=Object(a.a)([c.Component],h),y=(n(297),n(4)),m=Object(y.default)(b,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"author-info-number",class:this.size},this._l(this.nums,(function(t,n){return e("div",{key:n,staticClass:"number-icon",class:"n-"+t})})),0)}),[],!1,null,null,null).exports,g=n(6),_=n(17),w=n.n(_);function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){j(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var P=new w.a,I={data:function(){return{shopGoodsNum:""}},components:{NumberCard:m},computed:C(C(C({},Object(o.mapState)(["isLogin"])),Object(o.mapGetters)(["creatorInfo","shopInfo","wkSmallflow","mixVipAndUserInfo"])),{},{shopName:function(){return this.shopInfo.shop_name_show},shopFollow:function(){return this.creatorInfo.shop_follow},followShopText:function(){return+(this.shopFollow||{}).is_followed?"取消关注":"关注"},fansCnt:function(){return this.shopFollow.follow_count},isFollowed:function(){return!!+(this.shopFollow||{}).is_followed},shopLevelInfo:function(){return this.creatorInfo.level_info},level:function(){return(this.shopLevelInfo||{}).levelShow},levelText:function(){return(this.shopLevelInfo||{}).levelText},getUserType:function(){var t=this.mixVipAndUserInfo,e=t.userInfo,n=this.shopInfo;return!(!t||!e||(e.isPGC||e.isBGC||e.isAGC)&&!r.a.isPlainObject(n))}}),created:function(){var t=this,e=this.shopInfo;e&&e.shop_id_str&&g.wkAxios.get("/user/interface/shopgetgoodsgeneral",{params:{shopId:e.shop_id_str}}).then((function(e){t.shopGoodsNum=String(e.totalGoodsCount)})).catch((function(t){}))},methods:C(C({},Object(o.mapMutations)(["setShopFollow"])),{},{excuteCheckLogin:function(t){this.isLogin?t():P.log()},followShop:function(){var t=this,e=this.shopInfo.shop_id_str,n=this.shopName,o=this.isFollowed;this.excuteCheckLogin((function(){var i=function(){var t={host:"/shop/".concat(e),page_name:n},o=new FormData;for(var i in t)o.append(i,t[i]);return o}();o?g.wkAxios.post("/user/submit/deletefavourl",i).then((function(){t.setShopFollow(!1)})):g.wkAxios.post("/user/submit/favourl",i).then((function(e){t.setShopFollow(!0)}))}))},toShop:function(){var t=this.shopInfo.shop_id_str;window.open("/shop/".concat(t))},toShopMis:function(){window.open("/shopmis")}})},x=(n(298),Object(y.default)(I,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["shop-info-wrapper","shop-leve-"+t.level]},[n("div",{staticClass:"title-box"},[n("p",{staticClass:"title"},[t._v("\n            "+t._s(t.levelText)+"\n            "),t.getUserType?n("a",{staticClass:"apply-shop",attrs:{href:"https://wenku.baidu.com/ndcore/browse/register",target:"_blank"}},[t._v("申请开通店铺 "),n("span",[t._v(">")])]):t._e()])]),t._v(" "),n("div",{staticClass:"user-info"},[n("div",{staticClass:"avatar",style:t.shopInfo.logo?"background-image: url("+t.shopInfo.logo+")":""},[2==t.shopInfo.verify_status?n("div",{class:["shop-type","shop-type-"+t.shopInfo.verify_type]}):t._e()]),t._v(" "),n("div",{staticClass:"info"},[n("div",{staticClass:"nick-box"},[n("p",{staticClass:"shop-name",on:{click:t.toShop}},[t._v("\n                    "+t._s(t.shopName)+"\n                ")]),t._v(" "),n("p",{staticClass:"shop-intro"},[t._v("\n                    "+t._s(t.shopInfo.introduction)+"\n                ")])])])]),t._v(" "),n("div",{staticClass:"property"},[n("div",{staticClass:"item item-goods"},[n("p",{staticClass:"title"},[t._v("商品")]),t._v(" "),""!==t.shopGoodsNum?n("NumberCard",{staticClass:"detail",attrs:{text:t.shopGoodsNum}}):t._e()],1),t._v(" "),n("div",{staticClass:"item"},[n("p",{staticClass:"title"},[t._v("粉丝")]),t._v(" "),n("NumberCard",{staticClass:"detail",attrs:{text:t.fansCnt}})],1),t._v(" "),n("div",{staticClass:"item"},[n("p",{staticClass:"title"},[t._v("等级")]),t._v(" "),n("NumberCard",{staticClass:"detail",attrs:{text:"Lv"+t.shopLevelInfo.level}})],1)]),t._v(" "),n("div",{staticClass:"card-action-box"},[t.shopFollow.is_own_shop?n("div",{staticClass:"btn-common",on:{click:t.toShopMis}},[t._v("\n            店铺后台\n        ")]):n("div",{staticClass:"btn-common",on:{click:t.followShop}},[t._v("\n            "+t._s(t.followShopText)+"\n        ")]),t._v(" "),n("div",{staticClass:"btn-common btn-shop",on:{click:t.toShop}},[t._v("进入店铺")])])])}),[],!1,null,null,null).exports),k=n(3),S=n(2),D=n(11);function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){V(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function V(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var R=new w.a,A="0",L="1",N="2",$={data:function(){return{telHover:!1,followHover:!1}},components:{NumberCard:m},computed:E(E(E({},Object(o.mapState)(["pageData","isLogin"])),Object(o.mapGetters)(["docInfo","creatorInfo","shopInfo"])),{},{docNumDes:function(){return D.a.formateNum(this.creatorInfo.doc_count)},followNumDes:function(){return D.a.formateNum(this.creatorInfo.follower_count)},followDs:function(){return this.haveFollowed?this.followHover?"取消关注":"已关注":"关注"},showTag:function(){var t=this.creatorInfo.utype;return t?t.substring(0,1).toLowerCase():""},haveFollowed:function(){return this.creatorInfo.have_followed===L},typeTitle:function(){return this.creatorInfo.typeTitle}}),methods:E(E({},Object(o.mapMutations)(["setCreatorInfoFollowerCount","setCreatorInfoHaveFollowed"])),{},{adjustNicknameTag:function(){var t=this;this.$nextTick((function(){var e=Object(k.$)(t.$refs.nickname).width();if((e=void 0===e?0:e)<126){var n=126-e+54;Object(k.$)(t.$refs.userInfoTag).removeClass("tag-maxw").css({maxWidth:n+"px"})}}))},avatarClicked:function(t){var e=this.creatorInfo,n=e.prove_url,o=e.utype;n&&"PGC"!==o||(n=this.generateUserLink()),n&&(window.open(n),!t&&S.log.xsend(102269,{utype:o}))},generateUserLink:function(){var t=this.creatorInfo,e=t.utype,n=t.uname;if(e&&n){var o=e.substring(0,1).toLowerCase();return"https://wenku.baidu.com/".concat(o,"/").concat(n,"?from=wenku")}return""},followAction:function(){var t=this;this.excuteCheckLogin((function(){var e=t.creatorInfo.have_followed;if(e!==N){S.log.xsend(102270,{utype:t.creatorInfo.utype,type:e===L?0:1});var n=e===L?"/user/submit/deletefavourl":"/user/submit/favourl";g.wkAxios.get(n,{params:{uid_str:t.creatorInfo.uid_str}}).then((function(n){if(n){var o=+t.creatorInfo.follower_count;e===L?(t.setCreatorInfoHaveFollowed(A),o-=1):(t.setCreatorInfoHaveFollowed(L),o+=1),o<0&&(o=0),t.setCreatorInfoFollowerCount(o)}}))}}))},userAction:function(){var t=this.creatorInfo,e=t.utype,n=t.show_auth;S.log.xsend(102276,{utype:e,type:n}),this.avatarClicked(!0)},telMouseEnter:function(){this.telHover=!0},telMouseLeave:function(){this.telHover=!1},followMouseEnter:function(){this.followHover=!0},followMouseLeave:function(){this.followHover=!1},excuteCheckLogin:function(t){this.isLogin?t():R.log()}})};n(299);function G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G(Object(n),!0).forEach((function(e){M(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var U={components:{Shop:x,Person:Object(y.default)($,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"author-info-wrapper"},[n("div",{staticClass:"title-box"},[n("p",{staticClass:"title"},[t._v("关于作者")]),t._v(" "),t.creatorInfo.phone.length>0?[n("p",{staticClass:"contact",on:{mouseenter:t.telMouseEnter,mouseleave:t.telMouseLeave}},[t._v("\n                官方电话\n            ")]),t._v(" "),t.telHover?n("div",{staticClass:"tel-hover",on:{mouseenter:t.telMouseEnter,mouseleave:t.telMouseLeave}},[n("p",{staticClass:"telphone"},[t._v(t._s(t.creatorInfo.phone))])]):t._e()]:t._e(),t._v(" "),n("div",{staticClass:"line"})],2),t._v(" "),n("div",{staticClass:"user-info"},[n("div",{staticClass:"avatar",style:t.creatorInfo.avadar?"background-image: url("+t.creatorInfo.avadar+")":"",on:{click:t.avatarClicked}},[n("div",{class:["v-tag","v-tag-"+t.showTag]})]),t._v(" "),n("div",{staticClass:"info"},[n("div",{staticClass:"nick-box"},[n("p",{ref:"nickname",staticClass:"nickname",on:{click:t.userAction}},[t._v("\n                    "+t._s(t.creatorInfo.tname)+"\n                ")]),t._v(" "),t.creatorInfo.title?n("p",{ref:"userInfoTag",staticClass:"tag tag-maxw"},[t._v("\n                    "+t._s(t.creatorInfo.title)+"\n                ")]):t._e()]),t._v(" "),t.creatorInfo.verify_name.length>0?n("p",{staticClass:"subtitle"},[t._v("\n                "+t._s(t.creatorInfo.verify_name)+"\n            ")]):t._e()])]),t._v(" "),n("div",{staticClass:"property"},[n("div",{staticClass:"item"},[n("p",{staticClass:"title"},[t._v("文档")]),t._v(" "),n("NumberCard",{staticClass:"detail",attrs:{text:t.docNumDes}})],1),t._v(" "),n("div",{staticClass:"item"},[n("p",{staticClass:"title"},[t._v("粉丝")]),t._v(" "),n("NumberCard",{staticClass:"detail",attrs:{text:t.followNumDes}})],1),t._v(" "),n("div",{staticClass:"item"},[n("p",{staticClass:"title"},[t._v("等级")]),t._v(" "),n("NumberCard",{staticClass:"detail",attrs:{text:"Lv"+t.creatorInfo.level}})],1)]),t._v(" "),"2"!=t.creatorInfo.have_followed?n("div",{staticClass:"card-action-box"},[t.haveFollowed?n("div",{staticClass:"common followed",on:{click:t.followAction,mouseenter:t.followMouseEnter,mouseleave:t.followMouseLeave}},[t._v(t._s(t.followDs))]):n("div",{staticClass:"common unfollow",on:{click:t.followAction}},[t._v("\n            "+t._s(t.followDs)+"\n        ")]),t._v(" "),n("div",{staticClass:"common user-info",on:{click:t.userAction}},[t._v("\n            "+t._s(t.typeTitle)+"\n        ")])]):t._e()])}),[],!1,null,null,null).exports,ShopGoods:n(242).a},computed:B(B({},Object(o.mapGetters)(["creatorInfo","shopInfo"])),{},{showShop:function(){return this.shopInfo&&60==+this.shopInfo.shop_status}})},F=Object(y.default)(U,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"author-info"},[this.showShop?e("Shop"):this.creatorInfo?e("Person"):this._e(),this._v(" "),e("ShopGoods")],1)}),[],!1,null,null,null);e.a=F.exports},,function(t,e,n){"use strict";var o=n(5),i=n(2),r=n(3),a=n(8),c=n(46),s=n(11);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f={props:{from:String},filters:{formatMoney:s.b},computed:u(u({},Object(o.mapState)("priceInfo",["shopVoucherInfo","confirmPrice","originalPrice"])),{},{showPrice:function(){return"summary"!==this.from},price:function(){return this.shopVoucherInfo.shopConfirmPrice}})},d=(n(281),n(4)),v=Object(d.default)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"coupon-btn",class:{"short-style":"topBar"===t.from}},[t.showPrice?[n("div",{staticClass:"price-wrap"},[n("p",{staticClass:"confirm-price"},[t._v("￥"+t._s(t._f("formatMoney")(t.price)))]),t._v(" "),n("p",{staticClass:"original-price"},[t._v("原价￥"+t._s(t.originalPrice))])])]:t._e(),t._v(" "),n("div",[t._v("\n        "+t._s(t.shopVoucherInfo.isDraw?"立即购买":"领券购买")+"\n    ")])],2)}),[],!1,null,null,null).exports,h=n(12),b=n(17);function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _=new(n.n(b).a),w={data:function(){return{downloader:void 0,DOC_TYPE:a.a,showDownloadDialog:!1}},filters:{formatMoney:s.b},props:{from:String},components:{CompBtnCoupon:v},mounted:function(){window.tsCTTI=+new Date,this.downloader=c.a.createDownload(),this.viewLog(),this.getLimitedInfo()},computed:m(m(m(m(m({},Object(o.mapState)(["pageData","isLogin","priceInfo"])),Object(o.mapState)("priceInfo",["promotionInfo","cashType","ispaied"])),Object(o.mapGetters)(["viewControl","docInfo2019","docId","readerInfo2019","vipInfo","isVip","docValueType","ticketDocSubType","wkSmallflow","readallDownloadable"])),Object(o.mapGetters)("priceInfo",["promotionPrice","visiblePromotion","visibleCoupon"])),{},{visiblePrice:function(){return!this.visiblePromotion&&!this.visibleCoupon},showSaleTip:function(){return this.docInfo2019.price_info.is_discount_doc?1:0},proDocBtnText:function(){var t=this.isLogin,e=this.isVip;return t&&e?"VIP专享下载":"加入VIP免费专享"},price:function(){return this.isVip?this.priceVip:this.priceNotVip},priceVip:function(){return Object(s.b)(this.docInfo2019.price_info.vip_price)},priceNotVip:function(){return Object(s.b)(this.docInfo2019.price_info.confirm_price)},saveMoney:function(){return Math.floor(.2*+this.priceNotVip*10)/10},hasGot:function(){return 1==+this.ispaied},secretDownloadable:function(){var t=this.docInfo2019;return 1==+t.doc_info.is_downloadable||t.doc_info.is_creater},btnPayRightText:function(){var t=this.cashType,e=this.isVip,n=this.docInfo2019,o=Object(s.b)(n.price_info.vip_price),i="";return"CASH_PACK"===t?e||(i="￥0 VIP首单免费"):"CASH_DISCOUNT"===t&&(e&&(i="续费VIP"),!e&&(i="￥".concat(o," VIP8折购买"))),i},isShowBtnRight:function(){var t,e,n=this.cashType,o=this.from,i=this.isVip;return["summary","docBtns","foldpage"].indexOf(o)>-1&&("CASH_PACK"===n&&!i||"CASH_DISCOUNT"===n)&&!(null===(t=this.docInfo2019)||void 0===t||null===(e=t.price_info)||void 0===e?void 0:e.high_price_doc)}}),methods:m(m(m(m({},Object(o.mapMutations)(["setCcSuffix"])),Object(o.mapActions)("userInfo",["getLimitedInfo"])),Object(o.mapActions)(["clickCoreBtn"])),{},{viewLog:function(){var t=this.from;r.Util.Common.onElsVisible(".core-btn-wrapper.".concat(t),(function(){var e=Object(r.$)(this);"hidden"!==e.css("visibility")&&((e.data("logged")?1:0)||(i.log.xsend(102622,{from:t}),e.data("logged",1)))}))},clickBtnPayVip:function(){var t=this.cashType,e=this.from,n=this.isVip,o=this.isLogin;this.docInfo2019;if(i.log.xsend(102688,{isVip:n,cashType:t,position:e}),o){var r=this.docId,a={summary:"Inf",docBtns:"Toolbar"};if("CASH_PACK"!==t||n){if("CASH_DISCOUNT"===t){var c="ViewpaydiscountDownload".concat(a[e]);i.log.xsend(102741,{pos:"coreBtn",idx:2});var s=Object(h.b)("/ndcashier/browse/jiaoyuvipcashier",{},c);location.href=s}}else{var l="ViewpaypackageDownload".concat(a[e]);i.log.xsend(102741,{pos:"coreBtn",idx:1});var u=Object(h.b)("/ndcashier/browse/vipwithdoccashier",{doc_ids:r},l);location.href=u}}else _.log()},handleClick:function(t){var e="string"==typeof t?t:"";this.log(e),this.clickCoreBtn({from:this.from})},jumpActivity:function(){i.log.xsend(102490);var t=this.isLogin,e=this.isVip;if(t)if(e)this.downloader.download();else{var n=Object(h.b)("/ndcashier/browse/jiaoyuvipcashier",{},"Viewvip8wenzi");i.log.xsend(102741,{pos:"coreBtn",idx:5}),window.open(n)}else _.log()},log:function(t){var e=this.from,n=this.cashType,o=void 0===n?"":n,r=this.isLogin;i.log.xsend(102340,{from:e,cashType:o,isLogin:r,btnType:t||""})}})},O=(n(282),Object(d.default)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:[t.cashType,t.from,"new-header","core-btn-wrapper"]},[t.isVip?["TICKET"===t.docValueType?["TICKET_ZERO"===t.ticketDocSubType?n("div",{staticClass:"btn-normal",on:{click:t.handleClick}},[t._v("下载文档")]):n("div",{staticClass:"btn-ticket",on:{click:t.handleClick}},[t._v("下载文档")])]:"VIP_RIGHT"===t.docValueType?["1-1"===t.readallDownloadable?n("div",{staticClass:"btn-vip",on:{click:t.handleClick}},[t._v(t._s(t.proDocBtnText))]):"1-0"===t.readallDownloadable?n("div",{staticClass:"btn-disable"},[t._v("仅支持阅读")]):"0-1"===t.readallDownloadable?n("div",{staticClass:"btn-vip",on:{click:t.handleClick}},[t._v(t._s(t.proDocBtnText))]):"0-0"===t.readallDownloadable?n("div",{staticClass:"btn-disable"},[t._v("仅支持阅读")]):t._e()]:"CASH"===t.docValueType?["CASH_PACK"===t.cashType?["0-1"!==t.readallDownloadable||t.hasGot?"0-1"===t.readallDownloadable&&t.hasGot?n("div",{staticClass:"btn-normal",on:{click:t.handleClick}},[t._v("下载文档")]):"0-0"!==t.readallDownloadable||t.hasGot?"0-0"===t.readallDownloadable&&t.hasGot?n("div",{staticClass:"btn-disable"},[t._v("仅支持阅读")]):"1-1"!==t.readallDownloadable||t.hasGot?"1-1"===t.readallDownloadable&&t.hasGot?n("div",{staticClass:"btn-normal",on:{click:t.handleClick}},[t._v("下载文档")]):"1-0"===t.readallDownloadable?n("div",{staticClass:"btn-disable"},[t._v("仅支持阅读")]):t._e():n("div",{staticClass:"btn-pay",on:{click:t.handleClick}},[t.visiblePrice?[t._v("\n                        ￥"+t._s(t.price)+" 下载文档\n                    ")]:t.visibleCoupon?[n("CompBtnCoupon",{attrs:{from:t.from}})]:[t._v("\n                        购买文档\n                    ")]],2):n("div",{staticClass:"btn-pay",on:{click:t.handleClick}},[t.visiblePrice?[t._v("\n                        ￥"+t._s(t.price)+" 查看全文\n                    ")]:t.visibleCoupon?[n("CompBtnCoupon",{attrs:{from:t.from}})]:[t._v("\n                        购买文档\n                    ")]],2):n("div",{staticClass:"btn-pay",on:{click:t.handleClick}},[t.visiblePrice?[t._v("\n                        ￥"+t._s(t.price)+" 下载文档\n                    ")]:t.visibleCoupon?[n("CompBtnCoupon",{attrs:{from:t.from}})]:[t._v("\n                        购买文档\n                    ")]],2)]:"CASH_DISCOUNT"===t.cashType?["0-1"!==t.readallDownloadable||t.hasGot?"0-1"===t.readallDownloadable&&t.hasGot?n("div",{staticClass:"btn-normal",on:{click:t.handleClick}},[t._v("下载文档")]):"0-0"!==t.readallDownloadable||t.hasGot?"0-0"===t.readallDownloadable&&t.hasGot?n("div",{staticClass:"btn-disable"},[t._v("仅支持阅读")]):"1-1"!==t.readallDownloadable||t.hasGot?"1-1"===t.readallDownloadable&&t.hasGot?n("div",{staticClass:"btn-normal",on:{click:t.handleClick}},[t._v("下载文档")]):"1-0"===t.readallDownloadable?n("div",{staticClass:"btn-disable"},[t._v("仅支持阅读")]):t._e():n("div",{staticClass:"btn-pay discount",on:{click:t.handleClick}},[t.visibleCoupon?[n("CompBtnCoupon",{attrs:{from:t.from}})]:t.visiblePromotion?[t._v("\n                        购买文档\n                    ")]:[n("div",{staticClass:"vip-discount-line-wrap"},[n("p",{staticClass:"vip-price"},[t._v("￥"+t._s(t.price))]),t._v(" "),n("p",{staticClass:"not-vip"},[t._v("原价￥"+t._s(t.priceNotVip))])]),t._v("VIP8折购买\n                    ")]],2):n("div",{staticClass:"btn-pay discount",on:{click:t.handleClick}},[t.visibleCoupon?[n("CompBtnCoupon",{attrs:{from:t.from}})]:t.visiblePromotion?[t._v("\n                        购买文档\n                    ")]:[n("div",{staticClass:"vip-discount-line-wrap"},[n("p",{staticClass:"vip-price"},[t._v("￥"+t._s(t.price))]),t._v(" "),n("p",{staticClass:"not-vip"},[t._v("原价￥"+t._s(t.priceNotVip))])]),t._v("VIP8折看全文\n                    ")]],2):n("div",{staticClass:"btn-pay discount",on:{click:t.handleClick}},[t.visibleCoupon?[n("CompBtnCoupon",{attrs:{from:t.from}})]:t.visiblePromotion?[t._v("\n                        购买文档\n                    ")]:[n("div",{staticClass:"vip-discount-line-wrap"},[n("p",{staticClass:"vip-price"},[t._v("￥"+t._s(t.price))]),t._v(" "),n("p",{staticClass:"not-vip"},[t._v("原价￥"+t._s(t.priceNotVip))])]),t._v("VIP8折购买\n                    ")]],2),t._v(" "),t._e()]:"CASH_NORMAL"===t.cashType?["0-1"!==t.readallDownloadable||t.hasGot?"0-1"===t.readallDownloadable&&t.hasGot?n("div",{staticClass:"btn-normal",on:{click:t.handleClick}},[t._v("下载文档")]):"0-0"!==t.readallDownloadable||t.hasGot?"0-0"===t.readallDownloadable&&t.hasGot?n("div",{staticClass:"btn-disable"},[t._v("仅支持阅读")]):"1-1"!==t.readallDownloadable||t.hasGot?"1-1"===t.readallDownloadable&&t.hasGot?n("div",{staticClass:"btn-normal",on:{click:t.handleClick}},[t._v("下载文档")]):"1-0"===t.readallDownloadable?n("div",{staticClass:"btn-disable"},[t._v("仅支持阅读")]):t._e():n("div",{staticClass:"btn-pay",on:{click:t.handleClick}},[t.visibleCoupon?[n("CompBtnCoupon",{attrs:{from:t.from}})]:t.visiblePromotion?[t._v("\n                        购买文档\n                    ")]:[t._v("\n                        ￥"+t._s(t.price)+" 下载文档\n                    ")]],2):n("div",{staticClass:"btn-pay",on:{click:t.handleClick}},[t.visibleCoupon?[n("CompBtnCoupon",{attrs:{from:t.from}})]:t.visiblePromotion?[t._v("\n                        购买文档\n                    ")]:[t._v("\n                        ￥"+t._s(t.price)+" 查看全文\n                    ")]],2):n("div",{staticClass:"btn-pay",on:{click:t.handleClick}},[t.visibleCoupon?[n("CompBtnCoupon",{attrs:{from:t.from}})]:t.visiblePromotion?[t._v("\n                        购买文档\n                    ")]:[t._v("\n                        ￥"+t._s(t.price)+" 下载文档\n                    ")]],2)]:t._e(),t._v(" "),t.isShowBtnRight?n("div",{staticClass:"btn-pay-vip",on:{click:t.clickBtnPayVip}},[t._v("\n                "+t._s(t.btnPayRightText)+"\n            ")]):t._e()]:"SECRET"===t.docValueType?[t.secretDownloadable?n("div",{staticClass:"btn-normal",on:{click:function(e){return t.handleClick("secretDownload")}}},[t._v("下载文档")]):n("div",{staticClass:"btn-disable-private",on:{click:function(e){return t.log("secretReadOnly")}}},[t._v("仅支持阅览")])]:[n("div",{staticClass:"btn-normal 4",on:{click:t.handleClick}},[t._v("下载文档")])]]:["TICKET"===t.docValueType?["TICKET_ZERO"===t.ticketDocSubType?n("div",{staticClass:"btn-normal",on:{click:t.handleClick}},[t._v("\n                下载文档\n            ")]):n("div",{staticClass:"btn-ticket",on:{click:t.handleClick}},[t._v("下载文档")])]:"VIP_RIGHT"===t.docValueType?["1-1"===t.readallDownloadable?n("div",{staticClass:"btn-vip",on:{click:t.handleClick}},[t._v("VIP专享下载")]):"1-0"===t.readallDownloadable?n("div",{staticClass:"btn-disable",on:{click:t.handleClick}},[t._v("仅支持阅读")]):"0-1"===t.readallDownloadable?n("div",{staticClass:"btn-vip",on:{click:t.handleClick}},[t._v("VIP专享下载")]):"0-0"!==t.readallDownloadable||t.hasGot?"0-0"===t.readallDownloadable&&t.hasGot?n("div",{staticClass:"btn-disable",on:{click:t.handleClick}},[t._v("仅支持阅读")]):t._e():n("div",{staticClass:"btn-vip",on:{click:t.handleClick}},[t._v("加入VIP看全文")])]:"CASH"===t.docValueType?["CASH_PACK"===t.cashType?["0-1"!==t.readallDownloadable||t.hasGot?"0-1"===t.readallDownloadable&&t.hasGot?n("div",{staticClass:"btn-normal",on:{click:t.handleClick}},[t._v("下载文档")]):"0-0"!==t.readallDownloadable||t.hasGot?"0-0"===t.readallDownloadable&&t.hasGot?n("div",{staticClass:"btn-disable"},[t._v("仅支持阅读")]):"1-1"!==t.readallDownloadable||t.hasGot?"1-1"===t.readallDownloadable&&t.hasGot?n("div",{staticClass:"btn-normal",on:{click:t.handleClick}},[t._v("下载文档")]):"1-0"===t.readallDownloadable?n("div",{staticClass:"btn-disable"},[t._v("仅支持阅读")]):t._e():n("div",{staticClass:"btn-pay",on:{click:t.handleClick}},[t.visiblePrice?[t._v("\n                        ￥"+t._s(t.price)+" 下载文档\n                    ")]:[t._v("\n                        购买文档\n                    ")]],2):n("div",{staticClass:"btn-pay",on:{click:t.handleClick}},[t.visiblePrice?[t._v("\n                        ￥"+t._s(t.price)+" 查看全文\n                    ")]:[t._v("\n                        购买文档\n                    ")]],2):n("div",{staticClass:"btn-pay",on:{click:t.handleClick}},[t.visiblePrice?[t._v("\n                        ￥"+t._s(t.price)+" 下载文档\n                    ")]:[t._v("\n                        购买文档\n                    ")]],2)]:"CASH_DISCOUNT"===t.cashType?["0-1"!==t.readallDownloadable||t.hasGot?"0-1"===t.readallDownloadable&&t.hasGot?n("div",{staticClass:"btn-normal",on:{click:t.handleClick}},[t._v("下载文档")]):"0-0"!==t.readallDownloadable||t.hasGot?"0-0"===t.readallDownloadable&&t.hasGot?n("div",{staticClass:"btn-disable"},[t._v("仅支持阅读")]):"1-1"!==t.readallDownloadable||t.hasGot?"1-1"===t.readallDownloadable&&t.hasGot?n("div",{staticClass:"btn-normal",on:{click:t.handleClick}},[t._v("下载文档")]):"1-0"===t.readallDownloadable?n("div",{staticClass:"btn-disable"},[t._v("仅支持阅读")]):t._e():n("div",{staticClass:"btn-pay 2",on:{click:t.handleClick}},[t.visiblePrice?[t._v("\n                        ￥"+t._s(t.price)+" 购买文档\n                    ")]:[t._v("\n                        购买文档\n                    ")]],2):n("div",{staticClass:"btn-pay tag-vip-discount",on:{click:t.handleClick}},[t.visibleCoupon?[n("CompBtnCoupon",{attrs:{from:t.from}})]:t.visiblePromotion?[t._v("\n                        购买文档\n                    ")]:[t._v("\n                        ￥"+t._s(t.price)+" 查看全文\n                    ")]],2):n("div",{staticClass:"btn-pay 1",on:{click:t.handleClick}},[t.visibleCoupon?[n("CompBtnCoupon",{attrs:{from:t.from}})]:t.visiblePromotion?[t._v("\n                        购买文档\n                    ")]:[t._v("\n                        ￥"+t._s(t.price)+" 购买文档\n                    ")]],2),t._v(" "),t._e()]:"CASH_NORMAL"===t.cashType?["0-1"!==t.readallDownloadable||t.hasGot?"0-1"===t.readallDownloadable&&t.hasGot?n("div",{staticClass:"btn-normal",on:{click:t.handleClick}},[t._v("下载文档")]):"0-0"!==t.readallDownloadable||t.hasGot?"0-0"===t.readallDownloadable&&t.hasGot?n("div",{staticClass:"btn-disable"},[t._v("仅支持阅读")]):"1-1"!==t.readallDownloadable||t.hasGot?"1-1"===t.readallDownloadable&&t.hasGot?n("div",{staticClass:"btn-normal",on:{click:t.handleClick}},[t._v("下载文档")]):"1-0"===t.readallDownloadable?n("div",{staticClass:"btn-disable"},[t._v("仅支持阅读")]):t._e():n("div",{staticClass:"btn-pay",on:{click:t.handleClick}},[t.visibleCoupon?[n("CompBtnCoupon",{attrs:{from:t.from}})]:t.visiblePromotion?[t._v("\n                        购买文档\n                    ")]:[t._v("\n                        ￥"+t._s(t.price)+" 下载文档\n                    ")]],2):n("div",{staticClass:"btn-pay",on:{click:t.handleClick}},[t.visibleCoupon?[n("CompBtnCoupon",{attrs:{from:t.from}})]:t.visiblePromotion?[t._v("\n                        购买文档\n                    ")]:[t._v("\n                        ￥"+t._s(t.price)+" 查看全文\n                    ")]],2):n("div",{staticClass:"btn-pay",on:{click:t.handleClick}},[t.visibleCoupon?[n("CompBtnCoupon",{attrs:{from:t.from}})]:t.visiblePromotion?[t._v("\n                        购买文档\n                    ")]:[t._v("\n                        ￥"+t._s(t.price)+" 下载文档\n                    ")]],2)]:t._e(),t._v(" "),t.isShowBtnRight?n("div",{staticClass:"btn-pay-vip",on:{click:t.clickBtnPayVip}},[t._v("\n                "+t._s(t.btnPayRightText)+"\n            ")]):t._e()]:"SECRET"===t.docValueType?[t.secretDownloadable?n("div",{staticClass:"btn-normal",on:{click:function(e){return t.handleClick("secretDownload")}}},[t._v("下载文档")]):n("div",{staticClass:"btn-disable-private",on:{click:function(e){return t.log("secretReadOnly")}}},[t._v("仅支持阅览")])]:[n("div",{staticClass:"btn-normal",on:{click:t.handleClick}},[t._v("\n                下载文档\n            ")])]]],2)}),[],!1,null,null,null));e.a=O.exports},function(t,e,n){"use strict";var o=n(5),i=n(2),r=n(3),a=n(1),c=n(0);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=v(t);if(e){var i=v(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return d(this,n)}}function d(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(r,t);var e,n,o,i=f(r);function r(){var t;return l(this,r),(t=i.apply(this,arguments)).bgImgLoadStatus=0,t}return e=r,(n=[{key:"mounted",value:function(){this.setCover()}},{key:"onInfo",value:function(){this.setCover()}},{key:"setCover",value:function(){var t=this,e=this.info.pic;if(e){var n=new Image;n.onerror=function(){t.bgImgLoadStatus=2},n.onload=function(){t.bgImgLoadStatus=1},n.src=e}}}])&&u(e.prototype,n),o&&u(e,o),r}(c.Vue);Object(a.a)([Object(c.Prop)(Object)],h.prototype,"info",void 0),Object(a.a)([Object(c.Prop)(Number)],h.prototype,"index",void 0),Object(a.a)([Object(c.Watch)("info")],h.prototype,"onInfo",null);var b=h=Object(a.a)([Object(c.Component)({})],h),y=(n(295),n(4)),m=Object(y.default)(b,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.info?n("div",{staticClass:"relative-recommend-item-horizontal"},[n("div",{staticClass:"cover-wrapper"},[t.info.pic?n("div",{staticClass:"cover",class:{default:2===t.bgImgLoadStatus},style:{backgroundImage:1===t.bgImgLoadStatus?"url("+t.info.pic+")":"none"}}):n("div",{staticClass:"cover default"})]),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"title",domProps:{textContent:t._s(t.info.title)}}),t._v(" "),n("div",{staticClass:"state"},[n("div",{staticClass:"star"}),t._v(" "),n("div",{staticClass:"score",domProps:{textContent:t._s(t.info.scoreTag)}}),t._v(" "),n("div",{staticClass:"viewcount",domProps:{textContent:t._s(t.info.viewCountTag)}})])])]):t._e()}),[],!1,null,"a410c3e8",null).exports,g=n(245),_=n(84);function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){C(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var j={computed:O(O(O({},Object(o.mapState)(["pageData"])),Object(o.mapGetters)(["docId","docInfo2019","relativeRecommendInfo"])),{},{visible:function(){var t=this.relativeRecommendInfo.otherLikeDoc;return!(!t||!r.$.isArray(t))&&(this.isHorizontal?t.length>=3:t.length>=5)},isHorizontal:function(){return _.a.validateRelativeDocViewStyleIsHorizontal(this.docInfo2019.doc_info.type)},docs:function(){var t=this.relativeRecommendInfo.otherLikeDoc;return t=_.a.validateRelativeDocs(t),this.isHorizontal?t.length>=12?t=t.slice(0,12):t.length>=9?t=t.slice(0,9):t.length>=6?t=t.slice(0,6):t.length>=3&&(t=t.slice(0,3)):t.length>=10?t=t.slice(0,10):t.length>=5&&(t=t.slice(0,5)),t}}),mounted:function(){var t;try{t=this.relativeRecommendInfo.expData[0],i.log.xsend(102236,{bigPic:!this.isHorizontal,readerId:this.docId,outExpId:t&&t.expId,recFrom:"pc_newview_relate"}),_.a.validateDocIsPGC(this.pageData)&&i.log.xsend(100725,{outExpId:t&&t.expId,recFrom:"pc_newview_relate"})}catch(e){t=""}},components:{RelativeRecommendItemHorizontal:m,RelativeRecommendItemVertical:g.a},methods:{clickRecommend:function(t,e){var n;try{n=t.expParam,i.log.xsend(102237,{bigPic:!this.isHorizontal,docId:t.doc_id,expName:n&&n.expName,expId:n&&n.expId,expSourceType:n&&n.expSourceType,expSourceStrId:n&&n.expSourceStrId,index:e+1,recFrom:"pc_newview_relate",seat:"bottom",outExpId:this.relativeRecommendInfo.expData[0].expId})}catch(t){n=""}_.a.validateDocIsPGC(this.pageData)&&i.log.xsend(100727);var o=Object(r.$)("#kw").data("keyword"),a=o?"//wenku.baidu.com/view/".concat(t.doc_id,".html?rec_flag=default&word=").concat(encodeURIComponent(o)):"//wenku.baidu.com/view/".concat(t.doc_id,".html?rec_flag=default");window.open(a)}}},P=(n(296),Object(y.default)(j,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("div",{staticClass:"relative-recommend-wrapper"},[n("p",{staticClass:"topic"},[t._v("相关推荐")]),t._v(" "),n("div",{staticClass:"divider"}),t._v(" "),n("div",{staticClass:"relative-recommend-in-wrapper",class:{v:!t.isHorizontal}},t._l(t.docs,(function(e,o){return n("div",{key:o,staticClass:"item",on:{click:function(n){return t.clickRecommend(e,o)}}},[t.isHorizontal?n("RelativeRecommendItemHorizontal",{attrs:{info:e,index:o}}):n("RelativeRecommendItemVertical",{attrs:{info:e,index:o}})],1)})),0)]):t._e()}),[],!1,null,"eb8f2d6a",null));e.a=P.exports},function(t,e,n){"use strict";var o=n(5),i=n(3),r=n(118),a=n(117),c=n(71),s=n(251),l=n(2),u=(n(6),n(18)),p=n(250);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h={data:function(){return{visible:!1,imgUrl:"",jumpUrl:""}},computed:d(d({},Object(o.mapGetters)(["skinViewStrategy"])),Object(o.mapState)(["eventBus"])),mounted:function(){var t=this;this.eventBus.on("vipMemberPopComplete",(function(){t.getOperation()}))},methods:{getOperation:function(){var t=this;if(p.a.topOpVisible()){var e=this.skinViewStrategy;if(e&&e.topbar_is_open){var n=e.topbar_big_pic_url;e.key;e.firstShow?n=e.topbar_pic_url:(u.default.set(e.key,1,{path:"/",expires:1}),setTimeout((function(){t.imgUrl=e.topbar_pic_url}),3e3));var o=e.topbar_jump_url;l.log.xsend(102318,{opType:"show",jumpUrl:o}),this.visible=!0,this.imgUrl=n,this.jumpUrl=o}}},clickBanner:function(){var t=this.jumpUrl;l.log.xsend(102318,{opType:"click",jumpUrl:t}),window.open(t)},handleClose:function(){this.visible=!1,l.log.xsend(102319)}}},b=(n(284),n(4));function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _={components:{Operation:Object(b.default)(h,(function(){var t=this.$createElement,e=this._self._c||t;return this.visible?e("div",{staticClass:"operate-wrapper"},[e("img",{attrs:{src:this.imgUrl},on:{click:this.clickBanner}}),this._v(" "),e("span",{staticClass:"link-close",on:{click:this.handleClose}})]):this._e()}),[],!1,null,null,null).exports,Topbar:r.a,SearchBox:a.a,CoreBtn:c.a,CoinAnimation:s.a},data:function(){return{page:"view",popShow:!1}},computed:m(m(m({},Object(o.mapState)(["pageData","scrollObject","isLogin"])),Object(o.mapGetters)(["vipInfo","myShopInfo","mixVipAndUserInfo","docInfo2019","wkSmallflow"])),{},{searchWords:function(){return this.docInfo2019.search_words},fixed:function(){var t,e=Number(Object(i.$)(this.$el).height());return(null===(t=this.scrollObject)||void 0===t?void 0:t.top)>e}}),methods:{getPopKey:function(t){var e=new Date;return[t,e.getFullYear(),e.getMonth(),e.getDate()].join("-")},updateAnimation:function(t){var e=null==t?void 0:t.status;this.transferAnimation(e)},checkActivityStatus:function(t){var e=null==t?void 0:t.validAct,n=null==t?void 0:t.isFinished;if(e){var o=localStorage.getItem(this.getPopKey("shuang12-first"));if(!o||0==+o)return this.popShow=!0,localStorage&&localStorage.setItem(this.getPopKey("shuang12-first"),"1"),void this.transferAnimation(!0);var i=localStorage.getItem(this.getPopKey("shuang12-task"));i&&0!=+i||!n||(this.popShow=!0,this.transferAnimation(!0),localStorage&&localStorage.setItem(this.getPopKey("shuang12-task"),"1"))}},transferAnimation:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$emit("annimationstatus",{inAnnimation:t})}}},w=(n(285),Object(b.default)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-wrapper no-full-screen",class:{"is-top":t.fixed,"new-header":!0}},[n("Operation"),t._v(" "),n("SearchBox",{attrs:{"is-login":t.isLogin,page:t.page,"search-words":t.searchWords,small:t.fixed,"vip-info":t.vipInfo,"mix-vip-and-user-info":t.mixVipAndUserInfo,"my-shop-info":t.myShopInfo,"wk-smallflow":t.wkSmallflow,docinfo2019:t.docInfo2019,fr:"searchBox"}}),t._v(" "),t.popShow?n("CoinAnimation",{attrs:{source:"year_1212_yuedu"},on:{updateCoinStatus:t.updateAnimation}}):t._e(),t._v(" "),n("activity-bar",{on:{"activity-bar-info":t.checkActivityStatus}})],1)}),[],!1,null,null,null));e.a=w.exports},,,,function(t,e,n){"use strict";var o=n(5),i=n(2),r=n(3),a=n(71),c=n(53),s=n(241);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f={data:function(){return{curPage:"1",screenMode:"normal"}},components:{DocTypeIcon:c.a,CoreBtn:a.a},computed:u(u(u({},Object(o.mapState)(["scrollObject","pageData"])),Object(o.mapGetters)(["tplName","docInfo2019","readerInfo2019"])),{},{curPageInputW:function(){return 9*String(this.curPage).length+15},visibleGotoPage:function(){return"html"!==this.pageData.tplName}}),watch:{scrollObject:function(t){this.bindOnScroll(t)},curPage:function(t,e){isNaN(t)&&t&&(this.curPage=e)}},mounted:function(){var t=this.scrollObject,e=t.top,n=void 0===e?0:e,o=t.direction;this.bindOnScroll({top:n,direction:o}),this.bindOnFullScreen()},methods:{bindOnScroll:function(t){var e=t||{},n=e.direction,o=e.top,i=+this.curPage||1,a=i,c=document.getElementById("reader-container"),s=c?c.getBoundingClientRect():{bottom:0};if("down"===n){for(var l;l=document.getElementById("pageNo-".concat(a));){var u=Number(Object(r.$)(window).height()),p=l.getBoundingClientRect();if(u>p.top&&p.top>0&&Object(r.$)(l).is(":visible")&&s.bottom+5>p.bottom)break;a++}a=l?a:i}else if("up"===n){for(var f;f=document.getElementById("pageNo-".concat(a));){var d=Number(Object(r.$)(window).height()),v=f.getBoundingClientRect();if(d>v.top&&v.top>0&&Object(r.$)(f).is(":visible"))break;a--}a=f?a:i}if("full"===this.screenMode&&o<50&&(a=1),0===a&&(a=""),this.curPage=a,"full"!==this.screenMode){o>(Object(r.$)(".doc-info-wrapper .doc-title").offset()||{top:0}).top+25-60?Object(r.$)(".doc-title.normal-screen-mode").css({opacity:1}):Object(r.$)(".doc-title.normal-screen-mode").css({opacity:0});var h=Object(r.$)(".reader-wrap"),b=Object(r.$)(".reader-topbar"),y=h.offset()||{top:0},m=Number(Object(r.$)(".search-box-wrapper").height())||Number(Object(r.$)(".search-box-old-wrapper").height());o>y.top-m&&o<y.top+Number(h.height())?(b.css({position:"fixed",top:"".concat(m,"px"),"margin-top":0}),Object(r.$)("#reader-container").css({"padding-top":"45px"})):o>=y.top+Number(h.height())?b.css({"margin-top":"-".concat(b.height(),"px")}):o<y.top-m&&(b.css({position:"relative",top:"0px"}),Object(r.$)("#reader-container").css({"padding-top":0}))}},bindOnFullScreen:function(){Object(r.$)(window).on("on-full-screen",r.$.proxy(this.fullScreen,this,"position-1"))},keyupCurPage:function(t){if(13!==t.keyCode){var e=t.target.value.replace(/\D/g,"");if(""!==(e=isNaN(parseInt(e,10))?"":parseInt(e,10))){var n=this.readerInfo2019;e>+n.show_page?e=+n.show_page:e<1&&(e=1)}else e="";this.curPage=e}else this.gotoPage()},handleClickCurPage:function(){var t=1;"full"===this.screenMode&&(t=0),i.log.xsend(102232,{index:t})},gotoPage:function(){var t=this.curPage;this.$emit("gotopage",{curPage:t}),i.log.xsend(101365)},handleFullScreen:function(){this.fullScreen(),i.log.xsend(101487,{index:1})},fullScreen:function(){this.$emit("enterfullscreen"),"xmind"===this.tplName&&Object(r.$)(".content-wrapper").addClass("xmind-wrapper");var t=this.scrollObject.top,e=void 0===t?0:t;window.scrollTo(0,e>0?e-315:0),this.screenMode="full",Object(r.$)(".reader-topbar").css({position:"fixed",top:"0px"}),Object(r.$)("html").addClass("full-screen").removeClass("normal-screen"),Object(r.$)(".no-full-screen, #page-footer").hide(),Object(r.$)(".anti-no-full-screen").show(),window._zoomDetectInst&&(window._zoomDetectInst.destroy(),window._zoomDetectInst=null)},handleExitFullScreen:function(){this.$emit("exitfullscreen"),Object(r.$)("html").removeClass("full-screen").addClass("normal-screen"),Object(r.$)("#app .no-full-screen, #page-footer").show();var t=this.scrollObject,e=t.top,n=void 0===e?0:e,o=t.direction;window.scrollTo(0,n>0?n+315:0),Object(r.$)(window).trigger("scroll"),this.screenMode="normal",Object(r.$)(".anti-no-full-screen").hide(),this.bindOnScroll({top:n,direction:o}),i.log.xsend(101487,{index:0}),void 0===window._zoomDetectInst&&(window._zoomDetectInst=s.a.run({dynamicDetect:!0,toastOnce:!0}))}}},d=(n(362),n(4)),v=Object(d.default)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"reader-topbar"},[n("div",{staticClass:"topbar-container"},["full"===t.screenMode?n("div",{staticClass:"doc-title full-screen-mode"},[n("DocTypeIcon",{attrs:{"type-name":t.docInfo2019.doc_info.typeName}}),t._v("\n            "+t._s(t.docInfo2019.doc_info.title)+"\n        ")],1):t._e(),t._v(" "),n("div",{staticClass:"doc-title normal-screen-mode",style:"display: "+("normal"===t.screenMode?"block":"none")},[n("DocTypeIcon",{staticStyle:{left:"15px"},attrs:{"type-name":t.docInfo2019.doc_info.typeName}}),t._v(t._s(t.docInfo2019.doc_info.title)+"\n        ")],1),t._v(" "),n("div",{staticClass:"full-screen tool-btn",style:"display: "+("normal"===t.screenMode?"block":"none"),on:{click:t.handleFullScreen}}),t._v(" "),n("CoreBtn",{style:"display: "+("full"===t.screenMode?"block":"none"),attrs:{from:"topBar"}}),t._v(" "),n("div",{staticClass:"exit-full-screen full-screen-mode",style:"display: "+("full"===t.screenMode?"block":"none"),on:{click:t.handleExitFullScreen}}),t._v(" "),t.visibleGotoPage?n("div",{staticClass:"goto-page"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.curPage,expression:"curPage"}],staticClass:"cur-page",style:"width: "+t.curPageInputW+"px",attrs:{type:"text"},domProps:{value:t.curPage},on:{keyup:t.keyupCurPage,click:t.handleClickCurPage,input:function(e){e.target.composing||(t.curPage=e.target.value)}}})]),t._v(" "),n("span",[t._v("/")]),t._v(" "),n("span",[t._v(t._s(t.docInfo2019.doc_info.page))])]):t._e()],1)])}),[],!1,null,null,null);e.a=v.exports},function(t,e,n){"use strict";var o=n(1),i=n(0);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(n,t);var e=s(n);function n(){var t;return a(this,n),(t=e.apply(this,arguments)).blocks=function(){for(var t=[],e=0;e<50;e++)t.push(1);return t}(),t}return n}(i.Vue),f=p=Object(o.a)([i.Component],p),d=(n(361),n(4)),v=Object(d.default)(f,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading-page"},[e("div",{staticClass:"loader-block title-block"}),this._v(" "),this._l(this.blocks,(function(t,n){return e("div",{key:n,staticClass:"loader-block"})}))],2)}),[],!1,null,null,null);e.a=v.exports},function(t,e,n){"use strict";var o=n(5),i=n(242),r=n(59),a=n(57),c=n(56),s=n(58),l=n(3);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=m(t);if(e){var i=m(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return y(this,n)}}function y(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function w(t,e,n){return e&&_(t.prototype,e),n&&_(t,n),t}var O=function(){function t(e,n){g(this,t),this.pageData=e,this.type=n}return w(t,[{key:"show",value:function(){return!1}}]),t}(),C=function(t){v(n,t);var e=b(n);function n(){return g(this,n),e.apply(this,arguments)}return w(n,[{key:"show",value:function(){return!0}}]),n}(O),j=function(t){v(n,t);var e=b(n);function n(){return g(this,n),e.apply(this,arguments)}return w(n,[{key:"show",value:function(){return!0}}]),n}(O),P=function(t){v(n,t);var e=b(n);function n(){return g(this,n),e.apply(this,arguments)}return w(n,[{key:"show",value:function(){if(!this.pageData||!this.pageData.docInfo2019)return!1;var t=this.pageData.docInfo2019;return t&&l.$.isArray(t.hot_words)&&t.hot_words.length>0}}]),n}(O),I=function(t){v(n,t);var e=b(n);function n(){return g(this,n),e.apply(this,arguments)}return w(n,[{key:"show",value:function(){return!0}}]),n}(O),x={data:function(){return{fixAreaHeight:0,historyTop:0,datas:[]}},computed:p(p({},Object(o.mapState)(["pageData","scrollObject","fixBox"])),Object(o.mapGetters)(["relativeCourseInfo","wkSmallflow"])),components:{ShopGoods:i.a,RelativeSearch:r.a,RelativeDoc:a.a,RelativeCourse:c.a,AdRight:s.a},watch:{"scrollObject.top":function(t){this.changePosition(t)}},mounted:function(){this.dealWithShowItem()},methods:p(p({},Object(o.mapMutations)(["setFixBoxBottom","setFixBoxFixed"])),{},{dealWithShowItem:function(){var t=this.pageData,e=[new C(t,"doc"),new j(t,"course"),new P(t,"hotsearch"),new I(t,"ad")],n=[];e.forEach((function(t){t.show()&&n.length<2&&n.push(t)})),this.datas=n},changePosition:function(t){var e=Number(Object(l.$)(document).height()),n=Object(l.$)("#fix-top-line").offset(),o=Number((n||{}).top),i=Object(l.$)("#footer-wrapper-id"),r=Number(i.height())+Number(Object(l.$)("#page-footer").height());if(t){var a=Object(l.$)("#side-fixed-box"),c=e-t;if(this.historyTop<t){if(t>=o-60&&(this.setFixBoxBottom(!1),this.setFixBoxFixed(!0)),c-r-40-60<=Number(a.height())){this.setFixBoxFixed(!1);var s=this.fixAreaHeight,u=Number(Object(l.$)(".left-wrapper").height())-40;u>0&&s!==u&&(Object(l.$)("#right-wrapper-id").css({maxHeight:u,height:u}),this.fixAreaHeight=u),this.setFixBoxBottom(!0)}}else c>Number(a.height())+r+40+60&&(this.setFixBoxBottom(!1),this.setFixBoxFixed(!0)),t<=o&&(this.setFixBoxBottom(!1),this.setFixBoxFixed(!1));this.historyTop=t}}})},k=(n(307),n(4)),S=Object(k.default)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{attrs:{id:"fix-top-line"}}),t._v(" "),n("div",{staticClass:"fix-recommend-wrapper",attrs:{id:"fix-recommend-side"}},[n("div",{class:{bottom:t.fixBox.bottom,fixed:t.fixBox.fixed},style:{opacity:t.fixBox.bottom||t.fixBox.fixed?1:0},attrs:{id:"side-fixed-box"}},[n("ShopGoods"),t._v(" "),2!=+t.wkSmallflow.wkWeb2024?[n("RelativeSearch",{attrs:{fix:!0}}),t._v(" "),t._l(t.datas,(function(e,o){return["doc"===e.type?n("RelativeDoc",{key:o,staticClass:"fix-block",class:{"sider-edge":1===o},attrs:{fix:!0}}):t._e(),t._v(" "),"course"===e.type?n("RelativeCourse",{key:o,staticClass:"fix-block",class:{"sider-edge":1===o},attrs:{fix:!0}}):t._e(),t._v(" "),"ad"===e.type?n("AdRight",{key:o,staticClass:"ad-right-wrapper fix-block",class:{"sider-edge":1===o}}):t._e()]}))]:t._e()],2)])])}),[],!1,null,null,null);e.a=S.exports},,function(t,e,n){"use strict";var o,i=n(5),r=n(6),a=n(2),c=n(12);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p=18e5,f={data:function(){return{actionStatus:"",min:"30",sec:"00",canSend:!0,showVNAD:!1,showToast:!1}},computed:l({},Object(i.mapState)(["pageData","showNoAdDialog","isLogin","eventBus"])),mounted:function(){var t=this;this.eventBus.on("initNoAdDialog",(function(e){t.init()}))},methods:l(l({},Object(i.mapMutations)(["setShowNoAdDialog"])),{},{init:function(){this.isLogin?(this.countDown(),this.setShowNoAdDialog(!0),this.canSend=!0):this.toCashier()},countDown:function(){var t=this;o=setInterval((function(){if(p<0)return clearInterval(o),void t.handleClose();var e=new Date(p),n="".concat(e.getMinutes()),i="".concat(e.getSeconds());n.length<2&&(n="0".concat(n)),i.length<2&&(i="0".concat(i)),t.min=n,t.sec=i,p-=1e3}),1e3)},handleClose:function(){this.reset()},reset:function(){clearInterval(o),p=18e5},sendvoucherforvippromo:function(){return r.wkAxios.post("/goods/interface/sendvoucherforvippromo")},goToCashier:function(){var t=this;this.canSend&&this.sendvoucherforvippromo().then((function(){t.canSend=!1,t.showToast=!0,t.actionStatus="领取成功!",setTimeout((function(){t.showToast=!1,t.toCashier()}),3e3)})).catch((function(e){t.showToast=!0,e.status&&1==+e.status.code?(t.actionStatus="已领取!",setTimeout((function(){t.showToast=!0,t.toCashier()}),3e3)):(t.actionStatus="领取失败，请重试!",setTimeout((function(){t.showToast=!1,location.reload()}),3e5))}))},toCashier:function(){a.log.xsend(102741,{pos:"vipNoAdDialog",idx:1});var t=Object(c.b)("/cashier/browse/vipcashier",{},"adfree_joinvip");location.href=t},closeDialog:function(){clearInterval(o),this.setShowNoAdDialog(!1)}})},d=(n(360),n(4)),v=Object(d.default)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showNoAdDialog?n("div",[n("div",{staticClass:"pop-up-window"}),t._v(" "),n("div",{staticClass:"vip-pop-container"},[n("div",{staticClass:"pop-container"},[n("div",{staticClass:"close-dialog-btn",on:{click:t.closeDialog}}),t._v(" "),n("div",{staticClass:"coupon",on:{click:t.goToCashier}},[n("div",{staticClass:"title"},[t._v("10元VIP代金券")]),t._v(" "),n("div",{staticClass:"count-down-wrap"},[n("ul",{staticClass:"count-down-content clearfix"},[n("li",{staticClass:"hour count-0"}),t._v(" "),n("li",{staticClass:"xs"},[t._v("小时")]),t._v(" "),n("li",{staticClass:"min-1",class:"count-"+t.min[0]}),t._v(" "),n("li",{staticClass:"min-2",class:"count-"+t.min[1]}),t._v(" "),n("li",{staticClass:"fen"},[t._v("分")]),t._v(" "),n("li",{staticClass:"sec-1",class:"count-"+t.sec[0]}),t._v(" "),n("li",{staticClass:"sec-2",class:"count-"+t.sec[1]}),t._v(" "),n("li",{staticClass:"miao"},[t._v("秒")])])])]),t._v(" "),n("div",{staticClass:"get-coupon-btn",on:{click:t.goToCashier}},[t._v("\n                领取代金券并开通VIP，享纯净体验\n            ")]),t._v(" "),t._m(0),t._v(" "),t.showToast?n("div",{staticClass:"toast",domProps:{textContent:t._s(t.actionStatus)}}):t._e()])])]):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon-group"},[e("div",{staticClass:"item item-1"},[e("i"),this._v("赠共享文档下载特权\n                ")]),this._v(" "),e("div",{staticClass:"item item-2"},[e("i"),this._v("享VIP专享文档下载特权\n                ")]),this._v(" "),e("div",{staticClass:"item item-3"},[e("i"),this._v("赠百度阅读VIP精品版\n                ")])])}],!1,null,"c8b867ec",null);e.a=v.exports},function(t,e,n){"use strict";var o=n(5);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c={data:function(){return{visible:!0}},computed:r(r({},Object(o.mapGetters)(["isVip"])),Object(o.mapState)(["eventBus"])),mounted:function(){var t=this;this.eventBus.on("removeAds",(function(){t.visible=!1}))},methods:{show:function(){this.isVip?this.eventBus.emit("removeAds"):this.eventBus.emit("initNoAdDialog")}}},s=(n(337),n(4)),l=Object(s.default)(c,(function(){var t=this.$createElement,e=this._self._c||t;return this.visible?e("div",{staticClass:"hx-bottom-wrapper"},[e("span",{staticClass:"vip",on:{click:this.show}},[this._v("\n        VIP去广告 "),e("span",{staticClass:"icon"})])]):this._e()}),[],!1,null,null,null);e.a=l.exports},,function(t,e,n){"use strict";var o=n(3);e.a={validateTitle:function(t,e){return t.length>e?t.slice(0,e)+"...":t},validateScore:function(t){return t<=0?t="暂无评分":t+="分",t},validateViewCount:function(t){return t<=0?"0阅读":t<=9999?t+"阅读":t<1e8?parseFloat((t/1e4).toFixed(1))+"W 阅读":parseFloat((t/1e8).toFixed(1))+"亿 阅读"},validateRelativeDocs:function(t){if(t&&o.$.isArray(t)&&t.length>0){for(var e=0,n=t.length;e<n;e++){var i=t[e];i&&(i.scoreTag=this.validateScore(i&&i.score),i.viewCountTag=this.validateViewCount(i.view_count))}return t}return[]},validateRelativeDocViewStyleIsHorizontal:function(t){switch(t){case"3":case"6":case"11":case"14":case"15":return!1;default:return!0}},validateDocIsPGC:function(t){return"PGC"===t.docInfo2019.creator_info.utype}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var o,i=n(2),r=n(3),a=n(54),c={},s=0;e.a={getData:function(){if(0===s)s=1,o=new Promise((function(t){var e={pid:1,exinfo:"",slotinfo:a.a.viewPageAllDsp()};r.$.ajax({url:"https://wkdsp.baidu.com/api/get",method:"post",dataType:"json",data:JSON.stringify(e),success:function(e){s=2;var n=e.data||{};c=n,t(n)},error:function(e){s=2,console.log(e),c={},t({})}})}));else if(2===s)return c;return o},render:function(t){var e,n,o,a=t.data,c=t.slotid,s=t.dom,l={};try{l=JSON.parse(a.contents||{})}catch(t){console.log(t)}switch(e=l.main_img||{},+c){case 46:n='<div class="relative-doc-item-horizontal">\n                    <a href="'.concat(a.clickurl,'">\n                        <div class="content">\n                            <div class="title">\n                                <span class="con">').concat(l.title,'</span>\n                                <span class="icon-jingxuan">精选</span></div>\n                            <p class="desc">').concat(l.desc,'</p>\n                            <div class="state">\n                                <div class="score">立刻查看 ></div>\n                            </div>\n                        </div>\n                        <div class="cover-wrapper">\n                            <div class="cover" style="background-image: url(').concat(e.url,')"></div>\n                        </div>\n                    </a>\n                </div>').trim(),Object(r.$)(s).html(n).show(),i.log.xsend(102796,{index:6}),Object(r.$)("#app").on("click",".relative-doc-dspad-wrapper",(function(){i.log.xsend(102796,{index:8})}));var u=!1;r.Util.Common.onElsVisible(".relative-doc-dspad-wrapper",(function(){u||(i.log.xsend(102796,{index:7,des:"show"}),u=!0)}));break;case 53:n='<a href="'.concat(a.clickurl,'">\n                    <div class="thumb-wrapper">\n                        <div class="thumb" style="background-image: url(').concat(e.url,')"></div>\n                        <div class="playbar"></div>\n                    </div>\n                    <div class="title">').concat(l.title,'</div>\n                    <div class="state">\n                        <div class="org">限时特惠</div>\n                        <div class="price">\n                            立即抢购\n                        </div>\n                    </div>\n                </a>').trim(),window.eventBus.emit("relativeCourseAdLoad",{adNum:1}),Object(r.$)(s).html(n).css("display","inline-block"),i.log.xsend(102796,{index:3}),Object(r.$)("#app").on("click",".relative-course-item-ad",(function(){i.log.xsend(102796,{index:5})}));var p=!1;r.Util.Common.onElsVisible(".relative-course-item-ad .thumb-wrapper",(function(){p||(i.log.xsend(102796,{index:4,des:"show"}),p=!0)}))}1!=+a.mustshow&&((o=a.impurl)&&((new Image).src=o))}}},,,,,,function(t,e,n){"use strict";e.a={setStyle:function(t){if(t){var e=document.getElementsByTagName("link")[0],n=document.createElement("div"),o=document.getElementsByTagName("head")[0];n.innerHTML="x<style>".concat(t,"</style>"),o.appendChild(n.lastChild),e.styleSheet&&e.styleSheet.cssText&&(e.styleSheet.cssText+=t)}},markColor:function(t,e,n){if(n=n||70,t.desc=t.desc.length>n?t.desc.substring(0,n)+"...":t.desc,e){var o=new RegExp(e,"g");t.title=t.title.replace(o,"<em>"+e+"</em>"),t.desc=t.desc.replace(o,"<em>"+e+"</em>")}return t}}},,,,,,,function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o,i,r;o='.fc-ad-line{position:relative}.fc-ad-line:after{display:block;content:"";position:absolute;left:-50%;bottom:0;width:200%;height:1px;background:#e5e5e5;-webkit-transform:scale(.5);transform:scale(.5);pointer-events:none}',i=document.head||document.getElementsByTagName("head")[0],(r=document.createElement("style")).type="text/css",r.styleSheet?r.styleSheet.cssText=o:r.appendChild(document.createTextNode(o)),i.appendChild(r),function(){var t="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)};if(window&&!window.Apex&&(window.Apex=function(){function e(t,e){var n=t[e];if("function"==typeof n)return n.call(t)}function n(t,e,n,o){if("function"==typeof t.methods[o])for(var i=t.__dom,r=0,a=i.length;r<a;r++)for(var c=i[r].querySelectorAll(n),s=0,l=c.length;s<l;s++)c[s].addEventListener(e,t.methods[o].bind(t))}var o=function(n){if("object"===(void 0===n?"undefined":t(n))){for(var o in this.styles={},n)this[o]=n[o];if(this.__dom=document.querySelectorAll(n.el)||[],this.domStyles){var i={};for(var r in this.domStyles)if(this.domStyles[r]){var a="",c=this.domStyles[r];for(var s in c)a=a+s+":"+c[s]+";";i[r]=a}this.styles=i}e(this,"init"),this.isDelay||this.render()}};return o.VERSION="0.1.0",o.eventSplitter=/\s+/,o.register=function(e,n,o){"function"==typeof n&&(o=n,n="");var i=window.Apex;i&&("object"!==t(i.plugin)&&(i.plugin={}),i.plugin[e]?i.plugin[e+"."+n]=o:i.plugin[e]=o)},o.prototype._initEvent=function(){var t=this.events;if(t)for(var e in t){var i=t[e],r=e.split(o.eventSplitter);r.length>1&&n(this,r[0],r[1],i)}},o.prototype.render=function(t){"function"==typeof this.template?this._render(this.template(t||this)):"string"==typeof this.template&&this._render(this.template),e(this,"created"),this._initEvent(),e(this,"mounted")},o.prototype._render=function(t){for(var e=this.__dom,n=0,o=e.length;n<o;n++)e[n].innerHTML=t},o}()),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,o=function(){},i=function o(){return n.apply(this instanceof o?this:t,e.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(o.prototype=this.prototype),i.prototype=new o,i}),!Element.prototype.addEventListener){var e=function(t){t||(t=window.event);for(var e=0,n=0,i=o[t.type];n<i.aEls.length;n++)if(i.aEls[n]===this){for(;e<i.aEvts[n].length;e++)i.aEvts[n][e].call(this,t);break}},o={};Element.prototype.addEventListener=function(t,n){if(o.hasOwnProperty(t)){for(var i=o[t],r=-1,a=0;a<i.aEls.length;a++)if(i.aEls[a]===this){r=a;break}if(-1===r)i.aEls.push(this),i.aEvts.push([n]),this["on"+t]=e;else{var c=i.aEvts[r];this["on"+t]!==e&&(c.splice(0),this["on"+t]=e);for(var s=0;s<c.length;s++)if(c[s]===n)return;c.push(n)}}else o[t]={aEls:[this],aEvts:[[n]]},this["on"+t]=e},Element.prototype.removeEventListener=function(t,e){if(o.hasOwnProperty(t)){for(var n=o[t],i=-1,r=0;r<n.aEls.length;r++)if(n.aEls[r]===this){i=r;break}if(-1!==i)for(var a=0,c=n.aEvts[i];a<c.length;a++)c[a]===e&&c.splice(a,1)}}}"object"===("undefined"==typeof window?"undefined":t(window))&&(window.Apex=window.Apex||{},window.Apex.ck=function(){var t,e,n,o,i,r,a,c,s,l,u,p,f,d,v,h,b,y,m,g,_,w,O;function C(t){return e=document.body,n=0,o=0,i=0,r=0,a=0,s=0,0,l=0,u=0,p=0,f="none",d=0,v=0,h="none",b=0,y=0,m=0,g=0,w=0,O=0,_=t,function(){e.removeEventListener("touchstart",j),e.removeEventListener("touchend",P,!0),e.removeEventListener("touchmove",I,!0),e.removeEventListener("click",k,!0),window.removeEventListener?window.removeEventListener("scroll",x,!0):window.detachEvent("onscroll",x.bind(window));e.addEventListener("touchstart",j,!0),e.addEventListener("touchend",P,!0),e.addEventListener("touchmove",I,!0),e.addEventListener("click",k,!0),window.addEventListener?window.addEventListener("onscroll",x,!1):window.attachEvent("onscroll",x.bind(window))}(),{addCkOnUrl:V,clearCount:R,addAdsCk:A}}function j(t){var e=t.touches.item(0);r=parseInt(e.pageX,10),a=parseInt(e.pageY,10),c&&"none"!==h&&(D(),v=0,c=!1,f="none"),n=T(t),S(t)}function P(t){o=T(t),i=o>n?Math.round(o-n):0,S(t)}function I(t){x(t)}function x(t){c||(c=!0,window.scrollY);var e,n,o=window.scrollY,i=Math.abs(o-s),r=((n=o)>(e=s)?"up":n<e&&"down")||f,a=T(t);(function(t,e){"none"===f&&(f=e);e!==f?(f=e,v=0):v+=t;return v>10})(i,r)&&(a>u&&(u=a),"none"===h&&(h=f,l=a),h!==f&&(D(),l=a,h=f)),s=o}function k(t){b=T(t),y=t.pageX,m=t.pageY,S(t)}function S(t){try{var e=function(t,e){var n=document.querySelectorAll(e),o=t.parentNode;for(;o&&!E(n,o);)o=o.parentNode;return o}(t.target,_);e&&(w=e.offsetWidth,O=e.offsetHeight)}catch(t){}}function D(){d++,p+=Math.round(u-l),h="none"}function T(t){return 0!==t.timeStamp?t.timeStamp:(new Date).getTime()}function E(t,e){for(var n=0,o=t.length;n<o;n++)if(t[n]===e)return!0;return!1}function V(t,e,n){var c=function(t,e,n){if("string"!=typeof t)return!1;if(-1===t.indexOf("baidu.php?url=")&&-1===t.indexOf("link?url="))return!1;if(1===n)return"0.0.0.0.0.0.0.0.0.0.0";var c;if(!1===(c=function(t,e,n,o){var i,r=/link\?url=([^&]+)/,a=0;if(i=r.exec(t)||/\?url=([^.]+)\./.exec(t)){var c=n*e%99+9,s=i[1].length;r.exec(t)&&(s=i[1].length<20?i[1].length:20);for(var l=0;l<c;++l)a+=i[1].charCodeAt(o*l%s);return a}return!1}(t,e,i,r)))return!1;g=0,b>0&&b>o&&(g=Math.round(b-o));return[c,i,r,a,w,O,d,p,g,y,m].join(".")}(t,e,n);return!1===c||(-1===t.indexOf("&ck=")?t+="&ck="+c:t=t.replace(/&ck=[\w.]*/,"&ck="+c)),t}function R(){d=0,p=0}function A(t,e){for(var n,o=t.length-1;o>=0;o--)for(var i=(n=t[o].querySelectorAll("a")).length-1;i>=0;i--){var r=n[i];"A"===r.tagName&&""!==r.href&&-1!==r.href.indexOf("baidu")&&(L(r,e,1),r.addEventListener("touchend",(function(t){b=0,y=0,m=0,L(this,e)}),!0),r.addEventListener("click",(function(t){L(this,e),R()}),!0))}}function L(t,e,n){t.href=V(t.href,e,n)}return{getInstance:function(e){return t||(t=C(e)),t}}}().getInstance()),function(){var t=".fc-parallax-scrolling{height:88px;position:relative;overflow:hidden;width:845px;min-width:560px;border-radius:4px;}.fc-parallax-scrolling-content-inner{text-align:left}.fc-parallax-scrolling a{text-decoration:none;color:#fff}.fc-parallax-scrolling .fc-parallax-scrolling-wrapper{width:100%;position:absolute;top:-88px}.fc-parallax-scrolling .fc-parallax-scrolling-wrapper .fc-parallax-scrolling-run{display:block;width:100%;height:88px;margin:0;padding:0}.fc-parallax-scrolling-d9b779{background-color:#d9b779}.fc-parallax-scrolling-25ae84{background:#d9b779}.fc-parallax-scrolling-25ae84 .fc-parallax-scrolling-bogus{color:#f8e71c}.fc-parallax-scrolling .fc-parallax-scrolling-without-image .fc-parallax-scrolling-text{padding-left:6.8%}.fc-parallax-scrolling-text-line{overflow:hidden;text-overflow:ellipsis;-ms-text-overflow:ellipsis;-o-text-overflow:ellipsis;white-space:nowrap}.fc-parallax-scrolling .fc-parallax-scrolling-text .fc-parallax-scrolling-title{width:78%;font-size:24px;height:24px;line-height:24px;padding:19px 0 13px}.fc-parallax-scrolling .fc-parallax-scrolling-text .fc-parallax-scrolling-content{width:100%;height:14px;font-size:14px;line-height:14px}.fc-parallax-scrolling .fc-parallax-scrolling-text .fc-parallax-scrolling-content .fc-parallax-scrolling-content-left{width:100%;float:left}.fc-parallax-scrolling .fc-parallax-scrolling-text .fc-parallax-scrolling-sub{max-width:55%;display:inline-block}.fc-parallax-scrolling .fc-parallax-scrolling-text .fc-parallax-scrolling-tag{display:inline-block;font-size:12px;border:1px solid #fff;border-radius:2px;margin-right:6px;vertical-align:top}.fc-parallax-scrolling .fc-parallax-scrolling-text .fc-parallax-scrolling-bogus{display:inline-block;margin-left:13px;vertical-align:top}.fc-parallax-scrolling .fc-parallax-scrolling-wrapper .fc-parallax-scrolling-with-image .fc-parallax-scrolling-text{float:left;width:100%;margin-left:-268px}.fc-parallax-scrolling .fc-parallax-scrolling-wrapper .fc-parallax-scrolling-with-image .fc-parallax-scrolling-text-inner{margin-left:268px;padding-left:2.3%}.fc-parallax-scrolling .fc-parallax-scrolling-image{float:right;width:268px;background-color:#fff}.fc-parallax-scrolling .fc-parallax-scrolling-image ul{list-style:none;margin:0;padding:0}.fc-parallax-scrolling .fc-parallax-scrolling-image li{float:left}.fc-parallax-scrolling .fc-parallax-scrolling-image li div{width:88px;height:88px;background-repeat:no-repeat;background-size:cover;background-position:center center}.fc-parallax-scrolling .fc-parallax-scrolling-image .fc-parallax-scrolling-second-image{margin:0 2px}.fc-parallax-scrolling .fc-parallax-scrolling-without-image .fc-parallax-scrolling-text .fc-parallax-scrolling-bogus{float:none}@media (min-width:900px) and (max-width:1200px){.fc-parallax-scrolling .fc-parallax-scrolling-with-image .fc-parallax-scrolling-text .fc-parallax-scrolling-sub{width:90%}}@media (min-width:700px) and (max-width:900px){.fc-parallax-scrolling .fc-parallax-scrolling-with-image .fc-parallax-scrolling-text .fc-parallax-scrolling-sub{max-width:67%}}@media (min-width:600px) and (max-width:700px){.fc-parallax-scrolling .fc-parallax-scrolling-with-image .fc-parallax-scrolling-text .fc-parallax-scrolling-sub{max-width:59%}}",e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),e.appendChild(n)}(),function(){function t(t){t=t||{};var e=[];return e.push('<div class="fc-parallax-scrolling">     '),"[object Array]"===Object.prototype.toString.call(t.data.ads)&&1===t.data.ads.length?(e.push('         <div class="fc-parallax-scrolling-wrapper" style="top: 0px">             '),"[object Array]"===Object.prototype.toString.call(t.data.ads[0].images)&&t.data.ads[0].images.length>2?e.push('                 <a class="fc-parallax-scrolling-run fc-parallax-scrolling-with-image fc-parallax-scrolling-25ae84 fc-link"                    href="',t.data.ads[0].link,'">                     <div class="fc-parallax-scrolling-text">                         <div class="fc-parallax-scrolling-text-inner">                             <div class="fc-parallax-scrolling-title fc-parallax-scrolling-text-line">                                 ',t.data.ads[0].title,'                             </div>                             <div class="fc-parallax-scrolling-content">                                 <div class="fc-parallax-scrolling-content-left">                                     <p class="fc-parallax-scrolling-content-inner">                                         <span class="fc-parallax-scrolling-tag">广告</span>                                         <span class="fc-parallax-scrolling-sub fc-parallax-scrolling-text-line">',t.data.ads[0].desc,'</span>                                         <span class="fc-parallax-scrolling-bogus">查看详情 ></span>                                     </p>                                 </div>                             </div>                         </div>                     </div>                     <div class="fc-parallax-scrolling-image">                         <ul>                             <li>                                 <div style="background-image: url(',t.data.ads[0].images[0],')"></div>                             </li>                             <li class="fc-parallax-scrolling-second-image">                                 <div style="background-image: url(',t.data.ads[0].images[1],')"></div>                             </li>                             <li>                                 <div style="background-image: url(',t.data.ads[0].images[2],')"></div>                             </li>                         </ul>                     </div>                 </a>             '):e.push('                 <a class="fc-parallax-scrolling-run fc-parallax-scrolling-without-image fc-parallax-scrolling-25ae84 fc-link"                    href="',t.data.ads[0].link,'">                     <div class="fc-parallax-scrolling-text">                         <div class="fc-parallax-scrolling-title fc-parallax-scrolling-text-line">',t.data.ads[0].title,'                         </div>                         <div class="fc-parallax-scrolling-content">                             <span class="fc-parallax-scrolling-tag">广告</span>                             <span                                 class="fc-parallax-scrolling-sub fc-parallax-scrolling-text-line">',t.data.ads[0].desc,'</span>                             <span class="fc-parallax-scrolling-bogus">查看详情 ></span></div>                     </div>                 </a>             '),e.push("         </div>     ")):"[object Array]"===Object.prototype.toString.call(t.data.ads)&&t.data.ads.length>1&&(e.push('         <div class="fc-parallax-scrolling-wrapper">             '),"[object Array]"===Object.prototype.toString.call(t.data.ads[1].images)&&t.data.ads[1].images.length>2?e.push('                 <a class="fc-parallax-scrolling-run fc-parallax-scrolling-with-image fc-parallax-scrolling-d9b779 fc-link"                    href="',t.data.ads[1].link,'">                     <div class="fc-parallax-scrolling-text">                         <div class="fc-parallax-scrolling-text-inner">                             <div class="fc-parallax-scrolling-title fc-parallax-scrolling-text-line">                                 ',t.data.ads[1].title,'                             </div>                             <div class="fc-parallax-scrolling-content">                                 <div class="fc-parallax-scrolling-content-left">                                     <p class="fc-parallax-scrolling-content-inner">                                         <span class="fc-parallax-scrolling-tag">广告</span>                                         <span class="fc-parallax-scrolling-sub fc-parallax-scrolling-text-line">',t.data.ads[1].desc,'</span>                                         <span class="fc-parallax-scrolling-bogus">查看详情 ></span>                                     </p>                                 </div>                             </div>                         </div>                     </div>                     <div class="fc-parallax-scrolling-image">                         <ul>                             <li>                                 <div style="background-image: url(',t.data.ads[1].images[0],')"></div>                             </li>                             <li class="fc-parallax-scrolling-second-image">                                 <div style="background-image: url(',t.data.ads[1].images[1],')"></div>                             </li>                             <li>                                 <div style="background-image: url(',t.data.ads[1].images[2],')"></div>                             </li>                         </ul>                     </div>                 </a>             '):e.push('                 <a class="fc-parallax-scrolling-run fc-parallax-scrolling-without-image fc-parallax-scrolling-d9b779 fc-link"                    href="',t.data.ads[1].link,'">                     <div class="fc-parallax-scrolling-text">                         <div class="fc-parallax-scrolling-title fc-parallax-scrolling-text-line">',t.data.ads[1].title,'                         </div>                         <div class="fc-parallax-scrolling-content">                             <span class="fc-parallax-scrolling-tag">广告</span>                             <span                                 class="fc-parallax-scrolling-sub fc-parallax-scrolling-text-line">',t.data.ads[1].desc,'</span>                             <span class="fc-parallax-scrolling-bogus">查看详情 ></span></div>                     </div>                 </a>             '),e.push("             "),"[object Array]"===Object.prototype.toString.call(t.data.ads[0].images)&&t.data.ads[0].images.length>2?e.push('                 <a class="fc-parallax-scrolling-run fc-parallax-scrolling-with-image fc-parallax-scrolling-25ae84 fc-link"                    href="',t.data.ads[0].link,'">                     <div class="fc-parallax-scrolling-text">                         <div class="fc-parallax-scrolling-text-inner">                             <div class="fc-parallax-scrolling-title fc-parallax-scrolling-text-line">                                 ',t.data.ads[0].title,'                             </div>                             <div class="fc-parallax-scrolling-content">                                 <div class="fc-parallax-scrolling-content-left">                                     <p class="fc-parallax-scrolling-content-inner">                                         <span class="fc-parallax-scrolling-tag">广告</span>                                         <span class="fc-parallax-scrolling-sub fc-parallax-scrolling-text-line">',t.data.ads[0].desc,'</span>                                         <span class="fc-parallax-scrolling-bogus">查看详情 ></span>                                     </p>                                 </div>                             </div>                         </div>                     </div>                     <div class="fc-parallax-scrolling-image">                         <ul>                             <li>                                 <div style="background-image: url(',t.data.ads[0].images[0],')"></div>                             </li>                             <li class="fc-parallax-scrolling-second-image">                                 <div style="background-image: url(',t.data.ads[0].images[1],')"></div>                             </li>                             <li>                                 <div style="background-image: url(',t.data.ads[0].images[2],')"></div>                             </li>                         </ul>                     </div>                 </a>             '):e.push('                 <a class="fc-parallax-scrolling-run fc-parallax-scrolling-without-image fc-parallax-scrolling-25ae84 fc-link"                    href="',t.data.ads[0].link,'">                     <div class="fc-parallax-scrolling-text">                         <div class="fc-parallax-scrolling-title fc-parallax-scrolling-text-line">',t.data.ads[0].title,'                         </div>                         <div class="fc-parallax-scrolling-content">                             <span class="fc-parallax-scrolling-tag">广告</span>                             <span                                 class="fc-parallax-scrolling-sub fc-parallax-scrolling-text-line">',t.data.ads[0].desc,'</span>                             <span class="fc-parallax-scrolling-bogus">查看详情 ></span></div>                     </div>                 </a>             '),e.push("         </div>     ")),e.push(" </div> "),e.join("")}var e=function(t,e){return window.Apex&&window.Apex.ck&&e?window.Apex.ck.addCkOnUrl(t,e):t};window.Apex&&window.Apex.register("parallax-scrolling",(function(n,o){return new window.Apex({el:n,data:o,template:t,events:{"click .fc-link":"toLp"},created:function(){"[object Array]"===Object.prototype.toString.call(this.data.ads)&&this.data.ads.length>1&&this.__dom&&this.__dom.length},methods:{toLp:function(t){if(this.data.imTimeSign){var n=t.currentTarget?t.currentTarget:t.srcElement,o=n.getAttribute("href"),i=e(o,this.data.imTimeSign);n.setAttribute("href",i)}}}})}))}(),window.Apex&&window.Apex.register("parallax-scrolling-webku",(function(t,e){if(e){var n=e.im_time_sign||"",o=[];if("[object Array]"===Object.prototype.toString.call(e.ads)&&e.ads.length>0){for(var i=window.Apex.plugin["parallax-scrolling"],r=0,a=e.ads.length;r<a;r++){var c={};c.title=e.ads[r].title||"",c.desc=e.ads[r].desc||"",c.link=e.ads[r].link||"";var s=e.ads[r].style;if(s&&s.idea2408&&"[object Array]"===Object.prototype.toString.call(s.idea2408.images)&&s.idea2408.images.length>2){var l=s.idea2408.images;c.images=[l[0].image_url,l[1].image_url,l[2].image_url]}o.push(c)}i(t,{imTimeSign:n,ads:o})}}}))}()},,function(t,e,n){},function(t,e,n){},,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},,,,,,,function(t,e,n){},function(t,e,n){},,function(t,e,n){},function(t,e,n){},,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},,function(t,e,n){},function(t,e,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},,function(t,e,n){"use strict";var o=n(60),i=n(119),r=n(113),a=n(54),c=n(2),s=n(3),l=n(10);e.a={render:function(t){var e=t.zsyxContent,n=t.mainContent,u=t.dspContent,p=Object(s.$)(".relative-doc-ad-wrapper"),f=0,d=l.b.state.docInfo.title;if(e[2147])f++,o.a.render({zsyxContent:e,zsyxPlaceId:2147,docTitle:d});else if(s.$.isArray(n)&&!n.code){var v="",h="",b={};if(n.forEach((function(t,e,n){1087===t.adPlace.ad_place_id&&(v=t.adPlace&&t.adPlace.ad_place_css,h=t.adPlace&&t.adPlace.ad_place_js,b.right1087=t.adPlace.ad_place_data)})),b.right1087){f++,i.a.setStyle(v);for(var y=0;y<p.length;y++)p.eq(y).html(b.right1087).show();c.log.xsend(102345,{index:1087,des:"show"}),h="<script>".concat(h,"<\/script>"),Object(s.$)("body").append(h)}}if(u&&u.length>0)try{f++,r.a.render({data:u[0],slotid:a.a.RELATIVEDOC.id,dom:a.a.RELATIVEDOC.dom})}catch(t){console.log("DSP req err",a.a.RELATIVECOURSE.id,t)}f>0&&window.eventBus.emit("adLoadSuccess",{adNum:f})}}},function(t,e,n){"use strict";var o,i=n(3);e.a={getEssQuery:function(){var t=new i.$.Deferred;if(o)return t.resolve(o),t.promise();var e=i.Util.Common.getParamByStr("eqid",document.referrer);return e&&e.length?i.$.ajax({url:"//wenku.baidu.com/common/api/getsearchquery",dataType:"json",type:"get",data:{eqid:e},success:function(e){e&&e.wd&&(o=e.wd),t.resolve(o)},error:function(){o="fengchao_no_query_search_default_query",t.resolve(o)}}):(o="fengchao_no_query_search_default_query",t.resolve(o)),t.promise()}}},,function(t,e,n){"use strict";var o=n(2),i={props:{goodsData:Object}},r=(n(300),n(4)),a=Object(r.default)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shop-goods-audio"},[n("div",{staticClass:"audio-cover",style:{backgroundImage:"url("+t.goodsData.cover+")"}},[n("div",{staticClass:"amount"},[t._v("共"+t._s(t.goodsData.num)+"节")])]),t._v(" "),n("div",{staticClass:"audio-info-wrap"},[n("div",{staticClass:"audio-title"},[t._v(t._s(t.goodsData.title))]),t._v(" "),n("div",{staticClass:"audio-view"},[t._v(t._s(t.goodsData.viewText?t.goodsData.viewText+"播放":"新品推荐"))])])])}),[],!1,null,null,null).exports,c=n(53),s=n(11),l=n(5);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d={props:{goodsData:Object},computed:p(p({},Object(l.mapGetters)(["docInfo2019"])),{},{docInfo:function(){return this.docInfo2019.doc_info||{}},docType:function(){return s.a.getDocType(this.goodsData.ext)}}),components:{DocTypeIcon:c.a}},v=(n(301),Object(r.default)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["shop-goods-doc","doc-type-"+t.docType]},[n("div",{staticClass:"doc-cover",style:{backgroundImage:"url("+t.goodsData.cover+")"}},[n("DocTypeIcon",{attrs:{"type-name":t.docType}})],1),t._v(" "),n("div",{staticClass:"doc-info-wrap"},[n("div",{staticClass:"doc-title"},[t._v(t._s(t.goodsData.title))]),t._v(" "),n("div",{staticClass:"doc-view"},[t._v(t._s(t.goodsData.viewText?t.goodsData.viewText+"阅读":"新品推荐"))])])])}),[],!1,null,null,null).exports),h={props:{goodsData:Object}},b=(n(302),Object(r.default)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shop-goods-doc-set"},[n("div",{staticClass:"doc-set-cover",style:{backgroundImage:"url("+t.goodsData.cover+")"}},[n("div",{staticClass:"amount"},[t._v(t._s(t.goodsData.num)+"篇文档")])]),t._v(" "),n("div",{staticClass:"doc-set-info-wrap"},[n("div",{staticClass:"doc-set-title"},[t._v(t._s(t.goodsData.title))]),t._v(" "),n("div",{staticClass:"doc-set-view"},[t._v(t._s(t.goodsData.viewText?t.goodsData.viewText+"阅读":"新品推荐"))])])])}),[],!1,null,null,null).exports),y={props:{goodsData:Object}},m=(n(303),Object(r.default)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shop-goods-video"},[n("div",{staticClass:"video-cover",style:{backgroundImage:"url("+t.goodsData.cover+")"}},[n("div",{staticClass:"amount"},[t._v("共"+t._s(t.goodsData.num)+"节")])]),t._v(" "),n("div",{staticClass:"video-info-wrap"},[n("div",{staticClass:"video-title"},[t._v(t._s(t.goodsData.title))]),t._v(" "),n("div",{staticClass:"video-view"},[t._v(t._s(t.goodsData.viewText?t.goodsData.viewText+"播放":"新品推荐"))])])])}),[],!1,null,null,null).exports),g=n(6);function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){O(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var C,j={DOC:1,DOC_SET:2,VIDEO:3,AUDIO:4},P={data:function(){return{GOODS_TYPE:j,pn:1,rn:10,visible:!1,hoverGoodsIdx:1,goodsList:[]}},components:{GoodsAudio:a,GoodsDoc:v,GoodsDocSet:b,GoodsVideo:m},watch:{goodsList:function(t){t.length&&(this.visible=!0,o.log.xsend(102851))}},created:function(){2==+this.wkSmallflow.wkWeb2024&&this.fetchData()},computed:w(w({},Object(l.mapGetters)(["wkSmallflow","docId","shopInfo"])),{},{showGoodsList:function(){var t=this.rn,e=(this.pn-1)*t,n=e+t;return this.goodsList.slice(e,n)},totalPages:function(){var t=this.rn,e=this.goodsList,n=Math.ceil(e.length/t);return n},disabledPrev:function(){return 1===this.pn},disabledNext:function(){var t=this.totalPages;return this.pn===t}}),methods:{fetchData:function(){var t=this;if(!C){var e=this.shopInfo.shop_id_str;C=g.wkAxios.get("/browse/interface/gethotsalesrec",{params:{doc_id:this.docId,powerId:2,shop_id:e}})}C.then((function(e){t.goodsList=e.test_datas.map((function(t,e){var n=t.view_count,o=String(n);return n<100?o="":n>=1e9?o=(n/1e9).toFixed(1)+"亿":n>1e4&&(o=(n/1e4).toFixed(1)+"W"),w(w({},t),{},{viewText:o,idx:e+1})}))}))},toPrev:function(t){if(!this.disabledPrev){var e=this.pn-1;this.pn=e}},toNext:function(t){this.disabledNext||(this.pn=this.pn+1)},mouseoverGoods:function(t){var e=t.idx;this.hoverGoodsIdx=e},clickGoods:function(t){var e=t.url,n=t.type;o.log.xsend(102852,{goodsType:n}),e+=[e.indexOf("?")>-1?"&":"?","cc=_viewPageShopGoods",n,"_"].join(""),window.open(e)}}},I=(n(304),Object(r.default)(P,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("div",{staticClass:"shop-goods-wrapper"},[n("p",{staticClass:"topic"},[t._v("本店热销")]),t._v(" "),n("div",{staticClass:"pager"},[n("span",{class:["link","link-prev",t.disabledPrev?"disabled":"none"],on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.toPrev(e)}}}),t._v(" "),n("span",{class:["link","link-next",t.disabledNext?"disabled":"none"],on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.toNext(e)}}})]),t._v(" "),n("div",{staticClass:"divider"}),t._v(" "),n("div",{staticClass:"goods-list-wrapper"},t._l(t.showGoodsList,(function(e,o){return n("div",{key:e.url,class:["item","goods-"+e.type,t.hoverGoodsIdx===e.idx?"hover-item":""],on:{click:function(n){return t.clickGoods(e,o)},mouseover:function(n){return t.mouseoverGoods(e)}}},[n("div",{class:["item-idx","idx-"+e.idx]},[t._v(t._s(e.idx))]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.hoverGoodsIdx!==e.idx,expression:"hoverGoodsIdx !== item.idx"}],staticClass:"item-title"},[t._v("\n                "+t._s(e.title)+"\n            ")]),t._v(" "),e.type===t.GOODS_TYPE.DOC?[n("GoodsDoc",{directives:[{name:"show",rawName:"v-show",value:t.hoverGoodsIdx===e.idx,expression:"hoverGoodsIdx === item.idx"}],attrs:{"goods-data":e}})]:e.type===t.GOODS_TYPE.DOC_SET?[n("GoodsDocSet",{directives:[{name:"show",rawName:"v-show",value:t.hoverGoodsIdx===e.idx,expression:"hoverGoodsIdx === item.idx"}],attrs:{"goods-data":e}})]:e.type===t.GOODS_TYPE.VIDEO?[n("GoodsVideo",{directives:[{name:"show",rawName:"v-show",value:t.hoverGoodsIdx===e.idx,expression:"hoverGoodsIdx === item.idx"}],attrs:{"goods-data":e}})]:e.type===t.GOODS_TYPE.AUDIO?[n("GoodsAudio",{directives:[{name:"show",rawName:"v-show",value:t.hoverGoodsIdx===e.idx,expression:"hoverGoodsIdx === item.idx"}],attrs:{"goods-data":e}})]:t._e()],2)})),0)]):t._e()}),[],!1,null,null,null));e.a=I.exports},,,function(t,e,n){"use strict";var o=n(1),i=n(0);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(r,t);var e,n,o,i=l(r);function r(){var t;return a(this,r),(t=i.apply(this,arguments)).bgImgLoadStatus=0,t}return e=r,(n=[{key:"mounted",value:function(){this.setCover()}},{key:"onInfo",value:function(){this.setCover()}},{key:"setCover",value:function(){var t=this,e=this.info&&this.info.pic;if(e){var n=new Image;n.onerror=function(){t.bgImgLoadStatus=2},n.onload=function(){t.bgImgLoadStatus=1},n.src=e}}}])&&c(e.prototype,n),o&&c(e,o),r}(i.Vue);Object(o.a)([Object(i.Prop)(Object)],f.prototype,"info",void 0),Object(o.a)([Object(i.Prop)(Number)],f.prototype,"index",void 0),Object(o.a)([Object(i.Watch)("info")],f.prototype,"onInfo",null);var d=f=Object(o.a)([Object(i.Component)({})],f),v=(n(290),n(4)),h=Object(v.default)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.info?n("div",{staticClass:"relative-recommend-item-vertical"},[n("div",{staticClass:"cover-wrapper"},[t.info.pic?n("div",{staticClass:"cover",class:{default:2===t.bgImgLoadStatus},style:{backgroundImage:1===t.bgImgLoadStatus?"url("+t.info.pic+")":"none"}}):n("div",{staticClass:"cover default"})]),t._v(" "),n("div",{staticClass:"title",domProps:{textContent:t._s(t.info.title)}}),t._v(" "),n("div",{staticClass:"state"},[n("div",{staticClass:"star"}),t._v(" "),n("div",{staticClass:"score",domProps:{textContent:t._s(t.info.scoreTag)}}),t._v(" "),n("div",{staticClass:"viewcount",domProps:{textContent:t._s(t.info.viewCountTag)}})])]):t._e()}),[],!1,null,"12661103",null);e.a=h.exports},,,function(t,e,n){"use strict";var o=n(2),i=n(3),r=n(10),a=n(247),c=n(18),s=n(240),l=function(){for(var t=[{sId:2147,dom:".knowledge-relative .desc"},{sId:2148,dom:".knowledge-wrap"},{sId:2149,dom:".hx-warp .knowledge"},{sId:2150,dom:".knowledge-bottom .item"}],e=function(e){Object(i.$)("body").on("click",t[e].dom,(function(){o.log.xsend(102595,{index:t[e].sId,des:"click"})}))},n=0;n<t.length;n++)e(n)},u=n(14),p=n(6),f=function(t,e){return o.log.xsend(102345,{index:0,des:"req",eid:e}),new u.default((function(n,o){var i=r.b.state.docInfo.title;p.wkAxios.get("/ndview/interface/hx/fc",{params:{query:i,essquery:t,eidStr:e,url:location.href}}).then((function(t){n(t)})).catch((function(t){n(t)}))}))};var d=n(60),v=n(113),h=n(119),b=function(t){var e=t.zsyxContent,n=t.mainContent,r=Object(i.$)(".hx-bottom-wrapper"),a=window.wkCommonLogParam&&window.wkCommonLogParam.doc_title;if(e[2150])d.a.render({zsyxContent:e,zsyxPlaceId:2150,docTitle:a});else if(i.$.isArray(n)&&!n.code){var c="",s="",l={};n.forEach((function(t,e,n){1983===t.adPlace.ad_place_id&&(c=t.adPlace&&t.adPlace.ad_place_css,s=t.adPlace&&t.adPlace.ad_place_js,l.bottom1983=t.adPlace.ad_place_data)})),l.bottom1983&&(h.a.setStyle(c),r.append(l.bottom1983).show(),o.log.xsend(102345,{index:1983,des:"show"}),s="<script>".concat(s,"<\/script>"),Object(i.$)("body").append(s))}},y=n(239),m=function(t){var e=t.mainContent;if(i.$.isArray(e)&&!e.code){var n="",r="",a={};e.forEach((function(t,e,o){1984===t.adPlace.ad_place_id&&(n+=t.adPlace&&t.adPlace.ad_place_css,r+=t.adPlace&&t.adPlace.ad_place_js,a.right1984=t.adPlace.ad_place_data),1985===t.adPlace.ad_place_id&&(n+=t.adPlace&&t.adPlace.ad_place_css,r+=t.adPlace&&t.adPlace.ad_place_js,a.right1985=t.adPlace.ad_place_data)})),h.a.setStyle(n),a.right1984?(Object(i.$)(".hx-right-up").append(a.right1984).show(),o.log.xsend(102345,{index:1984,des:"show"})):a.right1985&&(Object(i.$)(".hx-right-bottom").append(a.right1985).show(),o.log.xsend(102345,{index:1985,des:"show"})),r="<script>".concat(r,"<\/script>"),Object(i.$)("body").append(r)}},g=n(54);function _(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],o=!0,i=!1,r=void 0;try{for(var a,c=t[Symbol.iterator]();!(o=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){i=!0,r=t}finally{try{o||null==c.return||c.return()}finally{if(i)throw r}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var O=function(t,e,n){u.default.all([f(t,e),d.a.getData(t,e,n),v.a.getData()]).then((function(t){var e=_(t,3),n=e[0],o=e[1],r=e[2],a=(r=void 0===r?{}:r)[g.a.RELATIVEDOC.id];Object(i.$)(".relative-doc-ad-wrapper").length>0?y.a.render({zsyxContent:o,mainContent:n,dspContent:a}):window.AdDataRecomRight={zsyxContent:o,mainContent:n,dspContent:a},m({mainContent:n}),b({zsyxContent:o,mainContent:n})}))};function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var j=function(t,e){return o.log.xsend(102345,{index:573,des:"req",eid:e}),new u.default((function(n,o){var a=r.b.state.docInfo.title;p.wkAxios.get("/ndview/interface/hx/viewRecom",{params:{url:location.href,query:a,essQuery:t,eidStr:e}}).then((function(t){var e={};i.$.map(t,(function(t){1134==+t.srcId&&(e=t.adPlace)})),n(e)})).catch((function(t){n(t)}))}))},P=function(t){var e=t.pageRecom,n=t.eid;if(e&&e.ad_place_data){var r=e;if(o.log.xsend(102345,{index:573,des:"res-success",eid:n}),r&&r.ad_place_data&&"object"!==C(r.ad_place_data)){var a="<script>".concat(r.ad_place_js,"<\/script>"),c=r.ad_place_data,s='<style type="text/css">'.concat(r.ad_place_css,"</style>");Object(i.$)(".hx-recom-wrapper").html(c+a+s);var l=Object(i.$)(".hx-recom-wrapper").outerHeight(!0),u=Object(i.$)(".try-end-fold-page").height()+l;Object(i.$)(".try-end-fold-page").height(u),Object(i.$)(".hx-recom-wrapper").show()}}else e&&e.code&&o.log.xsend(102345,{index:573,des:"res-fail",errcode:e.code})};function I(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],o=!0,i=!1,r=void 0;try{for(var a,c=t[Symbol.iterator]();!(o=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){i=!0,r=t}finally{try{o||null==c.return||c.return()}finally{if(i)throw r}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return x(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var k=function(t,e,n){var o=r.b.state.docInfo.title;u.default.all([j(t,e),d.a.getData(t,e,n)]).then((function(t){var n=I(t,2),i=n[0],r=n[1];d.a.render({zsyxContent:r,zsyxPlaceId:2148,docTitle:o}),!r[2148]&&P({pageRecom:i,eid:e})}))};var S=function(t,e){return o.log.xsend(102345,{index:1077,des:"req",eid:e}),new u.default((function(n,o){var i=r.b.state.docInfo.title;p.wkAxios.get("/ndview/interface/hx/pageCenter",{params:{url:location.href,query:i,essQuery:t,eidStr:e}}).then((function(t){n(t)})).catch((function(t){n(t)}))}))},D=function(t){var e=t.pageCenter,n=t.eid,r=t.brandContent,a=t.zsyxData;if(e&&e.ads){var c=e;o.log.xsend(102345,{index:1077,des:"res-success"});var s=[];!function(t){for(var e=0;e<t.length;e++)if(t[e].style&&"idea2408"in t[e].style&&t[e].style.idea2408.images){t[e].style.idea2408.pic_url_items=t[e].style.idea2408.images;var n=t[e].style.idea2408.pic_url_items;if(n&&n.length)for(var o=0;o<n.length;o++)n[o].pic=n[o].image_url}}(c.ads),function t(e,n,o){n<=0||e.length<=0||(o.push(e.splice(0,1)),t(e,--n,o))}(c.ads,4,s);var l=4,u=0;r&&r.newImgLink&&(u=1,l-=1),a&&a.length>0&&(u+=a.length,l-=a.length),l>0&&s.length>0&&o.log.xsend(102345,{index:1077,des:"res-show",eid:n});for(var p=u;l>0;p++){l--;var f=s.shift();if(Object(i.$)("#pageNo-"+(p+2)).length&&f&&f.length>0){var d='<div class="hx-warp"><div id="wkad2'+(p+1)+'"></div><a class="ad-logo"></a></div>';Object(i.$)("#pageNo-"+(p+1)).after(d),window.Apex.plugin["parallax-scrolling-webku"]("#wkad2"+(p+1),{im_time_sign:c.im_time_sign,ads:f})}}}else e&&e.code&&o.log.xsend(102345,{index:1077,des:"res-fail",errcode:e.code})};var T=function(){return new u.default((function(t,e){var n=r.b.state.docInfo.title;p.wkAxios.get("/xpage/form/getform",{params:{id:"pinpaiguanggao"}}).then((function(e){e=function(t,e){var n=e&&e.form_data&&e.form_data.list;if(!t||!n)return!1;for(var o=!1,i=0;i<n.length;i++){var r=n[i].words;if(null!==(o=new RegExp(r).exec(t)))return n[i]}return o}(n,e),t(e)})).catch((function(e){t({})}))}))},E=function(t){if(t.newImgLink&&t.clickLink){var e='<div class="hx-warp"><div id="wkad21"><a class="brand-click" href="'+t.clickLink+'"><img class="brand-img" src="'+t.newImgLink+'"></a></div><a class="ad-logo"></a></div>';Object(i.$)("#pageNo-1").after(e),o.log.xsend(102516),Object(i.$)("#wkad21").on("click",".brand-click",(function(){o.log.xsend(102517)}))}};function V(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],o=!0,i=!1,r=void 0;try{for(var a,c=t[Symbol.iterator]();!(o=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){i=!0,r=t}finally{try{o||null==c.return||c.return()}finally{if(i)throw r}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var A=function(t,e,n){u.default.all([T(),S(t,e),d.a.getData(t,e,n)]).then((function(t){var n=V(t,3),o=n[0],i=n[1],r=n[2];o&&E(o),r&&d.a.render({zsyxContent:r,zsyxPlaceId:2149,brandContent:o});var a=r&&r[2149]&&r[2149].adPlaceData;D({pageCenter:i,eid:e,brandContent:o,zsyxData:a})})).catch((function(t){console.log("===err:",t)}))};function L(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var N=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.docType=""}var e,n,u;return e=t,(n=[{key:"init",value:function(t){this.opts=t||{};var e=t.docInfo2019,n=t.hxXapgeDate,o=r.b.getters.isVip;if(this.docInfo2019=e,this.docType=e&&e.doc_info&&e.doc_info.doc_type,this.hxXapgeDate=n&&n.form_data,!(n&&a.a.getTestBaiDuID(100)>=+this.hxXapgeDate.newHxReqStr)){var u=!0;n&&a.a.getTestBaiDuID(100)>=+this.hxXapgeDate.zhishiReqStr&&(u=!1);var p=this.getEidStr(this.docType);this.visibleLog(),window.eventBus.on("removeAds",(function(){o?(Object(i.$)(".hx-warp").hide(),c.default.set("noAdCliked",1,{path:"/",expires:864e5})):window.eventBus.emit("initNoAdDialog")})),s.a.getEssQuery().then((function(t){l(),Object(i.$)("#reader-container").on("click",".ad-logo",(function(){window.eventBus.emit("removeAds")})),A(t,p,u),k(t,p,u),O(t,p,u)}))}}},{key:"visibleLog",value:function(){i.Util.Common.onElsVisible(".hx-bottom-wrapper",(function(){o.log.xsend(102345,{index:1983,des:"show"})})),i.Util.Common.onElsVisible(".hx-right-bottom",(function(){o.log.xsend(102345,{index:1985,des:"show"})})),i.Util.Common.onElsVisible(".hx-right-up",(function(){o.log.xsend(102345,{index:1984,des:"show"})}))}},{key:"getEidStr",value:function(t){var e=[];this.isVip&&e.push(40901),2==+t&&e.push(10001);var n=a.a.getTestBaiDuID(100);n>=0&&n<=9&&e.push(20001);var o=r.b.getters,i=o.wkSmallflow,c=o.testData11,s=+(null==i?void 0:i.wkWeb2024);1===s?e.push(92301):2===s&&e.push(92304);var l={0:111103,1:111101,2:111102}[+(null==c?void 0:c.wkWeb2781)];return l&&e.push(l),e.join(",")}}])&&L(e.prototype,n),u&&L(e,u),t}();e.a=new N},,,,,function(t,e,n){"use strict";var o=n(128);n.n(o).a},function(t,e,n){"use strict";var o=n(129);n.n(o).a},,function(t,e,n){"use strict";var o=n(131);n.n(o).a},function(t,e,n){"use strict";var o=n(132);n.n(o).a},function(t,e,n){"use strict";var o=n(133);n.n(o).a},function(t,e,n){"use strict";var o=n(134);n.n(o).a},function(t,e,n){"use strict";var o=n(135);n.n(o).a},function(t,e,n){"use strict";var o=n(136);n.n(o).a},function(t,e,n){"use strict";var o=n(137);n.n(o).a},function(t,e,n){"use strict";var o=n(138);n.n(o).a},function(t,e,n){"use strict";var o=n(139);n.n(o).a},function(t,e,n){"use strict";var o=n(140);n.n(o).a},function(t,e,n){"use strict";var o=n(141);n.n(o).a},function(t,e,n){"use strict";var o=n(142);n.n(o).a},function(t,e,n){"use strict";var o=n(143);n.n(o).a},function(t,e,n){"use strict";var o=n(144);n.n(o).a},function(t,e,n){"use strict";var o=n(145);n.n(o).a},function(t,e,n){"use strict";var o=n(146);n.n(o).a},function(t,e,n){"use strict";var o=n(147);n.n(o).a},function(t,e,n){"use strict";var o=n(148);n.n(o).a},function(t,e,n){"use strict";var o=n(149);n.n(o).a},,,,,,,function(t,e,n){"use strict";var o=n(156);n.n(o).a},function(t,e,n){"use strict";var o=n(157);n.n(o).a},,function(t,e,n){"use strict";var o=n(159);n.n(o).a},function(t,e,n){"use strict";var o=n(160);n.n(o).a},,,,function(t,e,n){"use strict";var o=n(164);n.n(o).a},function(t,e,n){"use strict";var o=n(165);n.n(o).a},function(t,e,n){"use strict";var o=n(166);n.n(o).a},,function(t,e,n){"use strict";var o=n(168);n.n(o).a},function(t,e,n){"use strict";var o=n(169);n.n(o).a},function(t,e,n){"use strict";var o=n(170);n.n(o).a},function(t,e,n){"use strict";var o=n(171);n.n(o).a},function(t,e,n){"use strict";var o=n(172);n.n(o).a},function(t,e,n){"use strict";var o=n(173);n.n(o).a},function(t,e,n){"use strict";var o=n(174);n.n(o).a},function(t,e,n){"use strict";var o=n(175);n.n(o).a},function(t,e,n){"use strict";var o=n(176);n.n(o).a},function(t,e,n){"use strict";var o=n(177);n.n(o).a},function(t,e,n){"use strict";var o=n(178);n.n(o).a},function(t,e,n){"use strict";var o=n(179);n.n(o).a},,function(t,e,n){"use strict";var o=n(181);n.n(o).a},function(t,e,n){"use strict";var o=n(182);n.n(o).a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var o=n(212);n.n(o).a},function(t,e,n){"use strict";var o=n(213);n.n(o).a},function(t,e,n){"use strict";var o=n(214);n.n(o).a},function(t,e,n){"use strict";var o=n(215);n.n(o).a},function(t,e,n){"use strict";var o=n(216);n.n(o).a},function(t,e,n){"use strict";var o=n(217);n.n(o).a},function(t,e,n){"use strict";var o=n(218);n.n(o).a},function(t,e,n){"use strict";var o=n(219);n.n(o).a},function(t,e,n){"use strict";var o=n(220);n.n(o).a},function(t,e,n){"use strict";var o=n(221);n.n(o).a},function(t,e,n){"use strict";var o=n(222);n.n(o).a},function(t,e,n){"use strict";var o=n(223);n.n(o).a},function(t,e,n){"use strict";var o=n(224);n.n(o).a},function(t,e,n){"use strict";var o=n(225);n.n(o).a},function(t,e,n){"use strict";var o=n(226);n.n(o).a},function(t,e,n){"use strict";var o=n(227);n.n(o).a},function(t,e,n){"use strict";var o=n(228);n.n(o).a},function(t,e,n){"use strict";var o=n(229);n.n(o).a},function(t,e,n){"use strict";var o=n(230);n.n(o).a},function(t,e,n){"use strict";var o=n(231);n.n(o).a},function(t,e,n){"use strict";var o=n(232);n.n(o).a},function(t,e,n){"use strict";var o=n(233);n.n(o).a},function(t,e,n){"use strict";var o=n(234);n.n(o).a},function(t,e,n){"use strict";var o=n(235);n.n(o).a},function(t,e,n){"use strict";var o=n(236);n.n(o).a},function(t,e,n){"use strict";var o=n(237);n.n(o).a}]]);